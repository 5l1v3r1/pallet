<html>
  <head>
    <title>pallet API reference (Pallet)</title>
    <link href="static/favicon.png" rel="icon" />
    <link href="static/favicon.png" rel="shortcut icon" />
    <link media="all" type="text/css" href="static/clojure.css" rel="stylesheet" />
    <link media="all" type="text/css" href="static/wiki.css" rel="stylesheet" />
    <link media="all" type="text/css" href="static/internal.css" rel="stylesheet" />
    <!-- TODO: are we using these (from clojure.org)? If so, add the files -->
    <script src="file/view/code_highlighter.js" type="text/javascript"></script>
    <script src="file/view/clojure.js" type="text/javascript"></script>
    <style>.menuWrapper{height: 36px;}</style>
    <!--[if lte IE 6]>
    <link rel="stylesheet" href="http://www.wikispaces.com/_/2009051601/s/internal_ie.css" type="text/css" />
    <![endif]-->
  </head>
<!--
This document was auto-generated from the source by the clojure autodoc system.
To report errors or ask questions about the overall documentation structure, formatting,
etc., contact Tom Faulhaber (google mail name: tomfaulhaber).
For errors in the documentation of a particular namespace, contact the author of that
namespace.
-->
  <body>
    <div id="AllContentContainer">
      <div id="Header">
	<a id="Logo" href="index.html"><img alt="Clojure" height="100" width="100" src="static/clojure-icon.gif" /></a>
	<h1><a title="page header title" id="page-header" href="index.html">Pallet</a></h1>
      </div>
      <div id="leftcolumn"><div style="text-align: center;"></div>
<div class="menu">
  <div class="WikiCustomNav WikiElement wiki">
    <a class="wiki_link" href="index.html">Overview</a><br />
    <a class="wiki_link" href="api-index.html">API Index</a><br />
    <a class="wiki_link" href="#">Namespaces:</a>
    <ul id="left-sidebar-list">
      <li><a href="demo-api.html" class="wiki_link">demo</a></li><li><a href="pallet-api.html" class="wiki_link">pallet</a></li>
    </ul>
  </div>
</div>
</div>
      <div id="rightcolumn">
	<div id="Content">
	  <div class="contentBox"><div class="innerContentBox">
              <div id="content_view" class="wiki wikiPage">
                <div id="right-sidebar"><div id="toc">
  <h1 class="nopad">Table of Contents</h1>
  <div style="margin-left: 1em;" class="toc-section">
    <a href="#toc0">Overview</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.bootstrap">pallet.bootstrap</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.bootstrap/bootstrap-admin-user">bootstrap-admin-user</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.bootstrap/bootstrap-fragment">bootstrap-fragment</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.bootstrap/bootstrap-script">bootstrap-script</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.bootstrap/bootstrap-template">bootstrap-template</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.bootstrap/bootstrap-with">bootstrap-with</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.bootstrap/with-bootstrap-repo">with-bootstrap-repo</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.chef">pallet.chef</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.chef/chef-cook-solo">chef-cook-solo</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.chef/configure-with-chef">configure-with-chef</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.chef/cook-node">cook-node</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.chef/output-attributes">output-attributes</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.chef/with-chef-repository">with-chef-repository</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.chef/with-remote-chef-path">with-remote-chef-path</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.compute">pallet.compute</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/boot-if-down">boot-if-down</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/execute-script">execute-script</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/primary-ip">primary-ip</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/reboot">reboot</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/shutdown">shutdown</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/shutdown-node">shutdown-node</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.core">pallet.core</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/*node-templates*">*node-templates*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/adjust-node-counts">adjust-node-counts</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/admin-user">admin-user</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/bootstrap-none">bootstrap-none</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/build-node-template">build-node-template</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/configure-nodes-none">configure-nodes-none</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/converge">converge</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/converge-node-counts">converge-node-counts</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/create-nodes">create-nodes</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/node-template">node-template</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/start-node">start-node</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/with-admin-user">with-admin-user</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/with-node-templates">with-node-templates</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.automated-admin-user">pallet.crate.automated-admin-user</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.automated-admin-user/automated-admin-user">automated-admin-user</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.chef">pallet.crate.chef</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.chef/chef">chef</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.git">pallet.crate.git</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.git/git">git</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.java">pallet.crate.java</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.java/java">java</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.java/java-package-name">java-package-name</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.mysql">pallet.crate.mysql</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.mysql/mysql-conf">mysql-conf</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.mysql/mysql-script">mysql-script</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.public-dns-if-no-nameserver">pallet.crate.public-dns-if-no-nameserver</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.public-dns-if-no-nameserver/public-dns-if-no-nameserver">public-dns-if-no-nameserver</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.resolv">pallet.crate.resolv</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.resolv/resolv">resolv</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.ruby">pallet.crate.ruby</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.ruby/ruby">ruby</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.ruby/ruby-packages">ruby-packages</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.rubygems">pallet.crate.rubygems</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.rubygems/gem">gem</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.rubygems/gem-source">gem-source</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.rubygems/gemrc">gemrc</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.rubygems/rubygems">rubygems</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.ssh-key">pallet.crate.ssh-key</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.ssh-key/authorize-key">authorize-key</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.ssh-key/install-key">install-key</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.sudoers">pallet.crate.sudoers</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.sudoers/sudoers">sudoers</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource">pallet.resource</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/bootstrap-resources">bootstrap-resources</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/build-resource-fn">build-resource-fn</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/build-resources">build-resources</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/configured-resources">configured-resources</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/defcomponent">defcomponent</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/defresource">defresource</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/invoke-resource">invoke-resource</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/output-resources">output-resources</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/reset-resources">reset-resources</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/resource-fn">resource-fn</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource-apply">pallet.resource-apply</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource-apply/configure-node">configure-node</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource-apply/configure-resources">configure-resources</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.directory">pallet.resource.directory</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.directory/directory">directory</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.exec-script">pallet.resource.exec-script</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.file">pallet.resource.file</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.file/file">file</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.hostinfo">pallet.resource.hostinfo</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.package">pallet.resource.package</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/add-scope">add-scope</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/apply-package">apply-package</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/package">package</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/package-manager">package-manager</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/package-manager*">package-manager*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/packages">packages</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.remote-file">pallet.resource.remote-file</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.remote-file/remote-file">remote-file</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.resource-when">pallet.resource.resource-when</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.user">pallet.resource.user</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.user/apply-user">apply-user</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.user/user">user</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.script">pallet.script</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.script/defscript">defscript</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.script/dispatch-target">dispatch-target</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.script/invoke-target">invoke-target</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.script/with-line-number">with-line-number</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.stevedore">pallet.stevedore</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/defimpl">defimpl</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/map-to-arg-string">map-to-arg-string</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/option-args">option-args</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/script">script</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.target">pallet.target</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.target/admin-group">admin-group</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.target/os">os</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.target/packager">packager</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.template">pallet.template</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.template.properties">pallet.template.properties</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.template.properties/properties">properties</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.utils">pallet.utils</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/*admin-user*">*admin-user*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/make-user">make-user</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/remote-sudo">remote-sudo</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/remote-sudo-script">remote-sudo-script</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/sh-script">sh-script</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/slurp-resource">slurp-resource</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/system">system</a>
    </div>
    <br />
  </div>
</div>
</div>
                <div id="content-tag"><h1 id="overview">API for <span id="namespace-name">pallet</span></h1>
by <span id="author">Hugo Duncan</span><br />
<br />Usage:
<pre>
(ns your-namespace
  (:require <span id="long-name">pallet</span>))
</pre><pre>
</pre><h2>Overview</h2>
<pre id="namespace-docstr">
Pallet is used to provision configured compute nodes, and aims to solve the
problem of providing a consistently configured running image across a range of
clouds.  It is designed for use from the Clojure (<a href="http://clojure.org)">http://clojure.org)</a> REPL, and
from clojure scripts.

It uses jclouds (<a href="http://github.com/jclouds/jclouds)">http://github.com/jclouds/jclouds)</a> to gain portable access to
different cloud providers.  While jclouds solves the issue of creating
destroying and configuring cloud level access to nodes, it does not address the
differences in images used across providers.  This is what Pallet adds.

Pallet works with a declaritive map for specifying the number of nodes with a
given tag.  Each tag is used to look up a machine image template specification
and to lookup configuration information.  The converge function then tries to
bring you compute servers into alignment with your declared counts and
configurations.

The bootstrap process for new compute nodes is configurable.  At the moment
there is the possibility of using scripts, which are specialised by tag or
operating system family, and of using installing an admin user with sudo
permissions, using the specified username and password.  Script templates exist
for ensuring a functional resolv configuration, package manager update
installation of rubygems, etc, and can be added to freely.

An installed admin user can be used to execute chef cookbooks using 'chef-solo'.
Once the nodes are bootstrapped, and fall all existing nodes, the configured
node information is written to the 'compute-nodes' cookbook before chef is run
and this provides a :compute_nodes attribute.  The compute-nodes cookbook is
expected to exist in the site-cookbooks of the chef-repository you specify with
`with-chef-repository`. `chef-solo` is then run with chef repository you have
specified using the node tag as a configuration target.

This can also be used to bootstrap chef-server and chef client installation.

API documentation (<a href="http://hugoduncan.github.com/pallet)">http://hugoduncan.github.com/pallet)</a> is available.

## Usage

See demo documentation (http://hugoduncan.github.com/pallet/demo-api.html).

## Todo

Make password handling shell character safe.
Add error handling.
Add progress reporting.
Add templating by cloud provider.

## Installation

Installation is with Leiningen (<a href="http://github.com/technomancy/leiningen)">http://github.com/technomancy/leiningen)</a>.  Add
`[pallet "0.0.1-SNAPSHOT"]` to your :dependencies in project.clj.</pre>
<span id="see-also">See also: 
  <span id="see-also-link">
    <a href="chef">http://wiki.opscode.com/display/chef/Home</a>
  </span><span id="see-also-link">
    <a href="jclouds">http://github.com/jclouds/jclouds</a>
  </span><br />
</span><br />
<h2>Public Variables and Functions</h2>

<h2 id="namespace-name">pallet.bootstrap</h2>
<pre id="namespace-docstr">Boostrap functions.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.bootstrap/bootstrap-admin-user">bootstrap-admin-user</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (bootstrap-admin-user)
       (bootstrap-admin-user user)
       (bootstrap-admin-user user bootstrap-repo)
</pre>
  <pre id="var-docstr">Returns a bootstrap descriptor for installing an admin user.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/bootstrap.clj#L98" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.bootstrap/bootstrap-fragment">bootstrap-fragment</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (bootstrap-fragment fragment tag template)
</pre>
  <pre id="var-docstr">Returns a fragment. Fragments should be resources under the bootstrap
path. It returns the first fragment it finds in the following paths:

  bootstrap/fragment/tag
  bootstrap/fragment/os-family
  bootstrap/fragment</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/bootstrap.clj#L21" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.bootstrap/bootstrap-script">bootstrap-script</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (bootstrap-script tag template)
       (bootstrap-script tag template user)
       (bootstrap-script tag template user bootstrap-url)
</pre>
  <pre id="var-docstr">A script to install chef and create the specified user, enabled for
access with the specified public key.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/bootstrap.clj#L63" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.bootstrap/bootstrap-template">bootstrap-template</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (bootstrap-template fragment)
</pre>
  <pre id="var-docstr">Returns a bootstrap script function that returns a fragment based on
specified template.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/bootstrap.clj#L42" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.bootstrap/bootstrap-with">bootstrap-with</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (bootstrap-with &amp; bootstraps)
</pre>
  <pre id="var-docstr">Specify bootstrap functions to apply.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/bootstrap.clj#L111" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.bootstrap/with-bootstrap-repo">with-bootstrap-repo</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-bootstrap-repo url &amp; body)
</pre>
  <pre id="var-docstr">Define the url used to retrieve the bootstrap repository.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/bootstrap.clj#L53" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.chef</h2>
<pre id="namespace-docstr">Execute chef recipes using chef solo.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.chef/chef-cook-solo">chef-cook-solo</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (chef-cook-solo server command user)
       (chef-cook-solo server command user remote-chef-path)
</pre>
  <pre id="var-docstr">Run a chef solo command on a server.  A command is expected to exist as
chef-repo/config/command.json</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/dbbad8c316fea7d266bf53d4e7859ba5b294badb/src/pallet/chef.clj#L67" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.chef/configure-with-chef">configure-with-chef</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (configure-with-chef)
       (configure-with-chef user)
       (configure-with-chef user repository-path)
</pre>
  <pre id="var-docstr">Generates a function that may me be used to run chef on a sequence of nodes</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/dbbad8c316fea7d266bf53d4e7859ba5b294badb/src/pallet/chef.clj#L99" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.chef/cook-node">cook-node</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (cook-node node user chef-repository)
</pre>
  <pre id="var-docstr">Run chef on the specified node.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/dbbad8c316fea7d266bf53d4e7859ba5b294badb/src/pallet/chef.clj#L87" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.chef/output-attributes">output-attributes</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (output-attributes nodes)
       (output-attributes nodes chef-repository)
</pre>
  <pre id="var-docstr">Writes a desciption of nodes to a chef repository</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/dbbad8c316fea7d266bf53d4e7859ba5b294badb/src/pallet/chef.clj#L57" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.chef/with-chef-repository">with-chef-repository</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-chef-repository path &amp; body)
</pre>
  <pre id="var-docstr">Specifies the chef repository that contains the cookboks and configurations</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/dbbad8c316fea7d266bf53d4e7859ba5b294badb/src/pallet/chef.clj#L13" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.chef/with-remote-chef-path">with-remote-chef-path</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-remote-chef-path path &amp; body)
</pre>
  <pre id="var-docstr">Specifies the path to use for the chef cookbooks on the remote machine.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/dbbad8c316fea7d266bf53d4e7859ba5b294badb/src/pallet/chef.clj#L21" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.compute</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.compute/boot-if-down">boot-if-down</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (boot-if-down nodes)
       (boot-if-down nodes compute)
</pre>
  <pre id="var-docstr">Boot the specified nodes, if they are not running.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/compute.clj#L39" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/execute-script">execute-script</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (execute-script script node)
       (execute-script script node user &amp; options)
</pre>
  <pre id="var-docstr">Execute a script on a specified node. Also accepts an IP or hostname as a
node.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/compute.clj#L74" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/primary-ip">primary-ip</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (primary-ip node)
</pre>
  <pre id="var-docstr">Returns the first public IP for the node.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/compute.clj#L14" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/reboot">reboot</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (reboot nodes)
       (reboot nodes compute)
</pre>
  <pre id="var-docstr">Reboot the specified nodes</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/compute.clj#L33" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/shutdown">shutdown</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (shutdown nodes)
       (shutdown nodes user)
       (shutdown nodes user compute)
</pre>
  <pre id="var-docstr">Shutdown specified nodes</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/compute.clj#L55" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/shutdown-node">shutdown-node</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (shutdown-node node)
       (shutdown-node node user)
       (shutdown-node node user compute)
</pre>
  <pre id="var-docstr">Shutdown a node.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/compute.clj#L46" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.core</h2>
<pre id="namespace-docstr">Pallet is used to provision configured compute nodes using jclouds and chef.

It uses a declaritive map for specifying the number of nodes with a given tag.
Each tag is used to look up a machine image template specification (in
jclouds), and to lookup configuration information (in chef).  The converge
function then tries to bring you compute servers into alignment with your
declared counts and configurations.

The bootstrap process for new compute nodes installs a user with sudo
permissions, using the specified username and password. The installed user is
used to execute the chef cookbooks.

Once the nodes are bootstrapped, and fall all existing nodes
the configured node information is written to the "compute-nodes" cookbook
before chef is run, and this provides a :compute_nodes attribute.  The
compute-nodes cookbook is expected to exist in the site-cookbooks of the
chef-repository you specify with `with-chef-repository`.

`chef-solo` is then run with chef repository you have specified using the node
tag as a configuration target.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.core/*node-templates*">*node-templates*</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">Map from tag keyword to template specification.  Each template
specification is a vector of arguments for build-template.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ad330556b930b4eb2e34dc879dc69147c9212d5b/src/pallet/core.clj#L60" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/adjust-node-counts">adjust-node-counts</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (adjust-node-counts compute delta-map nodes)
       (adjust-node-counts compute delta-map nodes bootstrap)
</pre>
  <pre id="var-docstr">Start or stop the specified number of nodes.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ad330556b930b4eb2e34dc879dc69147c9212d5b/src/pallet/core.clj#L147" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/admin-user">admin-user</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (admin-user user &amp; options)
</pre>
  <pre id="var-docstr">Set the root binding for the admin user.
The user arg is a map as returned by make-user, or a username.
When passing a username the following options can be specified:
  :password
  :private-key-path
  :public-key-path</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ad330556b930b4eb2e34dc879dc69147c9212d5b/src/pallet/core.clj#L46" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/bootstrap-none">bootstrap-none</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">Default bootstrap option. A no-op.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ad330556b930b4eb2e34dc879dc69147c9212d5b/src/pallet/core.clj#L110" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/build-node-template">build-node-template</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (build-node-template compute options)
       (build-node-template compute options public-key-path init-script)
</pre>
  <pre id="var-docstr">Build a template for passing to jclouds run-nodes.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ad330556b930b4eb2e34dc879dc69147c9212d5b/src/pallet/core.clj#L70" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/configure-nodes-none">configure-nodes-none</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (configure-nodes-none compute new-nodes)
</pre>
  <pre id="var-docstr">A function for no configuration</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ad330556b930b4eb2e34dc879dc69147c9212d5b/src/pallet/core.clj#L172" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/converge">converge</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (converge node-map &amp; options)
</pre>
  <pre id="var-docstr">Converge the existing compute resources with what is specified in node-map.
Returns a sequence containing the node metadata for new nodes.

Takes node-map ( bootstrap-fn configure-fn? )? compute-service?

Nodes in excess of those specified in node-map are destroyed.  Conversely, if
the node count for a given tag is too low, new nodes are started.  The image
template for a given tag is looked up in *node-templates*, which can be bound
using (with-node-templates ...)

Templates specify a vector of features that should match a single image.  The
keywords match those used in jclouds TemplateBuilder, adjusted for clojure
conventions (so imageId becomes :image-id).  Values for the jclouds enums used
in TemplateBuilder are recognised (eg. :ubuntu).

bootstrap-fn is executed while logged in as the default image user, and is only
executed when starting new images.  configure-fn is executed as the
*admin-user* which can be bound using (with-admin-user ...), and is always
executed.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ad330556b930b4eb2e34dc879dc69147c9212d5b/src/pallet/core.clj#L183" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/converge-node-counts">converge-node-counts</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (converge-node-counts compute node-map)
       (converge-node-counts compute node-map bootstrap)
</pre>
  <pre id="var-docstr">Converge the nodes counts, given a compute facility and a reference number of
instances.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ad330556b930b4eb2e34dc879dc69147c9212d5b/src/pallet/core.clj#L160" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/create-nodes">create-nodes</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (create-nodes tag count compute)
       (create-nodes tag count bootstrap compute)
</pre>
  <pre id="var-docstr">Create count nodes based on the template for tag. The boostrap argument
expects a map with :authorize-public-key and :bootstrap-script keys.  The
bootstrap-script value is expected tobe a function that produces a
script that is run with root privileges immediatly after first boot.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ad330556b930b4eb2e34dc879dc69147c9212d5b/src/pallet/core.clj#L121" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/node-template">node-template</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (node-template compute target public-key-path init-script)
       (node-template compute target public-key-path init-script node-templates)
</pre>
  <pre id="var-docstr">Build the template for specified target node and compute context</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ad330556b930b4eb2e34dc879dc69147c9212d5b/src/pallet/core.clj#L87" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/start-node">start-node</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (start-node tag template)
       (start-node tag template compute)
</pre>
  <pre id="var-docstr">Convenience function for explicitly starting nodes.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ad330556b930b4eb2e34dc879dc69147c9212d5b/src/pallet/core.clj#L104" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/with-admin-user">with-admin-user</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-admin-user user &amp; exprs)
</pre>
  <pre id="var-docstr">Specify the admin user for running remote commands.  The user is specified
either as a user map, which can be created with make-user, or as an argument
list that will be passed to make-user.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ad330556b930b4eb2e34dc879dc69147c9212d5b/src/pallet/core.clj#L37" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/with-node-templates">with-node-templates</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-node-templates map &amp; body)
</pre>
  <pre id="var-docstr">Set the template map</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ad330556b930b4eb2e34dc879dc69147c9212d5b/src/pallet/core.clj#L64" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.automated-admin-user</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.automated-admin-user/automated-admin-user">automated-admin-user</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (automated-admin-user)
       (automated-admin-user username)
       (automated-admin-user username public-key-path)
</pre>
  <pre id="var-docstr">Builds a user for use in remote-admin automation. The user is given
permission to sudo without password, so that passwords don't have to appear
in scripts, etc.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/crate/automated_admin_user.clj#L7" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.chef</h2>
<pre id="namespace-docstr">Installation of chef</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.chef/chef">chef</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (chef)
</pre>
  <pre id="var-docstr">Install chef</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/f2716f1787fc2a1c627ff4771a9a206a222f85b2/src/pallet/crate/chef.clj#L8" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.git</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.git/git">git</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (git)
</pre>
  <pre id="var-docstr">Install git</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/crate/git.clj#L6" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.java</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.java/java">java</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (java &amp; options)
</pre>
  <pre id="var-docstr">Install java.  Options can be :sun, :openjdk, :jdk, :jre.
By default sun jdk will be installed.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/34b71202c2ba01a3d9c2785c96125a197782f2ec/src/pallet/crate/java.clj#L26" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.java/java-package-name">java-package-name</h2>
  <span id="var-type">multimethod</span><br />
  <pre id="var-usage">No usage documentation available</pre>
  <pre id="var-docstr">lookup package name</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/34b71202c2ba01a3d9c2785c96125a197782f2ec/src/pallet/crate/java.clj#L6" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.mysql</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.mysql/mysql-conf">mysql-conf</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (mysql-conf config)
</pre>
  <pre id="var-docstr">my.cnf configuration file for mysql</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ad330556b930b4eb2e34dc879dc69147c9212d5b/src/pallet/crate/mysql.clj#L39" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.mysql/mysql-script">mysql-script</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (mysql-script username password sql-script)
</pre>
  <pre id="var-docstr">Execute a mysql script</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ad330556b930b4eb2e34dc879dc69147c9212d5b/src/pallet/crate/mysql.clj#L48" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.public-dns-if-no-nameserver</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.public-dns-if-no-nameserver/public-dns-if-no-nameserver">public-dns-if-no-nameserver</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (public-dns-if-no-nameserver &amp; nameservers)
</pre>
  <pre id="var-docstr">Install a public nameserver if nonone configured</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/crate/public_dns_if_no_nameserver.clj#L10" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.resolv</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.resolv/resolv">resolv</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (resolv domainname nameservers &amp; options)
</pre>
  <pre id="var-docstr">Resolv configuration. Generates a resolv.conf file.
options are:

:search    search order
:sortlist  sortlist

or one of the resolv.conf options</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ad330556b930b4eb2e34dc879dc69147c9212d5b/src/pallet/crate/resolv.clj#L69" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.ruby</h2>
<pre id="namespace-docstr">Installation of ruby from source</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.ruby/ruby">ruby</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (ruby)
       (ruby version)
</pre>
  <pre id="var-docstr">Install ruby from source</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ad330556b930b4eb2e34dc879dc69147c9212d5b/src/pallet/crate/ruby.clj#L30" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.ruby/ruby-packages">ruby-packages</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (ruby-packages)
</pre>
  <pre id="var-docstr">Install ruby from packages</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ad330556b930b4eb2e34dc879dc69147c9212d5b/src/pallet/crate/ruby.clj#L68" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.rubygems</h2>
<pre id="namespace-docstr">Installation of rubygems from source</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.rubygems/gem">gem</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (gem name &amp; options)
</pre>
  <pre id="var-docstr">Gem management.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ad330556b930b4eb2e34dc879dc69147c9212d5b/src/pallet/crate/rubygems.clj#L73" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.rubygems/gem-source">gem-source</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (gem-source source &amp; options)
</pre>
  <pre id="var-docstr">Gem source management.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ad330556b930b4eb2e34dc879dc69147c9212d5b/src/pallet/crate/rubygems.clj#L87" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.rubygems/gemrc">gemrc</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (gemrc m &amp; user?)
</pre>
  <pre id="var-docstr">rubygems configuration</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ad330556b930b4eb2e34dc879dc69147c9212d5b/src/pallet/crate/rubygems.clj#L96" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.rubygems/rubygems">rubygems</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (rubygems)
       (rubygems version)
</pre>
  <pre id="var-docstr">Install rubygems from source</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ad330556b930b4eb2e34dc879dc69147c9212d5b/src/pallet/crate/rubygems.clj#L29" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.ssh-key</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.ssh-key/authorize-key">authorize-key</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (authorize-key username public-key-string)
</pre>
  <pre id="var-docstr">Authorize a public key on the specified user.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/crate/ssh_key.clj#L43" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.ssh-key/install-key">install-key</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (install-key username private-key-name private-key-string public-key-string)
</pre>
  <pre id="var-docstr">Install a ssh private key</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/crate/ssh_key.clj#L59" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.sudoers</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.sudoers/sudoers">sudoers</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (sudoers aliases defaults specs)
</pre>
  <pre id="var-docstr">Sudo configuration. Generates a sudoers file.
By default, root and an admin group are already present.

Examples of the arguments are:

aliases { :user { :ADMINS [ "user1" "user2" ] }
          :host { :TRUSTED [ "host1" ] }
          :run-as-user { :OP [ "root" "sysop" ] }
          :cmnd { :KILL [ "kill" ]
                  :SHELLS [ "/usr/bin/sh" "/usr/bin/csh" "/usr/bin/ksh"]}}
default-map { :default { :fqdn true }
              :host { "host" { :lecture false } }
              :user { "user" { :lecture false } }
              :run-as-user { "sysop" { :lecture false } } }
specs [ { ["user1" "user2"]
          { :host :TRUSTED
            :KILL { :run-as-user "operator" :tags :NOPASSWORD }
            ["/usr/bin/*" "/usr/local/bin/*"] { :run-as-user "root" :tags [:NOEXEC :NOPASSWORD} }</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/9e169a7f37ff0e3cc899ffc56580ac5d81ab813b/src/pallet/crate/sudoers.clj#L127" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.resource</h2>
<pre id="namespace-docstr">Resource definition interface.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource/bootstrap-resources">bootstrap-resources</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (bootstrap-resources &amp; body)
</pre>
  <pre id="var-docstr">Returns a map that can be used with bootstrap-with.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/f2716f1787fc2a1c627ff4771a9a206a222f85b2/src/pallet/resource.clj#L111" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/build-resource-fn">build-resource-fn</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (build-resource-fn &amp; body)
</pre>
  <pre id="var-docstr">Returns a function that outputs the resources specified in the body.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/f2716f1787fc2a1c627ff4771a9a206a222f85b2/src/pallet/resource.clj#L94" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/build-resources">build-resources</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (build-resources &amp; body)
</pre>
  <pre id="var-docstr">Outputs the resources specified in the body.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/f2716f1787fc2a1c627ff4771a9a206a222f85b2/src/pallet/resource.clj#L86" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/configured-resources">configured-resources</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (configured-resources)
</pre>
  <pre id="var-docstr">The currently configured resources</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/f2716f1787fc2a1c627ff4771a9a206a222f85b2/src/pallet/resource.clj#L39" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/defcomponent">defcomponent</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defcomponent facility &amp; args)
</pre>
  <pre id="var-docstr">defcomponent is used to define a resource and takes the following arguments:
      [f args]

f is a function that will accept the arguments and produce a resource.
args is the argument signature for the resource, and must end with a variadic element.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/f2716f1787fc2a1c627ff4771a9a206a222f85b2/src/pallet/resource.clj#L65" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/defresource">defresource</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defresource facility &amp; args)
</pre>
  <pre id="var-docstr">defresource is used to define a resource and takes the following arguments:
      [arg-var apply-fn args]

arg-var is a var that will be used to collect the information passed by
multiple invocations of the resource. It should be initialised with (atom []).

apply-fn is a function that will read arg-var and produce a resource.

args is the argument signature for the resource.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/f2716f1787fc2a1c627ff4771a9a206a222f85b2/src/pallet/resource.clj#L44" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/invoke-resource">invoke-resource</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (invoke-resource invoke-fn args)
       (invoke-resource arg-var invoke-fn args)
</pre>
  <pre id="var-docstr">Handle invocation of a resource.  Invocation should add the args to the
resources configuration args, and add the resource to the required-resources
as a [invoke-fn arg-var] tuple.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/f2716f1787fc2a1c627ff4771a9a206a222f85b2/src/pallet/resource.clj#L20" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/output-resources">output-resources</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (output-resources resources)
</pre>
  <pre id="var-docstr">Invoke all passed resources.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/f2716f1787fc2a1c627ff4771a9a206a222f85b2/src/pallet/resource.clj#L81" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/reset-resources">reset-resources</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (reset-resources)
</pre>
  <pre id="var-docstr">Reset the list of resources that should be applied to a target</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/f2716f1787fc2a1c627ff4771a9a206a222f85b2/src/pallet/resource.clj#L16" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/resource-fn">resource-fn</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (resource-fn &amp; body)
</pre>
  <pre id="var-docstr">Returns a function that binds the target tag and template and outputs the
resources specified in the body.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/f2716f1787fc2a1c627ff4771a9a206a222f85b2/src/pallet/resource.clj#L102" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.resource-apply</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource-apply/configure-node">configure-node</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (configure-node node f)
       (configure-node node f template)
       (configure-node node f template user &amp; options)
</pre>
  <pre id="var-docstr">Configure nodes using the specified configuration function.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/resource_apply.clj#L12" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource-apply/configure-resources">configure-resources</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (configure-resources [&amp; user] &amp; body)
</pre>
  <pre id="var-docstr">Generates a function that may me be used to run chef on a sequence of nodes</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/resource_apply.clj#L25" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.resource.directory</h2>
<pre id="namespace-docstr">Directory manipulation.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.directory/directory">directory</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (directory path &amp; options)
</pre>
  <pre id="var-docstr">Directory management.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/resource/directory.clj#L48" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.resource.exec-script</h2>
<pre id="namespace-docstr">Script execution.</pre>
<br />

<h2 id="namespace-name">pallet.resource.file</h2>
<pre id="namespace-docstr">File manipulation.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.file/file">file</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (file filename &amp; options)
</pre>
  <pre id="var-docstr">File management.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/resource/file.clj#L75" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.resource.hostinfo</h2>
<pre id="namespace-docstr">Host information.</pre>
<br />

<h2 id="namespace-name">pallet.resource.package</h2>
<pre id="namespace-docstr">Package management resource.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/add-scope">add-scope</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-scope type scope file)
</pre>
  <pre id="var-docstr">Add a scope to all the existing package sources</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/resource/package.clj#L94" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/apply-package">apply-package</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (apply-package package-name &amp; options)
</pre>
  <pre id="var-docstr">Package management</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/resource/package.clj#L56" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/package">package</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (package packagename &amp; options)
</pre>
  <pre id="var-docstr">Package management.
</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/resource/package.clj#L89" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/package-manager">package-manager</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (package-manager action &amp; options)
</pre>
  <pre id="var-docstr">Package manager controls.
:multiverse        - enable multiverse
:update            - update the package manager</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/resource/package.clj#L137" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/package-manager*">package-manager*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (package-manager* action &amp; options)
</pre>
  <pre id="var-docstr">Package management</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/resource/package.clj#L109" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/packages">packages</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (packages &amp; options)
</pre>
  <pre id="var-docstr">Install a list of packages keyed on packager</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/resource/package.clj#L143" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.resource.remote-file</h2>
<pre id="namespace-docstr">File Contents.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.remote-file/remote-file">remote-file</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (remote-file filename &amp; options)
</pre>
  <pre id="var-docstr">File contents management.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/resource/remote_file.clj#L31" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.resource.resource-when</h2>
<pre id="namespace-docstr">Conditional resource execution.</pre>
<br />

<h2 id="namespace-name">pallet.resource.user</h2>
<pre id="namespace-docstr">User management resource.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.user/apply-user">apply-user</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (apply-user username &amp; options)
</pre>
  <pre id="var-docstr">Require a user</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6ae8e7189f76954da11999b88ef4f421654bcc8f/src/pallet/resource/user.clj#L44" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.user/user">user</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (user username &amp; options)
</pre>
  <pre id="var-docstr">User management.
</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6ae8e7189f76954da11999b88ef4f421654bcc8f/src/pallet/resource/user.clj#L87" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.script</h2>
<pre id="namespace-docstr">Base infrastructure for script generation</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.script/defscript">defscript</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defscript name [&amp; args])
</pre>
  <pre id="var-docstr">Define a script fragment</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/f2716f1787fc2a1c627ff4771a9a206a222f85b2/src/pallet/script.clj#L78" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.script/dispatch-target">dispatch-target</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (dispatch-target script &amp; args)
</pre>
  <pre id="var-docstr">Invoke target, raising if there is no implementation.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/f2716f1787fc2a1c627ff4771a9a206a222f85b2/src/pallet/script.clj#L56" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.script/invoke-target">invoke-target</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (invoke-target script args)
</pre>
  <pre id="var-docstr">Invoke target when possible, otherwise return nil</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/f2716f1787fc2a1c627ff4771a9a206a222f85b2/src/pallet/script.clj#L65" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.script/with-line-number">with-line-number</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-line-number &amp; body)
</pre>
  <pre id="var-docstr">Record the source line number</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/f2716f1787fc2a1c627ff4771a9a206a222f85b2/src/pallet/script.clj#L15" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.stevedore</h2>
<pre id="namespace-docstr">Embed shell script in clojure</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/defimpl">defimpl</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defimpl script-name specialisers [&amp; args] &amp; body)
</pre>
  <pre id="var-docstr">Define a script fragment implementation for a given set of specialisers</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/stevedore.clj#L315" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/map-to-arg-string">map-to-arg-string</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (map-to-arg-string m &amp; options)
</pre>
  <pre id="var-docstr">Output a set of command line switches from a map</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/stevedore.clj#L20" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/option-args">option-args</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (option-args &amp; options)
</pre>
  <pre id="var-docstr">Output a set of command line switches from a sequence of options</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/stevedore.clj#L31" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/script">script</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (script &amp; forms)
</pre>
  <pre id="var-docstr">Takes one or more forms. Returns a string of the forms translated into javascript</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/stevedore.clj#L309" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.target</h2>
<pre id="namespace-docstr">Provide information about the target image</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.target/admin-group">admin-group</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (admin-group)
       (admin-group target)
</pre>
  <pre id="var-docstr">Default administrator group</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/34b71202c2ba01a3d9c2785c96125a197782f2ec/src/pallet/target.clj#L22" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.target/os">os</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (os)
       (os target)
</pre>
  <pre id="var-docstr">OS family</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/34b71202c2ba01a3d9c2785c96125a197782f2ec/src/pallet/target.clj#L17" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.target/packager">packager</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (packager)
       (packager target)
</pre>
  <pre id="var-docstr">Default package manager</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/34b71202c2ba01a3d9c2785c96125a197782f2ec/src/pallet/target.clj#L30" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.template</h2>
<pre id="namespace-docstr">Template file writing</pre>
<br />

<h2 id="namespace-name">pallet.template.properties</h2>
<pre id="namespace-docstr">A template for writing properties style config files.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.template.properties/properties">properties</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (properties values)
</pre>
  <pre id="var-docstr">Write a properties file based on the input argument.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/template/properties.clj#L14" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.utils</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.utils/*admin-user*">*admin-user*</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">The admin user is used for running remote admin commands that
require root permissions.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/utils.clj#L94" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.utils/make-user">make-user</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (make-user username &amp; options)
</pre>
  <pre id="var-docstr">Create a description of the admin user to be created and used for running
chef.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/utils.clj#L81" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.utils/remote-sudo">remote-sudo</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (remote-sudo server command user)
</pre>
  <pre id="var-docstr">Run a sudo command on a server.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/utils.clj#L116" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.utils/remote-sudo-script">remote-sudo-script</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (remote-sudo-script server command user &amp; options)
</pre>
  <pre id="var-docstr">Run a sudo script on a server.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/utils.clj#L138" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.utils/sh-script">sh-script</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (sh-script command)
</pre>
  <pre id="var-docstr">Run a sudo script on a server.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/utils.clj#L175" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.utils/slurp-resource">slurp-resource</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (slurp-resource name)
       (slurp-resource name enc)
</pre>
  <pre id="var-docstr">Reads the resource named by name using the encoding enc into a string
and returns it.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/utils.clj#L40" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.utils/system">system</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (system cmd)
</pre>
  <pre id="var-docstr">Launch a system process, return a map containing the exit code, stahdard
output and standard error of the process.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/utils.clj#L98" id="var-source">Source</a>
</div>


</div>
              </div>
            </div>
          </div>
	</div>
	<div id="foot">
	  <div style="text-align: center;" id="copyright">Copyright Hugo Duncan 2010. All rights reserved.</div>
	</div>
      </div>
      <div id="DesignedBy">Logo &amp; site design by <a title="Visit Tom Hickey's website." href="http://www.tomhickey.com">Tom Hickey</a>.<br />
      Clojure auto-documentation system by Tom Faulhaber.</div>
    </div>
    <!-- /AllContentContainer -->
  </body>

</html>