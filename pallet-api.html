<html>
  <head>
    <title>pallet API reference (Pallet)</title>
    <link href="static/favicon.png" rel="icon" />
    <link href="static/favicon.png" rel="shortcut icon" />
    <link media="all" type="text/css" href="static/clojure.css" rel="stylesheet" />
    <link media="all" type="text/css" href="static/wiki.css" rel="stylesheet" />
    <link media="all" type="text/css" href="static/internal.css" rel="stylesheet" />
    <!-- TODO: are we using these (from clojure.org)? If so, add the files -->
    <script src="file/view/code_highlighter.js" type="text/javascript"></script>
    <script src="file/view/clojure.js" type="text/javascript"></script>
    <style>.menuWrapper{height: 36px;}</style>
    <!--[if lte IE 6]>
    <link rel="stylesheet" href="http://www.wikispaces.com/_/2009051601/s/internal_ie.css" type="text/css" />
    <![endif]-->
  </head>
<!--
This document was auto-generated from the source by the clojure autodoc system.
To report errors or ask questions about the overall documentation structure, formatting,
etc., contact Tom Faulhaber (google mail name: tomfaulhaber).
For errors in the documentation of a particular namespace, contact the author of that
namespace.
-->
  <body>
    <div id="AllContentContainer">
      <div id="Header">
	<a id="Logo" href="index.html"><img alt="Clojure" height="100" width="100" src="static/clojure-icon.gif" /></a>
	<h1><a title="page header title" id="page-header" href="index.html">Pallet</a></h1>
      </div>
      <div id="leftcolumn"><div style="text-align: center;"></div>
<div class="menu">
  <div class="WikiCustomNav WikiElement wiki">
    <a class="wiki_link" href="index.html">Overview</a><br />
    <a class="wiki_link" href="api-index.html">API Index</a><br />
    <a class="wiki_link" href="#">Namespaces:</a>
    <ul id="left-sidebar-list">
      <li><a href="demo-api.html" class="wiki_link">demo</a></li><li><a href="pallet-api.html" class="wiki_link">pallet</a></li>
    </ul>
  </div>
</div>
</div>
      <div id="rightcolumn">
	<div id="Content">
	  <div class="contentBox"><div class="innerContentBox">
              <div id="content_view" class="wiki wikiPage">
                <div id="right-sidebar"><div id="toc">
  <h1 class="nopad">Table of Contents</h1>
  <div style="margin-left: 1em;" class="toc-section">
    <a href="#toc0">Overview</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.arguments">pallet.arguments</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.arguments/DelayedArgument">DelayedArgument</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.arguments/computed">computed</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.chef">pallet.chef</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.command-line">pallet.command-line</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.command-line/group-by">group-by</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.command-line/join">join</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.command-line/with-command-line">with-command-line</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.command-script">pallet.command-script</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.compute">pallet.compute</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.core">pallet.core</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.chef">pallet.crate.chef</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.cloudkick">pallet.crate.cloudkick</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.crontab">pallet.crate.crontab</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.cruise-control-rb">pallet.crate.cruise-control-rb</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.etc-default">pallet.crate.etc-default</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.hudson">pallet.crate.hudson</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.iozone">pallet.crate.iozone</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.nginx">pallet.crate.nginx</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.ruby">pallet.crate.ruby</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.rubygems">pallet.crate.rubygems</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.tomcat">pallet.crate.tomcat</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.enlive">pallet.enlive</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.heynote">pallet.heynote</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.heynote/add-comment">add-comment</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.heynote/item">item</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.heynote/items">items</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.heynote/message-map">message-map</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.heynote/new-item">new-item</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.heynote/project">project</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.heynote/send-msg">send-msg</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.main">pallet.main</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.main/-main">-main</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.main/map-and-resolve-symbols">map-and-resolve-symbols</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.main/parse-as-qualified-symbol">parse-as-qualified-symbol</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.main-invoker">pallet.main-invoker</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.maven">pallet.maven</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.md5crypt">pallet.md5crypt</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.md5crypt/clean-salt">clean-salt</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.md5crypt/crypt">crypt</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.md5crypt/to64">to64</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.parameter">pallet.parameter</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.parameter/*parameters*">*parameters*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.parameter/default">default</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.parameter/default-for">default-for</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.parameter/lookup">lookup</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.parameter/update">update</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.parameter/with-parameters">with-parameters</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.repl">pallet.repl</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource">pallet.resource</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.directory">pallet.resource.directory</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.exec-script">pallet.resource.exec-script</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.file">pallet.resource.file</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.hostinfo">pallet.resource.hostinfo</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.package">pallet.resource.package</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.remote-file">pallet.resource.remote-file</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.resource-when">pallet.resource.resource-when</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.service">pallet.resource.service</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.user">pallet.resource.user</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.script">pallet.script</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.stevedore">pallet.stevedore</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.strint">pallet.strint</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.strint/&lt;&lt;!">&lt;&lt;!</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.strint/capture-values">capture-values</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.target">pallet.target</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.converge">pallet.task.converge</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.describe-node">pallet.task.describe-node</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.feedback">pallet.task.feedback</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.help">pallet.task.help</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.task.help/help-for">help-for</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.task.help/tasks">tasks</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.lift">pallet.task.lift</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.new-project">pallet.task.new-project</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.nodes">pallet.task.nodes</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.providers">pallet.task.providers</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.version">pallet.task.version</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.template">pallet.template</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.template.properties">pallet.template.properties</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.utils">pallet.utils</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/*admin-user*">*admin-user*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/make-user">make-user</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/slurp-resource">slurp-resource</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/system">system</a>
    </div>
    <br />
  </div>
</div>
</div>
                <div id="content-tag"><h1 id="overview">API for <span id="namespace-name">pallet</span></h1>
by <span id="author">Hugo Duncan</span><br />
<br />Usage:
<pre>
(ns your-namespace
  (:require <span id="long-name">pallet</span>))
</pre><pre>
</pre><h2>Overview</h2>
<pre id="namespace-docstr">Pallet is used to provision and maintain compute nodes, and aims to solve the
problem of providing a consistently configured running image across a range of
clouds.  It is designed for use from the Clojure (<a href="http://clojure.org)">http://clojure.org)</a> REPL, and
from clojure scripts.

It uses jclouds (<a href="http://github.com/jclouds/jclouds)">http://github.com/jclouds/jclouds)</a> to gain portable access to
different cloud providers.  While jclouds solves the issue of creating
destroying and configuring cloud level access to nodes, it does not address the
differences in images used across providers.  This is what Pallet adds.

Pallet can be used in a declaritive or an imperative fashion. defnode is used to
decalre node types, specifying the image template and possibly bootstrap and
other configuration. The converge function can then be used to control the
number of nodes of each type that are running in your cloud, and applies the
declared configuration as required.  The lift function can also be used to apply
configuration without adjusting node counts.  Both converge and lift both accept
inline definiton of configuration actions that should be run.

In pallet, low level resources can be combined in clojure functions, known as
crates, that are used to specify configuration.  Crates are clojure functions
and can call other crates, with arguments, as required. Crates can be packaged
and distributed as clojure jar files.

Pallet can also execute chef cookbooks using 'chef-solo'.

API documentation (<a href="http://hugoduncan.github.com/pallet)">http://hugoduncan.github.com/pallet)</a> is available.

## Usage

See demo documentation (http://hugoduncan.github.com/pallet/demo-api.html).

## Todo

Make password handling shell character safe.
Add progress reporting.

## Installation

Installation is with Leiningen (<a href="http://github.com/technomancy/leiningen)">http://github.com/technomancy/leiningen)</a>.  Add
`[pallet "0.0.1-SNAPSHOT"]` to your :dependencies in project.clj.</pre>
<span id="see-also">See also: 
  <span id="see-also-link">
    <a href="chef">http://wiki.opscode.com/display/chef/Home</a>
  </span><span id="see-also-link">
    <a href="jclouds">http://github.com/jclouds/jclouds</a>
  </span><br />
</span><br />
<h2>Public Variables and Functions</h2>

<h2 id="namespace-name">pallet.arguments</h2>
<pre id="namespace-docstr">Delayed arguments</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.arguments/DelayedArgument">DelayedArgument</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">A protocol for passing arguments, with delayed evaluation.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/cb1b33838f727922643a6ab8664537f0b9b08c80/src/pallet/arguments.clj#L4" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.arguments/computed">computed</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (computed f)
</pre>
  <pre id="var-docstr">Pass a function to be used to compute an argument at resource applicaiton time.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/cb1b33838f727922643a6ab8664537f0b9b08c80/src/pallet/arguments.clj#L18" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.chef</h2>
<pre id="namespace-docstr">Execute chef recipes using chef solo.</pre>
<br />

<h2 id="namespace-name">pallet.command-line</h2>
<pre id="namespace-docstr">Process command-line arguments according to a given cmdspec</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.command-line/group-by">group-by</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (group-by f coll)
</pre>
  <pre id="var-docstr">Returns a sorted map of the elements of coll keyed by the result of
f on each element. The value at each key will be a vector of the
corresponding elements, in the order they appeared in coll.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/8da9d06639c300b1547aa90577a2a8f3f525fd88/src/pallet/command_line.clj#L24" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.command-line/join">join</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (join separator coll)
</pre>
  <pre id="var-docstr">Returns a string of all elements in coll, separated by
separator.  Like Perl's join.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/8da9d06639c300b1547aa90577a2a8f3f525fd88/src/pallet/command_line.clj#L18" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.command-line/with-command-line">with-command-line</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-command-line args desc cmdspec &amp; body)
</pre>
  <pre id="var-docstr">Bind locals to command-line args.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/8da9d06639c300b1547aa90577a2a8f3f525fd88/src/pallet/command_line.clj#L108" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.command-script</h2>
<pre id="namespace-docstr">Produce a shell script for launching Pallet, possibly customised for extra jars</pre>
<br />

<h2 id="namespace-name">pallet.compute</h2>
<pre id="namespace-docstr">Additions to the jclouds compute interface</pre>
<br />

<h2 id="namespace-name">pallet.core</h2>
<pre id="namespace-docstr">Pallet is used to provision configured compute nodes using jclouds and chef.

It uses a declaritive map for specifying the number of nodes with a given tag.
Each tag is used to look up a machine image template specification (in
jclouds), and to lookup configuration information (in chef).  The converge
function then tries to bring you compute servers into alignment with your
declared counts and configurations.

The bootstrap process for new compute nodes installs a user with sudo
permissions, using the specified username and password. The installed user is
used to execute the chef cookbooks.

Once the nodes are bootstrapped, and fall all existing nodes
the configured node information is written to the "compute-nodes" cookbook
before chef is run, and this provides a :compute_nodes attribute.  The
compute-nodes cookbook is expected to exist in the site-cookbooks of the
chef-repository you specify with `with-chef-repository`.

`chef-solo` is then run with chef repository you have specified using the node
tag as a configuration target.</pre>
<br />

<h2 id="namespace-name">pallet.crate.chef</h2>
<pre id="namespace-docstr">Installation of chef</pre>
<br />

<h2 id="namespace-name">pallet.crate.cloudkick</h2>
<pre id="namespace-docstr">Agent install for cloudkick</pre>
<br />

<h2 id="namespace-name">pallet.crate.crontab</h2>
<pre id="namespace-docstr">crontab management</pre>
<br />

<h2 id="namespace-name">pallet.crate.cruise-control-rb</h2>
<pre id="namespace-docstr">Installation cruise-control.rb</pre>
<br />

<h2 id="namespace-name">pallet.crate.etc-default</h2>
<pre id="namespace-docstr">Generation and installation of /etc/default-style files.</pre>
<br />

<h2 id="namespace-name">pallet.crate.hudson</h2>
<pre id="namespace-docstr">Installation of hudson</pre>
<br />

<h2 id="namespace-name">pallet.crate.iozone</h2>
<pre id="namespace-docstr">Crate for iozone disk benchmark</pre>
<br />

<h2 id="namespace-name">pallet.crate.nginx</h2>
<pre id="namespace-docstr">Crate for nginx management functions</pre>
<br />

<h2 id="namespace-name">pallet.crate.ruby</h2>
<pre id="namespace-docstr">Installation of ruby from source</pre>
<br />

<h2 id="namespace-name">pallet.crate.rubygems</h2>
<pre id="namespace-docstr">Installation of rubygems from source</pre>
<br />

<h2 id="namespace-name">pallet.crate.tomcat</h2>
<pre id="namespace-docstr">Installation of tomcat</pre>
<br />

<h2 id="namespace-name">pallet.enlive</h2>
<pre id="namespace-docstr">Wrappers for enlive to enable template specialisation and use xml.</pre>
<br />

<h2 id="namespace-name">pallet.heynote</h2>
<pre id="namespace-docstr">Heynote feedback client</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.heynote/add-comment">add-comment</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-comment item &amp; options)
</pre>
  <pre id="var-docstr">Receive feedback items</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/8da9d06639c300b1547aa90577a2a8f3f525fd88/src/pallet/heynote.clj#L127" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.heynote/item">item</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (item item &amp; options)
</pre>
  <pre id="var-docstr">Recieve feedback item</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/8da9d06639c300b1547aa90577a2a8f3f525fd88/src/pallet/heynote.clj#L113" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.heynote/items">items</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (items &amp; options)
</pre>
  <pre id="var-docstr">Recieve feedback items</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/8da9d06639c300b1547aa90577a2a8f3f525fd88/src/pallet/heynote.clj#L82" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.heynote/message-map">message-map</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (message-map)
</pre>
  <pre id="var-docstr">Return a map that can be used to send to heynote</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/8da9d06639c300b1547aa90577a2a8f3f525fd88/src/pallet/heynote.clj#L66" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.heynote/new-item">new-item</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (new-item &amp; options)
</pre>
  <pre id="var-docstr">Send new feedback with the given message</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/8da9d06639c300b1547aa90577a2a8f3f525fd88/src/pallet/heynote.clj#L74" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.heynote/project">project</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (project name)
</pre>
  <pre id="var-docstr">Sets and returns the heynote project name</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/8da9d06639c300b1547aa90577a2a8f3f525fd88/src/pallet/heynote.clj#L11" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.heynote/send-msg">send-msg</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (send-msg path method msg-map)
</pre>
  <pre id="var-docstr">Send the given message map.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/8da9d06639c300b1547aa90577a2a8f3f525fd88/src/pallet/heynote.clj#L51" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.main</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.main/-main">-main</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (-main &amp; args)
       (-main)
</pre>
  <pre id="var-docstr">Command line runner.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ed9bf79e652e59da60f306cc491b1454d6dc858d/src/pallet/main.clj#L58" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.main/map-and-resolve-symbols">map-and-resolve-symbols</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (map-and-resolve-symbols symbol-map arg)
</pre>
  <pre id="var-docstr">Function to build a symbol-&gt;value map, requiring namespaces as needed.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ed9bf79e652e59da60f306cc491b1454d6dc858d/src/pallet/main.clj#L47" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.main/parse-as-qualified-symbol">parse-as-qualified-symbol</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (parse-as-qualified-symbol arg)
</pre>
  <pre id="var-docstr">Convert the given string into a namespace qualified symbol.
Returns a vector of ns and symbol</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ed9bf79e652e59da60f306cc491b1454d6dc858d/src/pallet/main.clj#L38" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.main-invoker</h2>
<pre id="namespace-docstr">Invoke tasks requiring a compute service.  This decouples main from anything
pallet, jclouds or maven specific, and ensures compiling main doesn't compile
the world.</pre>
<br />

<h2 id="namespace-name">pallet.maven</h2>
<pre id="namespace-docstr">Maven interaction</pre>
<br />

<h2 id="namespace-name">pallet.md5crypt</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.md5crypt/clean-salt">clean-salt</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (clean-salt salt magic)
</pre>
  <pre id="var-docstr">Clean up a passed salt value</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/0211d990a3135928610235fe41e5999a7d277cfb/src/pallet/md5crypt.clj#L24" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.md5crypt/crypt">crypt</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (crypt password)
       (crypt password salt)
       (crypt password salt magic)
</pre>
  <pre id="var-docstr">LINUX/BSD MD5Crypt function</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/0211d990a3135928610235fe41e5999a7d277cfb/src/pallet/md5crypt.clj#L47" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.md5crypt/to64">to64</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (to64 value n)
</pre>
  <pre id="var-docstr">Return value encoded as n base64 chars</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/0211d990a3135928610235fe41e5999a7d277cfb/src/pallet/md5crypt.clj#L13" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.parameter</h2>
<pre id="namespace-docstr">Provides parameters for use across crates.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.parameter/*parameters*">*parameters*</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">Data that is used across crates or functions.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/cb1b33838f727922643a6ab8664537f0b9b08c80/src/pallet/parameter.clj#L10" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.parameter/default">default</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (default &amp; options)
</pre>
  <pre id="var-docstr">Set values on the default parameters.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/cb1b33838f727922643a6ab8664537f0b9b08c80/src/pallet/parameter.clj#L12" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.parameter/default-for">default-for</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (default-for key &amp; options)
</pre>
  <pre id="var-docstr">Set values on the default parameters for a given key</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/cb1b33838f727922643a6ab8664537f0b9b08c80/src/pallet/parameter.clj#L18" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.parameter/lookup">lookup</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (lookup &amp; keys)
</pre>
  <pre id="var-docstr">Lookup a parameter in a delayed manner. This produces a function, which is
executed by it's toString method.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/cb1b33838f727922643a6ab8664537f0b9b08c80/src/pallet/parameter.clj#L55" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.parameter/update">update</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (update [&amp; keys] value)
</pre>
  <pre id="var-docstr">Update a parameter in the bound parameters</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/cb1b33838f727922643a6ab8664537f0b9b08c80/src/pallet/parameter.clj#L31" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.parameter/with-parameters">with-parameters</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-parameters keys &amp; body)
</pre>
  <pre id="var-docstr">Initialise the parameters binding based on the given keys.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/cb1b33838f727922643a6ab8664537f0b9b08c80/src/pallet/parameter.clj#L25" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.repl</h2>
<pre id="namespace-docstr">A namespace that can be used to pull in most of pallet's namespaces.  uesful
when working at the clojure REPL.</pre>
<br />

<h2 id="namespace-name">pallet.resource</h2>
<pre id="namespace-docstr">Resource definition interface.</pre>
<br />

<h2 id="namespace-name">pallet.resource.directory</h2>
<pre id="namespace-docstr">Directory manipulation.</pre>
<br />

<h2 id="namespace-name">pallet.resource.exec-script</h2>
<pre id="namespace-docstr">Script execution.</pre>
<br />

<h2 id="namespace-name">pallet.resource.file</h2>
<pre id="namespace-docstr">File manipulation.</pre>
<br />

<h2 id="namespace-name">pallet.resource.hostinfo</h2>
<pre id="namespace-docstr">Host information.</pre>
<br />

<h2 id="namespace-name">pallet.resource.package</h2>
<pre id="namespace-docstr">Package management resource.</pre>
<br />

<h2 id="namespace-name">pallet.resource.remote-file</h2>
<pre id="namespace-docstr">File Contents.</pre>
<br />

<h2 id="namespace-name">pallet.resource.resource-when</h2>
<pre id="namespace-docstr">Conditional resource execution.</pre>
<br />

<h2 id="namespace-name">pallet.resource.service</h2>
<pre id="namespace-docstr">Service control.</pre>
<br />

<h2 id="namespace-name">pallet.resource.user</h2>
<pre id="namespace-docstr">User management resource.</pre>
<br />

<h2 id="namespace-name">pallet.script</h2>
<pre id="namespace-docstr">Base infrastructure for script generation</pre>
<br />

<h2 id="namespace-name">pallet.stevedore</h2>
<pre id="namespace-docstr">Embed shell script in clojure</pre>
<br />

<h2 id="namespace-name">pallet.strint</h2>
<pre id="namespace-docstr">Runtime string interpolation built on top of clojure.contrib.strint.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.strint/&lt;&lt;!">&lt;&lt;!</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (&lt;&lt;! f value-map)
</pre>
  <pre id="var-docstr">Interpolate a string given a map of symbol-&gt;value</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/8da9d06639c300b1547aa90577a2a8f3f525fd88/src/pallet/strint.clj#L12" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.strint/capture-values">capture-values</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (capture-values &amp; values)
</pre>
  <pre id="var-docstr">Capture the values of the specified symbols in a symbol-&gt;value map.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/8da9d06639c300b1547aa90577a2a8f3f525fd88/src/pallet/strint.clj#L7" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.target</h2>
<pre id="namespace-docstr">Provide information about the target image</pre>
<br />

<h2 id="namespace-name">pallet.task.converge</h2>
<pre id="namespace-docstr">Adjust node counts.</pre>
<br />

<h2 id="namespace-name">pallet.task.describe-node</h2>
<pre id="namespace-docstr">Adjust node counts.</pre>
<br />

<h2 id="namespace-name">pallet.task.feedback</h2>
<pre id="namespace-docstr">Feedback to the pallet project.
add  - send new feedback. Arguments will be sent as text.
list - show recent feedback.</pre>
<br />

<h2 id="namespace-name">pallet.task.help</h2>
<pre id="namespace-docstr">Display a list of tasks or help for a given task.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.task.help/help-for">help-for</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (help-for task)
</pre>
  <pre id="var-docstr">Help for a task is stored in its docstring, or if that's not present
in its namespace.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/97071cb08ba133dd0c275d5492590d7c7639a762/src/pallet/task/help.clj#L22" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.task.help/tasks">tasks</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (tasks)
</pre>
  <pre id="var-docstr">Find the available tasks.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/97071cb08ba133dd0c275d5492590d7c7639a762/src/pallet/task/help.clj#L7" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.task.lift</h2>
<pre id="namespace-docstr">Apply configuration.</pre>
<br />

<h2 id="namespace-name">pallet.task.new-project</h2>
<pre id="namespace-docstr">Create a new pallet project.
pallet new-project &lt;project-directory&gt;.</pre>
<br />

<h2 id="namespace-name">pallet.task.nodes</h2>
<pre id="namespace-docstr">list nodes.</pre>
<br />

<h2 id="namespace-name">pallet.task.providers</h2>
<pre id="namespace-docstr">Provide information on the supported and enabled providers.</pre>
<br />

<h2 id="namespace-name">pallet.task.version</h2>
<pre id="namespace-docstr">Print Pallet's version to standard out.</pre>
<br />

<h2 id="namespace-name">pallet.template</h2>
<pre id="namespace-docstr">Template file writing</pre>
<br />

<h2 id="namespace-name">pallet.template.properties</h2>
<pre id="namespace-docstr">A template for writing properties style config files.</pre>
<br />

<h2 id="namespace-name">pallet.utils</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.utils/*admin-user*">*admin-user*</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">The admin user is used for running remote admin commands that require root
permissions.  The default admin user is taken from the pallet.admin.username
property.  If not specified then the user.name property is used.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/284ce668b1020656cf5835eb9bd162289e95bf36/src/pallet/utils.clj#L118" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.utils/make-user">make-user</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (make-user username &amp; {:as options})
</pre>
  <pre id="var-docstr">Creates a User record with the given username and options. Generally used
in conjunction with *admin-user* and pallet.core/with-admin-user.
Some options have default values:

:public-key-path (defaults to ~/.ssh/id_rsa.pub)
:private-key-path (defaults to ~/.ssh/id_rsa)
:sudo-password (defaults to :password)</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/284ce668b1020656cf5835eb9bd162289e95bf36/src/pallet/utils.clj#L103" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.utils/slurp-resource">slurp-resource</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (slurp-resource name)
       (slurp-resource name enc)
</pre>
  <pre id="var-docstr">Reads the resource named by name using the encoding enc into a string
and returns it.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/284ce668b1020656cf5835eb9bd162289e95bf36/src/pallet/utils.clj#L58" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.utils/system">system</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (system cmd)
</pre>
  <pre id="var-docstr">Launch a system process, return a map containing the exit code, standard
output and standard error of the process.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/284ce668b1020656cf5835eb9bd162289e95bf36/src/pallet/utils.clj#L125" id="var-source">Source</a>
</div>


</div>
              </div>
            </div>
          </div>
	</div>
	<div id="foot">
	  <div style="text-align: center;" id="copyright">Copyright Hugo Duncan 2010. All rights reserved.</div>
	</div>
      </div>
      <div id="DesignedBy">Logo &amp; site design by <a title="Visit Tom Hickey's website." href="http://www.tomhickey.com">Tom Hickey</a>.<br />
      Clojure auto-documentation system by Tom Faulhaber.</div>
    </div>
    <!-- /AllContentContainer -->
  </body>

</html>