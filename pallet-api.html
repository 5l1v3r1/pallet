<html>
  <head>
    <title>pallet API reference (Pallet)</title>
    <link href="static/favicon.png" rel="icon" />
    <link href="static/favicon.png" rel="shortcut icon" />
    <link media="all" type="text/css" href="static/clojure.css" rel="stylesheet" />
    <link media="all" type="text/css" href="static/wiki.css" rel="stylesheet" />
    <link media="all" type="text/css" href="static/internal.css" rel="stylesheet" />
    <!-- TODO: are we using these (from clojure.org)? If so, add the files -->
    <script src="file/view/code_highlighter.js" type="text/javascript"></script>
    <script src="file/view/clojure.js" type="text/javascript"></script>
    <style>.menuWrapper{height: 36px;}</style>
    <!--[if lte IE 6]>
    <link rel="stylesheet" href="http://www.wikispaces.com/_/2009051601/s/internal_ie.css" type="text/css" />
    <![endif]-->
  </head>
<!--
This document was auto-generated from the source by the clojure autodoc system.
To report errors or ask questions about the overall documentation structure, formatting,
etc., contact Tom Faulhaber (google mail name: tomfaulhaber).
For errors in the documentation of a particular namespace, contact the author of that
namespace.
-->
  <body>
    <div id="AllContentContainer">
      <div id="Header">
	<a id="Logo" href="index.html"><img alt="Clojure" height="100" width="100" src="static/clojure-icon.gif" /></a>
	<h1><a title="page header title" id="page-header" href="index.html">Pallet</a></h1>
      </div>
      <div id="leftcolumn"><div style="text-align: center;"></div>
<div class="menu">
  <div class="WikiCustomNav WikiElement wiki">
    <a class="wiki_link" href="index.html">Overview</a><br />
    <a class="wiki_link" href="api-index.html">API Index</a><br />
    <a class="wiki_link" href="#">Namespaces:</a>
    <ul id="left-sidebar-list">
      <li><a href="demo-api.html" class="wiki_link">demo</a></li><li><a href="pallet-api.html" class="wiki_link">pallet</a></li>
    </ul>
  </div>
</div>
</div>
      <div id="rightcolumn">
	<div id="Content">
	  <div class="contentBox"><div class="innerContentBox">
              <div id="content_view" class="wiki wikiPage">
                <div id="right-sidebar"><div id="toc">
  <h1 class="nopad">Table of Contents</h1>
  <div style="margin-left: 1em;" class="toc-section">
    <a href="#toc0">Overview</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.bootstrap">pallet.bootstrap</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.bootstrap/bootstrap-admin-user">bootstrap-admin-user</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.bootstrap/bootstrap-fragment">bootstrap-fragment</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.bootstrap/bootstrap-script">bootstrap-script</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.bootstrap/bootstrap-template">bootstrap-template</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.bootstrap/bootstrap-with">bootstrap-with</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.bootstrap/with-bootstrap-repo">with-bootstrap-repo</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.chef">pallet.chef</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.chef/chef-cook-solo">chef-cook-solo</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.chef/cook-node">cook-node</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.chef/output-attributes">output-attributes</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.chef/with-chef-repository">with-chef-repository</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.chef/with-remote-chef-path">with-remote-chef-path</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.compat">pallet.compat</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.compute">pallet.compute</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/boot-if-down">boot-if-down</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/execute-script">execute-script</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/make-unmanaged-node">make-unmanaged-node</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/primary-ip">primary-ip</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/reboot">reboot</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/shutdown">shutdown</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/shutdown-node">shutdown-node</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/ssh-port">ssh-port</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.core">pallet.core</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/add-node-type">add-node-type</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/adjust-node-counts">adjust-node-counts</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/admin-user">admin-user</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/apply-phases">apply-phases</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/apply-phases-to-node">apply-phases-to-node</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/build-node-template">build-node-template</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/build-node-template-impl">build-node-template-impl</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/compute-service-and-options">compute-service-and-options</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/converge">converge</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/converge-node-counts">converge-node-counts</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/create-nodes">create-nodes</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/defnode">defnode</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/destroy-nodes-with-count">destroy-nodes-with-count</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/lift">lift</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/node-count-difference">node-count-difference</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/node-in-types?">node-in-types?</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/node-type">node-type</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/node-type-for-tag">node-type-for-tag</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/nodes-for-types">nodes-for-types</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/nodes-in-map">nodes-in-map</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/nodes-in-set">nodes-in-set</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/start-node">start-node</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/with-admin-user">with-admin-user</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/with-no-compute-service">with-no-compute-service</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.automated-admin-user">pallet.crate.automated-admin-user</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.automated-admin-user/automated-admin-user">automated-admin-user</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.chef">pallet.crate.chef</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.chef/chef">chef</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.couchdb">pallet.crate.couchdb</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.couchdb/couchdb">couchdb</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.couchdb/install">install</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.crontab">pallet.crate.crontab</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.crontab/crontab">crontab</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.crontab/system-crontab">system-crontab</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.cruise-control-rb">pallet.crate.cruise-control-rb</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.cruise-control-rb/cruise-control-rb">cruise-control-rb</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.cruise-control-rb/cruise-control-rb-init">cruise-control-rb-init</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.cruise-control-rb/cruise-control-rb-job">cruise-control-rb-job</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.cruise-control-rb/determine-scm-type">determine-scm-type</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.git">pallet.crate.git</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.git/git">git</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.hudson">pallet.crate.hudson</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.hudson/determine-scm-type">determine-scm-type</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.hudson/hudson-maven-xml">hudson-maven-xml</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.hudson/job">job</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.hudson/maven">maven</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.hudson/maven2-job-xml">maven2-job-xml</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.hudson/output-build-for">output-build-for</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.hudson/output-scm-for">output-scm-for</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.hudson/path-for">path-for</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.hudson/plugin">plugin</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.hudson/tomcat-deploy">tomcat-deploy</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.hudson/tomcat-undeploy">tomcat-undeploy</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.java">pallet.crate.java</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.java/java">java</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.java/java-package-name">java-package-name</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.java/jce-policy-file">jce-policy-file</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.mysql">pallet.crate.mysql</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.mysql/mysql-conf">mysql-conf</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.mysql/mysql-script">mysql-script</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.nginx">pallet.crate.nginx</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.nginx/init">init</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.nginx/nginx">nginx</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.nginx/site">site</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.public-dns-if-no-nameserver">pallet.crate.public-dns-if-no-nameserver</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.public-dns-if-no-nameserver/public-dns-if-no-nameserver">public-dns-if-no-nameserver</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.resolv">pallet.crate.resolv</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.resolv/resolv">resolv</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.ruby">pallet.crate.ruby</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.ruby/ruby">ruby</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.ruby/ruby-packages">ruby-packages</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.rubygems">pallet.crate.rubygems</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.rubygems/gem">gem</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.rubygems/gem-source">gem-source</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.rubygems/gemrc">gemrc</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.rubygems/rubygems">rubygems</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.sphinx">pallet.crate.sphinx</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.sphinx/sphinx">sphinx</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.ssh-key">pallet.crate.ssh-key</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.ssh-key/authorize-key">authorize-key</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.ssh-key/authorize-key-for-localhost">authorize-key-for-localhost</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.ssh-key/generate-key">generate-key</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.ssh-key/install-key">install-key</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.ssl">pallet.crate.ssl</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.ssl/ssl-genkey-jks*">ssl-genkey-jks*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.ssl/ssl-import-certificate-jks*">ssl-import-certificate-jks*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.ssl/ssl-import-chain-certificate-jks*">ssl-import-chain-certificate-jks*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.ssl/ssl-import-pkcs12*">ssl-import-pkcs12*</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.sudoers">pallet.crate.sudoers</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.sudoers/sudoers">sudoers</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.tomcat">pallet.crate.tomcat</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/alias">alias</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/application-conf">application-conf</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/classname-for">classname-for</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/connector">connector</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/context">context</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/deploy">deploy</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/engine">engine</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/environment">environment</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/extract-nested-maps">extract-nested-maps</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/flatten-map">flatten-map</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/global-resources">global-resources</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/host">host</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/listener">listener</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/loader">loader</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/pallet-type">pallet-type</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/parameter">parameter</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/path-for">path-for</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/policy">policy</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/realm">realm</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/resource">resource</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/server">server</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/server-configuration">server-configuration</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/server-configuration*">server-configuration*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/service">service</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/ssl-apr-connector">ssl-apr-connector</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/ssl-jsee-connector">ssl-jsee-connector</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/tomcat">tomcat</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/tomcat-server-xml">tomcat-server-xml</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/transaction">transaction</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/undeploy">undeploy</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/undeploy-all">undeploy-all</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/user">user</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/valve">valve</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.tomcat/watched-resource">watched-resource</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.enlive">pallet.enlive</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.enlive/defsnippet">defsnippet</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.enlive/xml-emit">xml-emit</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.enlive/xml-template">xml-template</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.main">pallet.main</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.main/-main">-main</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource">pallet.resource</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/*phase*">*phase*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/*required-resources*">*required-resources*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/after-phase">after-phase</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/build-resources">build-resources</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/configured-resources">configured-resources</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/defaggregate">defaggregate</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/defphases">defphases</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/defresource">defresource</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/execute-after-phase">execute-after-phase</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/in-phase">in-phase</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/invocations-&gt;resource-fns">invocations-&gt;resource-fns</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/invoke-resource">invoke-resource</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/output-bindings">output-bindings</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/output-resources">output-resources</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/phase">phase</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/produce-phases">produce-phases</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/reset-resources">reset-resources</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/resource-phases">resource-phases</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/with-init-resources">with-init-resources</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.directory">pallet.resource.directory</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.directory/directory">directory</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.exec-script">pallet.resource.exec-script</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.file">pallet.resource.file</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.file/file">file</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.hostinfo">pallet.resource.hostinfo</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.package">pallet.resource.package</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/add-scope">add-scope</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/apply-package">apply-package</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/package">package</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/package-manager">package-manager</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/package-manager*">package-manager*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/packages">packages</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.remote-file">pallet.resource.remote-file</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.remote-file/content-options">content-options</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.remote-file/remote-file">remote-file</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.resource-when">pallet.resource.resource-when</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.service">pallet.resource.service</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.service/init-script">init-script</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.service/init-script*">init-script*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.service/service">service</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.service/with-restart">with-restart</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.user">pallet.resource.user</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.user/apply-user">apply-user</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.user/user">user</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.script">pallet.script</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.script/defscript">defscript</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.script/dispatch-target">dispatch-target</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.script/invoke-target">invoke-target</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.script/with-line-number">with-line-number</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.stevedore">pallet.stevedore</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/defimpl">defimpl</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/map-to-arg-string">map-to-arg-string</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/option-args">option-args</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/script">script</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.strint">pallet.strint</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.strint/&lt;&lt;">&lt;&lt;</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.strint/&lt;&lt;!">&lt;&lt;!</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.strint/capture-values">capture-values</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.strint/interpolate">interpolate</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.target">pallet.target</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.target/admin-group">admin-group</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.target/os">os</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.target/packager">packager</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.converge">pallet.task.converge</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.task.converge/converge">converge</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.help">pallet.task.help</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.task.help/help-for">help-for</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.version">pallet.task.version</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.template">pallet.template</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.template/candidate-templates">candidate-templates</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.template/find-template">find-template</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.template/get-resource">get-resource</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.template/interpolate-template">interpolate-template</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.template/path-components">path-components</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.template/pathname">pathname</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.template.properties">pallet.template.properties</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.template.properties/properties">properties</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.utils">pallet.utils</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/*admin-user*">*admin-user*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/make-user">make-user</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/remote-sudo">remote-sudo</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/remote-sudo-script">remote-sudo-script</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/sh-script">sh-script</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/slurp-resource">slurp-resource</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/system">system</a>
    </div>
    <br />
  </div>
</div>
</div>
                <div id="content-tag"><h1 id="overview">API for <span id="namespace-name">pallet</span></h1>
by <span id="author">Hugo Duncan</span><br />
<br />Usage:
<pre>
(ns your-namespace
  (:require <span id="long-name">pallet</span>))
</pre><pre>
</pre><h2>Overview</h2>
<pre id="namespace-docstr">
Pallet is used to provision and maintain compute nodes, and aims to solve the
problem of providing a consistently configured running image across a range of
clouds.  It is designed for use from the Clojure (<a href="http://clojure.org)">http://clojure.org)</a> REPL, and
from clojure scripts.

It uses jclouds (<a href="http://github.com/jclouds/jclouds)">http://github.com/jclouds/jclouds)</a> to gain portable access to
different cloud providers.  While jclouds solves the issue of creating
destroying and configuring cloud level access to nodes, it does not address the
differences in images used across providers.  This is what Pallet adds.

Pallet can be used in a declaritive or an imperative fashion. defnode is used to
decalre node types, specifying the image template and possibly bootstrap and
other configuration. The converge function can then be used to control the
number of nodes of each type that are running in your cloud, and applies the
declared configuration as required.  The lift function can also be used to apply
configuration without adjusting node counts.  Both converge and lift both accept
inline definiton of configuration actions that should be run.

In pallet, low level resources can be combined in clojure functions, known as
crates, that are used to specify configuration.  Crates are clojure functions
and can call other crates, with arguments, as required. Crates can be packaged
and distributed as clojure jar files.

Pallet can also execute chef cookbooks using 'chef-solo'.

API documentation (<a href="http://hugoduncan.github.com/pallet)">http://hugoduncan.github.com/pallet)</a> is available.

## Usage

See demo documentation (http://hugoduncan.github.com/pallet/demo-api.html).

## Todo

Make password handling shell character safe.
Add error handling.
Add progress reporting.
Add templating by cloud provider.

## Installation

Installation is with Leiningen (<a href="http://github.com/technomancy/leiningen)">http://github.com/technomancy/leiningen)</a>.  Add
`[pallet "0.0.1-SNAPSHOT"]` to your :dependencies in project.clj.</pre>
<span id="see-also">See also: 
  <span id="see-also-link">
    <a href="chef">http://wiki.opscode.com/display/chef/Home</a>
  </span><span id="see-also-link">
    <a href="jclouds">http://github.com/jclouds/jclouds</a>
  </span><br />
</span><br />
<h2>Public Variables and Functions</h2>

<h2 id="namespace-name">pallet.bootstrap</h2>
<pre id="namespace-docstr">Boostrap functions.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.bootstrap/bootstrap-admin-user">bootstrap-admin-user</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (bootstrap-admin-user)
       (bootstrap-admin-user user)
       (bootstrap-admin-user user bootstrap-repo)
</pre>
  <pre id="var-docstr">Returns a bootstrap descriptor for installing an admin user.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/5fc1d3a84ea3f02b7f1f62d06149dfe9820a9fd8/src/pallet/bootstrap.clj#L99" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.bootstrap/bootstrap-fragment">bootstrap-fragment</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (bootstrap-fragment fragment tag template)
</pre>
  <pre id="var-docstr">Returns a fragment. Fragments should be resources under the bootstrap
path. It returns the first fragment it finds in the following paths:

  bootstrap/fragment/tag
  bootstrap/fragment/os-family
  bootstrap/fragment</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/5fc1d3a84ea3f02b7f1f62d06149dfe9820a9fd8/src/pallet/bootstrap.clj#L22" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.bootstrap/bootstrap-script">bootstrap-script</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (bootstrap-script tag template)
       (bootstrap-script tag template user)
       (bootstrap-script tag template user bootstrap-url)
</pre>
  <pre id="var-docstr">A script to install chef and create the specified user, enabled for
access with the specified public key.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/5fc1d3a84ea3f02b7f1f62d06149dfe9820a9fd8/src/pallet/bootstrap.clj#L64" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.bootstrap/bootstrap-template">bootstrap-template</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (bootstrap-template fragment)
</pre>
  <pre id="var-docstr">Returns a bootstrap script function that returns a fragment based on
specified template.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/5fc1d3a84ea3f02b7f1f62d06149dfe9820a9fd8/src/pallet/bootstrap.clj#L43" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.bootstrap/bootstrap-with">bootstrap-with</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (bootstrap-with &amp; bootstraps)
</pre>
  <pre id="var-docstr">Specify bootstrap functions to apply.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/5fc1d3a84ea3f02b7f1f62d06149dfe9820a9fd8/src/pallet/bootstrap.clj#L112" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.bootstrap/with-bootstrap-repo">with-bootstrap-repo</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-bootstrap-repo url &amp; body)
</pre>
  <pre id="var-docstr">Define the url used to retrieve the bootstrap repository.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/5fc1d3a84ea3f02b7f1f62d06149dfe9820a9fd8/src/pallet/bootstrap.clj#L54" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.chef</h2>
<pre id="namespace-docstr">Execute chef recipes using chef solo.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.chef/chef-cook-solo">chef-cook-solo</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (chef-cook-solo server command user)
       (chef-cook-solo server command user remote-chef-path)
</pre>
  <pre id="var-docstr">Run a chef solo command on a server.  A command is expected to exist as
chef-repo/config/command.json</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/5fc1d3a84ea3f02b7f1f62d06149dfe9820a9fd8/src/pallet/chef.clj#L74" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.chef/cook-node">cook-node</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (cook-node node chef-repository user)
</pre>
  <pre id="var-docstr">Run chef on the specified node.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/5fc1d3a84ea3f02b7f1f62d06149dfe9820a9fd8/src/pallet/chef.clj#L94" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.chef/output-attributes">output-attributes</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (output-attributes nodes)
       (output-attributes nodes chef-repository)
</pre>
  <pre id="var-docstr">Writes a desciption of nodes to a chef repository</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/5fc1d3a84ea3f02b7f1f62d06149dfe9820a9fd8/src/pallet/chef.clj#L64" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.chef/with-chef-repository">with-chef-repository</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-chef-repository path &amp; body)
</pre>
  <pre id="var-docstr">Specifies the chef repository that contains the cookboks and configurations</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/5fc1d3a84ea3f02b7f1f62d06149dfe9820a9fd8/src/pallet/chef.clj#L16" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.chef/with-remote-chef-path">with-remote-chef-path</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-remote-chef-path path &amp; body)
</pre>
  <pre id="var-docstr">Specifies the path to use for the chef cookbooks on the remote machine.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/5fc1d3a84ea3f02b7f1f62d06149dfe9820a9fd8/src/pallet/chef.clj#L24" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.compat</h2>
<pre id="namespace-docstr">Enabling clojure 1.1/1.2 compatibility within pallet.</pre>
<br />

<h2 id="namespace-name">pallet.compute</h2>
<pre id="namespace-docstr">Additions to the jclouds compute interface</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.compute/boot-if-down">boot-if-down</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (boot-if-down nodes)
       (boot-if-down nodes compute)
</pre>
  <pre id="var-docstr">Boot the specified nodes, if they are not running.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/d456af7bff3f6ee78dbcd2f90c232e545e243516/src/pallet/compute.clj#L93" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/execute-script">execute-script</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (execute-script script node)
       (execute-script script node user &amp; options)
</pre>
  <pre id="var-docstr">Execute a script on a specified node. Also accepts an IP or hostname as a
node.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/d456af7bff3f6ee78dbcd2f90c232e545e243516/src/pallet/compute.clj#L128" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/make-unmanaged-node">make-unmanaged-node</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (make-unmanaged-node tag host-or-ip &amp; options)
</pre>
  <pre id="var-docstr">Make a node that is not created by pallet's node management.
This can be used to manage configuration of any machine accessable over
ssh, including virtual machines.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/d456af7bff3f6ee78dbcd2f90c232e545e243516/src/pallet/compute.clj#L35" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/primary-ip">primary-ip</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (primary-ip node)
</pre>
  <pre id="var-docstr">Returns the first public IP for the node.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/d456af7bff3f6ee78dbcd2f90c232e545e243516/src/pallet/compute.clj#L68" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/reboot">reboot</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (reboot nodes)
       (reboot nodes compute)
</pre>
  <pre id="var-docstr">Reboot the specified nodes</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/d456af7bff3f6ee78dbcd2f90c232e545e243516/src/pallet/compute.clj#L87" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/shutdown">shutdown</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (shutdown nodes)
       (shutdown nodes user)
       (shutdown nodes user compute)
</pre>
  <pre id="var-docstr">Shutdown specified nodes</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/d456af7bff3f6ee78dbcd2f90c232e545e243516/src/pallet/compute.clj#L109" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/shutdown-node">shutdown-node</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (shutdown-node node)
       (shutdown-node node user)
       (shutdown-node node user compute)
</pre>
  <pre id="var-docstr">Shutdown a node.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/d456af7bff3f6ee78dbcd2f90c232e545e243516/src/pallet/compute.clj#L100" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/ssh-port">ssh-port</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (ssh-port node)
</pre>
  <pre id="var-docstr">Extract the port from the node's userMetadata</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/d456af7bff3f6ee78dbcd2f90c232e545e243516/src/pallet/compute.clj#L61" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.core</h2>
<pre id="namespace-docstr">Pallet is used to provision configured compute nodes using jclouds and chef.

It uses a declaritive map for specifying the number of nodes with a given tag.
Each tag is used to look up a machine image template specification (in
jclouds), and to lookup configuration information (in chef).  The converge
function then tries to bring you compute servers into alignment with your
declared counts and configurations.

The bootstrap process for new compute nodes installs a user with sudo
permissions, using the specified username and password. The installed user is
used to execute the chef cookbooks.

Once the nodes are bootstrapped, and fall all existing nodes
the configured node information is written to the "compute-nodes" cookbook
before chef is run, and this provides a :compute_nodes attribute.  The
compute-nodes cookbook is expected to exist in the site-cookbooks of the
chef-repository you specify with `with-chef-repository`.

`chef-solo` is then run with chef repository you have specified using the node
tag as a configuration target.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.core/add-node-type">add-node-type</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-node-type node)
</pre>
  <pre id="var-docstr">Add a node type to the tag lookup map</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/core.clj#L71" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/adjust-node-counts">adjust-node-counts</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (adjust-node-counts compute delta-map nodes)
</pre>
  <pre id="var-docstr">Start or stop the specified number of nodes.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/core.clj#L177" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/admin-user">admin-user</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (admin-user user &amp; options)
</pre>
  <pre id="var-docstr">Set the root binding for the admin user.
The user arg is a map as returned by make-user, or a username.
When passing a username the following options can be specified:
  :password
  :private-key-path
  :public-key-path</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/core.clj#L50" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/apply-phases">apply-phases</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (apply-phases compute nodes phases)
       (apply-phases compute nodes phases user)
</pre>
  <pre id="var-docstr">Apply a list of phases to a sequence of nodes</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/core.clj#L217" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/apply-phases-to-node">apply-phases-to-node</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (apply-phases-to-node compute node phases user)
</pre>
  <pre id="var-docstr">Apply a list of phases to a sequence of nodes</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/core.clj#L199" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/build-node-template">build-node-template</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (build-node-template compute target public-key-path)
</pre>
  <pre id="var-docstr">Build the template for specified target node and compute context</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/core.clj#L120" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/build-node-template-impl">build-node-template-impl</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (build-node-template-impl compute options)
       (build-node-template-impl compute options public-key-path init-script)
</pre>
  <pre id="var-docstr">Build a template for passing to jclouds run-nodes.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/core.clj#L102" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/compute-service-and-options">compute-service-and-options</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (compute-service-and-options options)
</pre>
  <pre id="var-docstr">Extract the compute service form a vector of options, returning the bound
compute service if none specified.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/core.clj#L273" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/converge">converge</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (converge node-map &amp; options)
</pre>
  <pre id="var-docstr">Converge the existing compute resources with the counts specified in node-map.
The compute service may be supplied as an option, otherwise the bound
compute-service is used.

This applies the bootstrap phase to all new nodes, and the configure phase to
all running nodes whose tag matches a key in the node map.  Additional phases
can also be specified in the options, and will be applied to all matching
nodes.  The :configure phase is always applied, as the first (post bootstrap)
phase.  You can change the order in which the phases are applied by
explicitly listing them.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/core.clj#L280" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/converge-node-counts">converge-node-counts</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (converge-node-counts compute node-map)
</pre>
  <pre id="var-docstr">Converge the nodes counts, given a compute facility and a reference number of
instances.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/core.clj#L188" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/create-nodes">create-nodes</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (create-nodes node count compute)
</pre>
  <pre id="var-docstr">Create count nodes based on the template for tag. The boostrap argument
expects a map with :authorize-public-key and :bootstrap-script keys.  The
bootstrap-script value is expected tobe a function that produces a
script that is run with root privileges immediatly after first boot.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/core.clj#L146" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/defnode">defnode</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defnode name image &amp; options)
</pre>
  <pre id="var-docstr">Define a node type.  The name is used for the node tag. Options are:

:image defines the image selector template.  This is a vector of keyword or
       keyword value pairs that are used to filter the image list to select
       an image.
:configure defines the configuration of the node.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/core.clj#L85" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/destroy-nodes-with-count">destroy-nodes-with-count</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (destroy-nodes-with-count nodes tag count compute)
</pre>
  <pre id="var-docstr">Destroys the specified number of nodes with the given tag.  Nodes are
selected at random.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/core.clj#L160" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/lift">lift</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (lift node-set &amp; options)
</pre>
  <pre id="var-docstr">Lift the running nodes in the specified node-set by applying the specified phases.
The compute service may be supplied as an option, otherwise the bound
compute-service is used.  The configure phase is applied by default, unless
other phases are specified.

node-set can be a node type, a sequence of node types, a node, or a sequence
         of nodes.

options can also be keywords specifying the phases to apply, or an immediate
        phase specified with the phase macro, or a function that will be
        called with each matching node.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/core.clj#L295" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/node-count-difference">node-count-difference</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (node-count-difference node-map nodes)
</pre>
  <pre id="var-docstr">Find the difference between the required and actual node counts by tag.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/core.clj#L168" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/node-in-types?">node-in-types?</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (node-in-types? node-types node)
</pre>
  <pre id="var-docstr">Predicate for matching a node belonging to a set of node types</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/core.clj#L248" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/node-type">node-type</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (node-type node)
</pre>
  <pre id="var-docstr">Return the node type definition that matches the tag of the specified node.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/core.clj#L75" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/node-type-for-tag">node-type-for-tag</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (node-type-for-tag tag)
</pre>
  <pre id="var-docstr">Return the node type definition that matches the specified tag.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/core.clj#L80" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/nodes-for-types">nodes-for-types</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (nodes-for-types nodes node-types)
</pre>
  <pre id="var-docstr">Return the nodes that hav a tag that matches one of the node types</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/core.clj#L253" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/nodes-in-map">nodes-in-map</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (nodes-in-map node-map nodes)
</pre>
  <pre id="var-docstr">Return nodes with tags corresponding to the keys in node-map</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/core.clj#L225" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/nodes-in-set">nodes-in-set</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (nodes-in-set node-set)
       (nodes-in-set node-set compute)
</pre>
  <pre id="var-docstr">Build a sequence of nodes for the given node-set. A node set can be a node
type, a sequence of node types, a node, or a sequence of nodes.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/core.clj#L259" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/start-node">start-node</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (start-node node-type)
       (start-node node-type compute)
</pre>
  <pre id="var-docstr">Convenience function for explicitly starting nodes.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/core.clj#L136" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/with-admin-user">with-admin-user</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-admin-user user &amp; exprs)
</pre>
  <pre id="var-docstr">Specify the admin user for running remote commands.  The user is specified
either as a user map, which can be created with make-user, or as an argument
list that will be passed to make-user.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/core.clj#L41" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/with-no-compute-service">with-no-compute-service</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-no-compute-service &amp; body)
</pre>
  <pre id="var-docstr">Bind a null provider, for use when accessing local vms.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/core.clj#L63" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.automated-admin-user</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.automated-admin-user/automated-admin-user">automated-admin-user</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (automated-admin-user)
       (automated-admin-user username)
       (automated-admin-user username public-key-path)
</pre>
  <pre id="var-docstr">Builds a user for use in remote-admin automation. The user is given
permission to sudo without password, so that passwords don't have to appear
in scripts, etc.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/crate/automated_admin_user.clj#L7" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.chef</h2>
<pre id="namespace-docstr">Installation of chef</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.chef/chef">chef</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (chef)
       (chef cookbook-dir)
</pre>
  <pre id="var-docstr">Install chef</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/15ee5092ebcb89f3be1df5d173cae4b5b2304a68/src/pallet/crate/chef.clj#L11" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.couchdb</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.couchdb/couchdb">couchdb</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (couchdb &amp; option-keyvals)
</pre>
  <pre id="var-docstr">Ensures couchdb is installed (along with curl, as a basis for convenient configuration),
optionally configuring it as specified.

e.g. (couchdb
       [:query_server_config :reduce_limit] "false"
       [:couchdb :database_dir] "/var/some/other/path")

Note that the configuration options mirror the couchdb ini file hierarchy,
documented here: http://wiki.apache.org/couchdb/Configurationfile_couch.ini

If any options are provided, then the couch server will be restarted after
the configuraiton is modified.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/e3bd3bd9b839d3c30f56a56b1b797d9ed48745e3/src/pallet/crate/couchdb.clj#L31" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.couchdb/install">install</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (install)
</pre>
  <pre id="var-docstr">Installs couchdb, leaving all default configuration as-is.  Use the `couchdb` fn to
install and configure.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/e3bd3bd9b839d3c30f56a56b1b797d9ed48745e3/src/pallet/crate/couchdb.clj#L13" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.crontab</h2>
<pre id="namespace-docstr">crontab management</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.crontab/crontab">crontab</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (crontab user &amp; options)
</pre>
  <pre id="var-docstr">Manage a user's crontab file. Valid actions are :create or :remove.
Options are as for remote-file.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/0b90b3cd1e256b8a8e4f9a6ec80f3329f8ef8d82/src/pallet/crate/crontab.clj#L44" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.crontab/system-crontab">system-crontab</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (system-crontab name &amp; options)
</pre>
  <pre id="var-docstr">Manage a system crontab file. Valid actions are :create or :remove.
Options are as for remote-file.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/0b90b3cd1e256b8a8e4f9a6ec80f3329f8ef8d82/src/pallet/crate/crontab.clj#L49" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.cruise-control-rb</h2>
<pre id="namespace-docstr">Installation cruise-control.rb</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.cruise-control-rb/cruise-control-rb">cruise-control-rb</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (cruise-control-rb)
       (cruise-control-rb version)
</pre>
  <pre id="var-docstr">Downloads and installs the specified version of cruisecontrol.rb.  Creates a
cruiscontrol.rb init script.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/cruise_control_rb.clj#L38" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.cruise-control-rb/cruise-control-rb-init">cruise-control-rb-init</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (cruise-control-rb-init)
</pre>
  <pre id="var-docstr">Creates a cruiscontrol.rb init script.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/cruise_control_rb.clj#L83" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.cruise-control-rb/cruise-control-rb-job">cruise-control-rb-job</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (cruise-control-rb-job name repository-url &amp; options)
</pre>
  <pre id="var-docstr">Add a cruise control.rb job.
Options include:
  :branch name   -- specify the branch</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/cruise_control_rb.clj#L110" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.cruise-control-rb/determine-scm-type">determine-scm-type</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (determine-scm-type scm-path)
</pre>
  <pre id="var-docstr">determine the scm type</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/cruise_control_rb.clj#L27" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.git</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.git/git">git</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (git)
</pre>
  <pre id="var-docstr">Install git</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/crate/git.clj#L6" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.hudson</h2>
<pre id="namespace-docstr">Installation of hudson</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.hudson/determine-scm-type">determine-scm-type</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (determine-scm-type scm-spec)
</pre>
  <pre id="var-docstr">determine the scm type</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/hudson.clj#L122" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.hudson/hudson-maven-xml">hudson-maven-xml</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (hudson-maven-xml node-type maven-tasks)
</pre>
  <pre id="var-docstr">Generate hudson.task.Maven.xml content</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/hudson.clj#L275" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.hudson/job">job</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (job build-type name &amp; options)
</pre>
  <pre id="var-docstr">Configure a hudson job.
build-type - :maven2
name - name to be used in links
options are:
:scm-type  determine scm type, eg. :git
:scm a sequence of scm repositories, each a string or a sequence.
     If a sequence, options are
        :name, :refspec, :receivepack, :uploadpack and :tagopt
:description "a descriptive string"
:branches ["branch1" "branch2"]</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/hudson.clj#L252" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.hudson/maven">maven</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (maven name version)
</pre>
  <pre id="var-docstr">Configure a maven instance for hudson.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/hudson.clj#L300" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.hudson/maven2-job-xml">maven2-job-xml</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (maven2-job-xml node-type scm-type scms options)
</pre>
  <pre id="var-docstr">Generate maven2 job/config.xml content</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/hudson.clj#L184" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.hudson/output-build-for">output-build-for</h2>
  <span id="var-type">multimethod</span><br />
  <pre id="var-usage">No usage documentation available</pre>
  <pre id="var-docstr">Output the build definition for specified type</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/hudson.clj#L221" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.hudson/output-scm-for">output-scm-for</h2>
  <span id="var-type">multimethod</span><br />
  <pre id="var-usage">No usage documentation available</pre>
  <pre id="var-docstr">Output the scm definition for specified type</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/hudson.clj#L134" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.hudson/path-for">path-for</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (path-for base)
</pre>
  <pre id="var-docstr">Get the actual filename corresponding to a template.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/hudson.clj#L31" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.hudson/plugin">plugin</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (plugin plugin &amp; options)
</pre>
  <pre id="var-docstr">Install a hudson plugin.  The plugin should be a keyword.
:url can be used to specify a string containing the download url</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/hudson.clj#L103" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.hudson/tomcat-deploy">tomcat-deploy</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (tomcat-deploy)
</pre>
  <pre id="var-docstr">Install hudson on tomcat</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/hudson.clj#L36" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.hudson/tomcat-undeploy">tomcat-undeploy</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (tomcat-undeploy)
</pre>
  <pre id="var-docstr">Remove hudson on tomcat</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/hudson.clj#L74" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.java</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.java/java">java</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (java &amp; options)
</pre>
  <pre id="var-docstr">Install java.  Options can be :sun, :openjdk, :jdk, :jre.
By default sun jdk will be installed.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/5c7ec243a79c7ee3ba94398807ddfc0caee3ba30/src/pallet/crate/java.clj#L34" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.java/java-package-name">java-package-name</h2>
  <span id="var-type">multimethod</span><br />
  <pre id="var-usage">No usage documentation available</pre>
  <pre id="var-docstr">lookup package name</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/5c7ec243a79c7ee3ba94398807ddfc0caee3ba30/src/pallet/crate/java.clj#L14" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.java/jce-policy-file">jce-policy-file</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (jce-policy-file filename &amp; options)
</pre>
  <pre id="var-docstr">Installs a local JCE policy jar at the given path in the remote
JAVA_HOME's lib/security directory, enabling the use of "unlimited strength"
crypto implementations. Options are as for remote-file.

e.g. (jce-policy-file "local_policy.jar" :local-file "path/to/local_policy.jar")

Note this only intended to work for ubuntu/aptitude-managed systems and Sun JDKs right now.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/5c7ec243a79c7ee3ba94398807ddfc0caee3ba30/src/pallet/crate/java.clj#L67" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.mysql</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.mysql/mysql-conf">mysql-conf</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (mysql-conf config)
</pre>
  <pre id="var-docstr">my.cnf configuration file for mysql</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3993f0361a68d52908a2ece99f8366edfb8309aa/src/pallet/crate/mysql.clj#L42" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.mysql/mysql-script">mysql-script</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (mysql-script username password sql-script)
</pre>
  <pre id="var-docstr">Execute a mysql script</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3993f0361a68d52908a2ece99f8366edfb8309aa/src/pallet/crate/mysql.clj#L51" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.nginx</h2>
<pre id="namespace-docstr">Crate for nginx management functions</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.nginx/init">init</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (init)
</pre>
  <pre id="var-docstr">Creates a nginx init script.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/nginx.clj#L135" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.nginx/nginx">nginx</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (nginx &amp; options)
</pre>
  <pre id="var-docstr">Install nginx from source. Options:
:version version-string   -- specify the version (default "0.7.65")
:configuration map        -- map of values for nginx.conf</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/nginx.clj#L77" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.nginx/site">site</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (site site-name &amp; options)
</pre>
  <pre id="var-docstr">Enable or disable a site</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/nginx.clj#L168" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.public-dns-if-no-nameserver</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.public-dns-if-no-nameserver/public-dns-if-no-nameserver">public-dns-if-no-nameserver</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (public-dns-if-no-nameserver &amp; nameservers)
</pre>
  <pre id="var-docstr">Install a public nameserver if nonone configured</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/crate/public_dns_if_no_nameserver.clj#L10" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.resolv</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.resolv/resolv">resolv</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (resolv domainname nameservers &amp; options)
</pre>
  <pre id="var-docstr">Resolv configuration. Generates a resolv.conf file.
options are:

:search    search order
:sortlist  sortlist

or one of the resolv.conf options</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3993f0361a68d52908a2ece99f8366edfb8309aa/src/pallet/crate/resolv.clj#L67" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.ruby</h2>
<pre id="namespace-docstr">Installation of ruby from source</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.ruby/ruby">ruby</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (ruby)
       (ruby version)
</pre>
  <pre id="var-docstr">Install ruby from source</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/fc6e3710d674b5645d51afc6fe240f68f2999897/src/pallet/crate/ruby.clj#L30" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.ruby/ruby-packages">ruby-packages</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (ruby-packages)
</pre>
  <pre id="var-docstr">Install ruby from packages</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/fc6e3710d674b5645d51afc6fe240f68f2999897/src/pallet/crate/ruby.clj#L68" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.rubygems</h2>
<pre id="namespace-docstr">Installation of rubygems from source</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.rubygems/gem">gem</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (gem name &amp; options)
</pre>
  <pre id="var-docstr">Gem management.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3993f0361a68d52908a2ece99f8366edfb8309aa/src/pallet/crate/rubygems.clj#L73" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.rubygems/gem-source">gem-source</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (gem-source source &amp; options)
</pre>
  <pre id="var-docstr">Gem source management.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3993f0361a68d52908a2ece99f8366edfb8309aa/src/pallet/crate/rubygems.clj#L87" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.rubygems/gemrc">gemrc</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (gemrc m &amp; user?)
</pre>
  <pre id="var-docstr">rubygems configuration</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3993f0361a68d52908a2ece99f8366edfb8309aa/src/pallet/crate/rubygems.clj#L96" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.rubygems/rubygems">rubygems</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (rubygems)
       (rubygems version)
</pre>
  <pre id="var-docstr">Install rubygems from source</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3993f0361a68d52908a2ece99f8366edfb8309aa/src/pallet/crate/rubygems.clj#L29" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.sphinx</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.sphinx/sphinx">sphinx</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (sphinx)
       (sphinx version)
</pre>
  <pre id="var-docstr">Install sphinx from source</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/fc6e3710d674b5645d51afc6fe240f68f2999897/src/pallet/crate/sphinx.clj#L10" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.ssh-key</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.ssh-key/authorize-key">authorize-key</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (authorize-key username public-key-string)
</pre>
  <pre id="var-docstr">Authorize a public key on the specified user.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3993f0361a68d52908a2ece99f8366edfb8309aa/src/pallet/crate/ssh_key.clj#L47" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.ssh-key/authorize-key-for-localhost">authorize-key-for-localhost</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (authorize-key-for-localhost username public-key-filename &amp; options)
</pre>
  <pre id="var-docstr">Authorize a user's public key on the specified user, for ssh access to
localhost.  The :authorize-for-user option can be used to specify the
user to who's authorized_keys file is modified.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3993f0361a68d52908a2ece99f8366edfb8309aa/src/pallet/crate/ssh_key.clj#L65" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.ssh-key/generate-key">generate-key</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (generate-key username &amp; options)
</pre>
  <pre id="var-docstr">Generate an ssh key pair for the given user. Options are
:file path     -- output file name
:type key-type -- key type selection</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3993f0361a68d52908a2ece99f8366edfb8309aa/src/pallet/crate/ssh_key.clj#L112" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.ssh-key/install-key">install-key</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (install-key username private-key-name private-key-string public-key-string)
</pre>
  <pre id="var-docstr">Install a ssh private key</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3993f0361a68d52908a2ece99f8366edfb8309aa/src/pallet/crate/ssh_key.clj#L83" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.ssl</h2>
<pre id="namespace-docstr">SSL Keystore management</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.ssl/ssl-genkey-jks*">ssl-genkey-jks*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (ssl-genkey-jks* alias store-password common-name organisation-unit organisation location state country-code &amp; options)
</pre>
  <pre id="var-docstr">Create an SSL keystore using java.  Creates a JKS format keystore.
  alias             - alias used for accessing the key
  store-password    - the password for the keystore (at least 6 characters)
  full-name         - your first and last names (CN)
  organisation-unit - unit within your organisation (OU)
  organisation      - your organisation (O)
  location          - your city or region (L)
  state             - your state or province (ST)
  country-code      - two letter country code (C)

Recognised options:
  :keystore path  - path to the keystore to be used
  :keyalg RSA|DSA  - key algorithm, defaults to RSA.
  :keypass password - key password, defaults to store password</pre>
  <a href="http://github.com/hugoduncan/pallet/blob//src/pallet/crate/ssl.clj#L7" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.ssl/ssl-import-certificate-jks*">ssl-import-certificate-jks*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (ssl-import-certificate-jks* alias chain-certificate &amp; options)
</pre>
  <pre id="var-docstr">Import a chain certificate.
Recognised options:
  :keystore path  - path to the keystore to be used</pre>
  <a href="http://github.com/hugoduncan/pallet/blob//src/pallet/crate/ssl.clj#L46" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.ssl/ssl-import-chain-certificate-jks*">ssl-import-chain-certificate-jks*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (ssl-import-chain-certificate-jks* alias chain-certificate &amp; options)
</pre>
  <pre id="var-docstr">Import a chain certificate.
Recognised options:
  :keystore path  - path to the keystore to be used</pre>
  <a href="http://github.com/hugoduncan/pallet/blob//src/pallet/crate/ssl.clj#L36" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.ssl/ssl-import-pkcs12*">ssl-import-pkcs12*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (ssl-import-pkcs12* alias key-crt key-key cert-p12 ca-crt ca-name)
</pre>
  <pre id="var-docstr">Import a pkcs12 ket.  Uses openssl.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob//src/pallet/crate/ssl.clj#L56" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.sudoers</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.sudoers/sudoers">sudoers</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (sudoers aliases defaults specs)
</pre>
  <pre id="var-docstr">Sudo configuration. Generates a sudoers file.
By default, root and an admin group are already present.

Examples of the arguments are:

aliases { :user { :ADMINS [ "user1" "user2" ] }
          :host { :TRUSTED [ "host1" ] }
          :run-as-user { :OP [ "root" "sysop" ] }
          :cmnd { :KILL [ "kill" ]
                  :SHELLS [ "/usr/bin/sh" "/usr/bin/csh" "/usr/bin/ksh"]}}
default-map { :default { :fqdn true }
              :host { "host" { :lecture false } }
              :user { "user" { :lecture false } }
              :run-as-user { "sysop" { :lecture false } } }
specs [ { ["user1" "user2"]
          { :host :TRUSTED
            :KILL { :run-as-user "operator" :tags :NOPASSWORD }
            ["/usr/bin/*" "/usr/local/bin/*"] { :run-as-user "root" :tags [:NOEXEC :NOPASSWORD} }</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3993f0361a68d52908a2ece99f8366edfb8309aa/src/pallet/crate/sudoers.clj#L126" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.tomcat</h2>
<pre id="namespace-docstr">Installation of tomcat</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/alias">alias</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (alias name)
</pre>
  <pre id="var-docstr">Define a tomcat alias.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L501" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/application-conf">application-conf</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (application-conf name content &amp; options)
</pre>
  <pre id="var-docstr">Configure tomcat applications.
name - a name for the policy
content - an xml application context</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L128" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/classname-for">classname-for</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (classname-for value classname-map)
</pre>
  <pre id="var-docstr">Lookup value in the given map if it is a keyword, else return the value.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L328" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/connector">connector</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (connector &amp; options)
</pre>
  <pre id="var-docstr">Define a tomcat connector.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L428" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/context">context</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (context name &amp; options)
</pre>
  <pre id="var-docstr">Define a tomcat context. Options include: valves, listeners, loader, manager
realm, resources, resource-links, parameters, environments, transactions
watched-resources</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L506" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/deploy">deploy</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (deploy warfile app-name &amp; opts)
</pre>
  <pre id="var-docstr">Copies the specified remote .war file to the tomcat server under
webapps/${app-name}.war.  An app-name of "ROOT" or nil will deploy the
source war file as the / webapp. Options:
:clear-existing true -- removes the existing exploded ${app-name} directory</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L71" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/engine">engine</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (engine name default-host &amp; options)
</pre>
  <pre id="var-docstr">Define a tomcat engine. Options are:
valves, realm, hosts</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L472" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/environment">environment</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (environment name value type)
       (environment name value type override)
</pre>
  <pre id="var-docstr">Define tomcat environment variable.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L393" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/extract-nested-maps">extract-nested-maps</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (extract-nested-maps [members collections options])
</pre>
  <pre id="var-docstr"></pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L348" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/flatten-map">flatten-map</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (flatten-map m &amp; dissoc-keys)
</pre>
  <pre id="var-docstr">Flatten a map, removing all namespaced keywords and specified keys</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L221" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/global-resources">global-resources</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (global-resources &amp; options)
</pre>
  <pre id="var-docstr">Define tomcat resources.
Options include:
  resources, transactions, environments</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L384" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/host">host</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (host name app-base &amp; options)
</pre>
  <pre id="var-docstr">Define a tomcat host. Options include:
valves, contexts, aliases and listeners</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L493" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/listener">listener</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (listener listener-type &amp; options)
</pre>
  <pre id="var-docstr">Define a tomcat listener. listener-type is a classname or a key from
listener-classnames. Options are listener-type specific, and match
the attributes in the tomcat docs.
For example, to configure the APR SSL support:
  (listener :apr-lifecycle :SSLEngine "on" :SSLRandomSeed "builtin")</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L373" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/loader">loader</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (loader classname options)
</pre>
  <pre id="var-docstr">Define a tomcat class loader.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L518" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/pallet-type">pallet-type</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (pallet-type type-tag &amp; options)
</pre>
  <pre id="var-docstr">Create a pallet type-map</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L368" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/parameter">parameter</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (parameter name value &amp; options)
</pre>
  <pre id="var-docstr">Define a tomcat parameter. Options are :description and :override.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L523" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/path-for">path-for</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (path-for base)
</pre>
  <pre id="var-docstr">Get the actual filename corresponding to a template.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L216" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/policy">policy</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (policy number name grants &amp; options)
</pre>
  <pre id="var-docstr">Configure tomcat policies.
number - determines sequence i which policies are applied
name - a name for the policy
grants - a map from codebase to sequence of permissions</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L110" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/realm">realm</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (realm realm-type &amp; options)
</pre>
  <pre id="var-docstr">Define a tomcat realm.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L481" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/resource">resource</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (resource name resource-type &amp; options)
</pre>
  <pre id="var-docstr">Define tomcat JNDI resource.
resource-type is a classname, or on of :sql-datasource.
Options include:</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L403" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/server">server</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (server &amp; options)
</pre>
  <pre id="var-docstr">Define a tomcat server. Accepts server, listener and a global-resources
form. eg.
   (server :port "123" :shutdown "SHUTDOWNx"
     (global-resources)
       (service
         (engine "catalina" "host"
           (valve :request-dumper))
           (connector :port "8080" :protocol "HTTP/1.1"
              :connectionTimeout "20000" :redirectPort "8443")))</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L533" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/server-configuration">server-configuration</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (server-configuration server)
</pre>
  <pre id="var-docstr">Configure tomcat. Accepts a server definition.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L568" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/server-configuration*">server-configuration*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (server-configuration* server)
</pre>
  <pre id="var-docstr">Define a tomcat server.  When a key is not specified, the relevant section
of the template is output, unmodified.
Options include:
  :class-name       imlementation class - org.apache.catalina.Server
  :port             shutdown listen port - 8005
  :shutdown         shutdown command string - SHUTDOWN
  ::listeners        vector of listeners, each described as an attribute/value map.
                    The listener can be specified using the ::listener key and
                    one of the listener-classname values, or as a :className key.
  ::services         vector of services
  ::global-resources vector of resources.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L550" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/service">service</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (service &amp; options)
</pre>
  <pre id="var-docstr">Define a tomcat service</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L423" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/ssl-apr-connector">ssl-apr-connector</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (ssl-apr-connector &amp; options)
</pre>
  <pre id="var-docstr">Define a SSL connector using APR.  This connector can be specified for a
service.  You can use the :SSLEngine and :SSLRandomSeed options on the
server's APR lifecycle listener to configure which engine is used.

This connector has defaults equivalant to:
  (tomcat/connector :port 8443 :protocol "HTTP/1.1" :SSLEnabled "true"
    :maxThreads 150 :scheme "https" :secure "true"
    :clientAuth "optional" :sslProtocol "TLSv1"
    :SSLCertificateFile "/usr/local/ssl/server.crt"
    :SSLCertificateKeyFile="/usr/local/ssl/server.pem")</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L451" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/ssl-jsee-connector">ssl-jsee-connector</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (ssl-jsee-connector &amp; options)
</pre>
  <pre id="var-docstr">Define a SSL connector using JSEE.  This connector can be specified for a
service.

This connector has defaults equivalant to:
  (tomcat/connector :port 8443 :protocol "HTTP/1.1" :SSLEnabled "true"
    :maxThreads 150 :scheme "https" :secure "true"
    :clientAuth "false" :sslProtocol "TLS"
    :keystoreFile "${user.home}/.keystore" :keystorePass "changeit")</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L433" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/tomcat">tomcat</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (tomcat &amp; options)
</pre>
  <pre id="var-docstr">Install tomcat</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L35" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/tomcat-server-xml">tomcat-server-xml</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (tomcat-server-xml node-type server)
</pre>
  <pre id="var-docstr">Generate server.xml content</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L294" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/transaction">transaction</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (transaction factory-classname)
</pre>
  <pre id="var-docstr">Define tomcat transaction factory.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L418" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/undeploy">undeploy</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (undeploy &amp; app-names)
</pre>
  <pre id="var-docstr">Removes the named webapp directories, and any war files with the same base names.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L52" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/undeploy-all">undeploy-all</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (undeploy-all)
</pre>
  <pre id="var-docstr">Removes all deployed war file and exploded webapp directories.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L64" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/user">user</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (user &amp; options)
</pre>
  <pre id="var-docstr">Configure tomcat users.
options are:

:role rolename
username {:password "pw" :roles ["role1" "role 2"]}</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L161" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/valve">valve</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (valve valve-type &amp; options)
</pre>
  <pre id="var-docstr">Define a tomcat valve.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L487" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.tomcat/watched-resource">watched-resource</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (watched-resource name)
</pre>
  <pre id="var-docstr">Define a tomcat watched resource. Used in a tomcat context.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/crate/tomcat.clj#L528" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.enlive</h2>
<pre id="namespace-docstr">Wrappers for enlive to enable template specialisation and use xml.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.enlive/defsnippet">defsnippet</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defsnippet name source node-type args &amp; forms)
</pre>
  <pre id="var-docstr">A snippet returns a collection of nodes.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/627f36eb27860cf18467de8b89d49946358ae38f/src/pallet/enlive.clj#L48" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.enlive/xml-emit">xml-emit</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (xml-emit f &amp; args)
</pre>
  <pre id="var-docstr">Emit a template, adding an XML Declaration.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/627f36eb27860cf18467de8b89d49946358ae38f/src/pallet/enlive.clj#L65" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.enlive/xml-template">xml-template</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (xml-template source node-type args &amp; forms)
</pre>
  <pre id="var-docstr">A template returns a seq of string:
Overridden from enlive to defer evaluation of the source until runtime, and
to enable specialisation on node-type</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/627f36eb27860cf18467de8b89d49946358ae38f/src/pallet/enlive.clj#L55" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.main</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.main/-main">-main</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (-main &amp; args)
</pre>
  <pre id="var-docstr">Command line runner</pre>
  <a href="http://github.com/hugoduncan/pallet/blob//src/pallet/main.clj#L60" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.resource</h2>
<pre id="namespace-docstr">Resource definition interface.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource/*phase*">*phase*</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">Execution phase for resources</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/resource.clj#L15" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/*required-resources*">*required-resources*</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">Resources for each phase</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/resource.clj#L14" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/after-phase">after-phase</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (after-phase phase)
</pre>
  <pre id="var-docstr">Calculate the name for the after-phase</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/resource.clj#L34" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/build-resources">build-resources</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (build-resources [&amp; phases] &amp; body)
</pre>
  <pre id="var-docstr">Outputs the resources specified in the body for the specified phases.
This is useful in testing.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/resource.clj#L198" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/configured-resources">configured-resources</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (configured-resources)
</pre>
  <pre id="var-docstr">The currently configured resources</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/resource.clj#L104" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/defaggregate">defaggregate</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defaggregate name &amp; args)
</pre>
  <pre id="var-docstr">Shortcut for defining a resource-producing function with an
:execution of :aggregate.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/resource.clj#L136" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/defphases">defphases</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defphases &amp; options)
</pre>
  <pre id="var-docstr">Define phases.  A phase is a keyword/[crates] pair.
Returns a map of phase to (fn [tag template]).</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/resource.clj#L177" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/defresource">defresource</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defresource facility &amp; args)
</pre>
  <pre id="var-docstr">Defines a resource-producing functions.  Takes a name, the
"backing function" that will actually produce the resource, the
argument signature that the function exposes, and optional arguments.

Options:

:execution - the execution that the specified resource will be applied
     within (see 'invoke-resource' for details).  The default is
     :in-sequence</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/resource.clj#L114" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/execute-after-phase">execute-after-phase</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (execute-after-phase &amp; body)
</pre>
  <pre id="var-docstr">Specify the after phase for execution of resources.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/resource.clj#L39" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/in-phase">in-phase</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (in-phase phase &amp; body)
</pre>
  <pre id="var-docstr">Specify the phase for excution of resources.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/resource.clj#L28" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/invocations-&gt;resource-fns">invocations-&gt;resource-fns</h2>
  <span id="var-type">multimethod</span><br />
  <pre id="var-usage">No usage documentation available</pre>
  <pre id="var-docstr">Given an execution's invocations, will return a seq of
functions pre-processed appropriately for that execution.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/resource.clj#L87" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/invoke-resource">invoke-resource</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (invoke-resource invoke-fn args)
       (invoke-resource invoke-fn args execution)
</pre>
  <pre id="var-docstr">Registers a resource whose generation is defined by the specified
invocation function and arguments that will be applied to that fn
when the associated phase is applied to a node.

The invocation can be scheduled within one of two 'executions'
(conceptually, sub-phases):

:in-sequence - The generated resource will be applied to the node
     "in order", as it is defined lexically in the source crate.
     This is the default.
:aggregated - All aggregated resources are applied to the node
     in the order they are defined, but before all :in-sequence
     resources. Note that all of the arguments to any given
     invocation fn are gathered such that there is only ever one
     invocation of each fn within each phase.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/resource.clj#L45" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/output-bindings">output-bindings</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (output-bindings)
</pre>
  <pre id="var-docstr">Debug helper</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/resource.clj#L217" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/output-resources">output-resources</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (output-resources phase resources)
</pre>
  <pre id="var-docstr">Invoke all passed resources.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/resource.clj#L142" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/phase">phase</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (phase &amp; body)
</pre>
  <pre id="var-docstr">Inline phase definition for use in arguments to the lift method</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/resource.clj#L171" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/produce-phases">produce-phases</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (produce-phases [&amp; phases] node node-type phase-map)
</pre>
  <pre id="var-docstr">Binds the target tag and template and outputs the
resources specified in the body for the given phases.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/resource.clj#L185" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/reset-resources">reset-resources</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (reset-resources)
</pre>
  <pre id="var-docstr">Reset the list of resources that should be applied to a target</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/resource.clj#L17" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/resource-phases">resource-phases</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (resource-phases &amp; body)
</pre>
  <pre id="var-docstr">Returns the configured resource map for given resources.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/resource.clj#L163" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/with-init-resources">with-init-resources</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-init-resources resources &amp; body)
</pre>
  <pre id="var-docstr">Invokes ~@body within a context where the required resources are initially
bound to the value of ~resources.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/resource.clj#L21" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.resource.directory</h2>
<pre id="namespace-docstr">Directory manipulation.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.directory/directory">directory</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (directory path &amp; options)
</pre>
  <pre id="var-docstr">Directory management.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3993f0361a68d52908a2ece99f8366edfb8309aa/src/pallet/resource/directory.clj#L48" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.resource.exec-script</h2>
<pre id="namespace-docstr">Script execution.</pre>
<br />

<h2 id="namespace-name">pallet.resource.file</h2>
<pre id="namespace-docstr">File manipulation.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.file/file">file</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (file filename &amp; options)
</pre>
  <pre id="var-docstr">File management.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3993f0361a68d52908a2ece99f8366edfb8309aa/src/pallet/resource/file.clj#L78" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.resource.hostinfo</h2>
<pre id="namespace-docstr">Host information.</pre>
<br />

<h2 id="namespace-name">pallet.resource.package</h2>
<pre id="namespace-docstr">Package management resource.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/add-scope">add-scope</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-scope type scope file)
</pre>
  <pre id="var-docstr">Add a scope to all the existing package sources</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/0b90b3cd1e256b8a8e4f9a6ec80f3329f8ef8d82/src/pallet/resource/package.clj#L90" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/apply-package">apply-package</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (apply-package package-name &amp; options)
</pre>
  <pre id="var-docstr">Package management</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/0b90b3cd1e256b8a8e4f9a6ec80f3329f8ef8d82/src/pallet/resource/package.clj#L58" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/package">package</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (package packagename &amp; options)
</pre>
  <pre id="var-docstr">Package management.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/0b90b3cd1e256b8a8e4f9a6ec80f3329f8ef8d82/src/pallet/resource/package.clj#L87" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/package-manager">package-manager</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (package-manager action &amp; options)
</pre>
  <pre id="var-docstr">Package manager controls.
:multiverse        - enable multiverse
:update            - update the package manager</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/0b90b3cd1e256b8a8e4f9a6ec80f3329f8ef8d82/src/pallet/resource/package.clj#L125" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/package-manager*">package-manager*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (package-manager* action &amp; options)
</pre>
  <pre id="var-docstr">Package management</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/0b90b3cd1e256b8a8e4f9a6ec80f3329f8ef8d82/src/pallet/resource/package.clj#L100" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/packages">packages</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (packages &amp; options)
</pre>
  <pre id="var-docstr">Install a list of packages keyed on packager</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/0b90b3cd1e256b8a8e4f9a6ec80f3329f8ef8d82/src/pallet/resource/package.clj#L131" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.resource.remote-file</h2>
<pre id="namespace-docstr">File Contents.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.remote-file/content-options">content-options</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">A vector of the options accepted by remote-file.  Can be used for option
forwarding when calling remote-file from other crates.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/c0e0387484e6bc2c16118aa1437aeb49a8e641af/src/pallet/resource/remote_file.clj#L13" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.remote-file/remote-file">remote-file</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (remote-file filepath &amp; options)
</pre>
  <pre id="var-docstr">Remote file with contents management.
Options for specifying the file's content are:
  :url url          - download the specified url to the given filepath
  :content string   - use the specified content directly
  :local-file path  - use the file on the local machine at the given path
  :remote-file path - use the file on the remote machine at the given path
Options for specifying the file's permissions are:
  :owner user-name
  :group group-name
  :mode  file-mode</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/c0e0387484e6bc2c16118aa1437aeb49a8e641af/src/pallet/resource/remote_file.clj#L58" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.resource.resource-when</h2>
<pre id="namespace-docstr">Conditional resource execution.</pre>
<br />

<h2 id="namespace-name">pallet.resource.service</h2>
<pre id="namespace-docstr">Service control.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.service/init-script">init-script</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (init-script name &amp; options)
</pre>
  <pre id="var-docstr">Install an init script.  Sources as for remote-file.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/0b90b3cd1e256b8a8e4f9a6ec80f3329f8ef8d82/src/pallet/resource/service.clj#L37" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.service/init-script*">init-script*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (init-script* name &amp; options)
</pre>
  <pre id="var-docstr">Install an init script.  Sources as for remote-file.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/0b90b3cd1e256b8a8e4f9a6ec80f3329f8ef8d82/src/pallet/resource/service.clj#L29" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.service/service">service</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (service service-name &amp; options)
</pre>
  <pre id="var-docstr">Control serives</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/0b90b3cd1e256b8a8e4f9a6ec80f3329f8ef8d82/src/pallet/resource/service.clj#L17" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.service/with-restart">with-restart</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-restart service-name &amp; body)
</pre>
  <pre id="var-docstr">Stop the given service, execute the body, and then restart.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/0b90b3cd1e256b8a8e4f9a6ec80f3329f8ef8d82/src/pallet/resource/service.clj#L21" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.resource.user</h2>
<pre id="namespace-docstr">User management resource.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.user/apply-user">apply-user</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (apply-user username &amp; options)
</pre>
  <pre id="var-docstr">Require a user</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3993f0361a68d52908a2ece99f8366edfb8309aa/src/pallet/resource/user.clj#L50" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.user/user">user</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (user username &amp; options)
</pre>
  <pre id="var-docstr">User management.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3993f0361a68d52908a2ece99f8366edfb8309aa/src/pallet/resource/user.clj#L92" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.script</h2>
<pre id="namespace-docstr">Base infrastructure for script generation</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.script/defscript">defscript</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defscript name [&amp; args])
</pre>
  <pre id="var-docstr">Define a script fragment</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/a8064fc66463b66be49ca871ab742d13dd5c14f5/src/pallet/script.clj#L77" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.script/dispatch-target">dispatch-target</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (dispatch-target script &amp; args)
</pre>
  <pre id="var-docstr">Invoke target, raising if there is no implementation.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/a8064fc66463b66be49ca871ab742d13dd5c14f5/src/pallet/script.clj#L55" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.script/invoke-target">invoke-target</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (invoke-target script args)
</pre>
  <pre id="var-docstr">Invoke target when possible, otherwise return nil</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/a8064fc66463b66be49ca871ab742d13dd5c14f5/src/pallet/script.clj#L64" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.script/with-line-number">with-line-number</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-line-number &amp; body)
</pre>
  <pre id="var-docstr">Record the source line number</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/a8064fc66463b66be49ca871ab742d13dd5c14f5/src/pallet/script.clj#L14" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.stevedore</h2>
<pre id="namespace-docstr">Embed shell script in clojure</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/defimpl">defimpl</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defimpl script-name specialisers [&amp; args] &amp; body)
</pre>
  <pre id="var-docstr">Define a script fragment implementation for a given set of specialisers</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/2d6156318bc54aa2f5b13df12134804f584c6d1c/src/pallet/stevedore.clj#L327" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/map-to-arg-string">map-to-arg-string</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (map-to-arg-string m &amp; options)
</pre>
  <pre id="var-docstr">Output a set of command line switches from a map</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/2d6156318bc54aa2f5b13df12134804f584c6d1c/src/pallet/stevedore.clj#L22" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/option-args">option-args</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (option-args options)
</pre>
  <pre id="var-docstr">Output a set of command line switches from a sequence of options</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/2d6156318bc54aa2f5b13df12134804f584c6d1c/src/pallet/stevedore.clj#L35" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/script">script</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (script &amp; forms)
</pre>
  <pre id="var-docstr">Takes one or more forms. Returns a string of the forms translated into javascript</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/2d6156318bc54aa2f5b13df12134804f584c6d1c/src/pallet/stevedore.clj#L321" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.strint</h2>
<pre id="namespace-docstr">String interpolation for Clojure.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.strint/&lt;&lt;">&lt;&lt;</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (&lt;&lt; string)
</pre>
  <pre id="var-docstr">Takes a single string argument and emits a str invocation that concatenates
the string data and evaluated expressions contained within that argument.
Evaluation is controlled using ~{} and ~() forms.  The former is used for
simple value replacement using clojure.core/str; the latter can be used to
embed the results of arbitrary function invocation into the produced string.

Examples:
user=&gt; (def v 30.5)
#'user/v
user=&gt; (&lt;&lt; "This trial required ~{v}ml of solution.")
"This trial required 30.5ml of solution."
user=&gt; (&lt;&lt; "There are ~(int v) days in November.")
"There are 30 days in November."
user=&gt; (def m {:a [1 2 3]})
#'user/m
user=&gt; (&lt;&lt; "The total for your order is $~(-&gt;&gt; m :a (apply +)).")
"The total for your order is $6."

Note that quotes surrounding string literals within ~() forms must be
escaped.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/5f9dc493bf906746d2cfb6e81c76b32a5ddf810c/src/pallet/strint.clj#L55" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.strint/&lt;&lt;!">&lt;&lt;!</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (&lt;&lt;! f value-map)
</pre>
  <pre id="var-docstr">Interpolate a string given a map of symbol-&gt;value</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/5f9dc493bf906746d2cfb6e81c76b32a5ddf810c/src/pallet/strint.clj#L85" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.strint/capture-values">capture-values</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (capture-values &amp; values)
</pre>
  <pre id="var-docstr">Capture the values of the specified symbols in a symbol-&gt;value map.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/5f9dc493bf906746d2cfb6e81c76b32a5ddf810c/src/pallet/strint.clj#L80" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.strint/interpolate">interpolate</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (interpolate s atom?)
       (interpolate s)
</pre>
  <pre id="var-docstr">Yields a seq of Strings and read forms.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/5f9dc493bf906746d2cfb6e81c76b32a5ddf810c/src/pallet/strint.clj#L37" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.target</h2>
<pre id="namespace-docstr">Provide information about the target image</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.target/admin-group">admin-group</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (admin-group)
       (admin-group target)
</pre>
  <pre id="var-docstr">Default administrator group</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/target.clj#L34" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.target/os">os</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (os)
       (os target)
</pre>
  <pre id="var-docstr">OS family</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/target.clj#L29" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.target/packager">packager</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (packager)
       (packager target)
</pre>
  <pre id="var-docstr">Default package manager</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/target.clj#L42" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.task.converge</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.task.converge/converge">converge</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (converge &amp; args)
</pre>
  <pre id="var-docstr">Modify node counts and apply configuration.
converge { node-def count }</pre>
  <a href="http://github.com/hugoduncan/pallet/blob//src/pallet/task/converge.clj#L4" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.task.help</h2>
<pre id="namespace-docstr">Display a list of tasks or help for a given task.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.task.help/help-for">help-for</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (help-for task)
</pre>
  <pre id="var-docstr">Help for a task is stored in its docstring, or if that's not present
in its namespace.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob//src/pallet/task/help.clj#L9" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.task.version</h2>
<pre id="namespace-docstr">Print Pallet's version to standard out.</pre>
<br />

<h2 id="namespace-name">pallet.template</h2>
<pre id="namespace-docstr">Template file writing</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.template/candidate-templates">candidate-templates</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (candidate-templates path tag template)
</pre>
  <pre id="var-docstr">Generate a prioritised list of possible template paths.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/template.clj#L37" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.template/find-template">find-template</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (find-template path node-type)
</pre>
  <pre id="var-docstr">Find a template for the specified path, for application to the given node.
Templates may be specialised.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/template.clj#L46" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.template/get-resource">get-resource</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (get-resource path)
</pre>
  <pre id="var-docstr">Loads a resource. Returns a URI.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/template.clj#L14" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.template/interpolate-template">interpolate-template</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (interpolate-template path values)
</pre>
  <pre id="var-docstr">Interpolate the given template.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/template.clj#L55" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.template/path-components">path-components</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (path-components path)
</pre>
  <pre id="var-docstr">Split a path into directory, basename and extension components</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/template.clj#L19" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.template/pathname">pathname</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (pathname &amp; parts)
</pre>
  <pre id="var-docstr">Build a pathname from a list of path and filename parts.  Last part is assumed
to be a file extension.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/4ef264590e0508bffa8727ca835a94663a5058bf/src/pallet/template.clj#L29" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.template.properties</h2>
<pre id="namespace-docstr">A template for writing properties style config files.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.template.properties/properties">properties</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (properties values)
</pre>
  <pre id="var-docstr">Write a properties file based on the input argument.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/template/properties.clj#L14" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.utils</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.utils/*admin-user*">*admin-user*</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">The admin user is used for running remote admin commands that require root
permissions.  The default admin user is taken from the pallet.admin.username
property.  If not specified then the user.name property is used.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/39e43195c098113edf9f0a005fe0fb0746ff380a/src/pallet/utils.clj#L112" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.utils/make-user">make-user</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (make-user username &amp; options)
</pre>
  <pre id="var-docstr">Create a description of the admin user to be created and used for running
configuration actions on the administered nodes.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/39e43195c098113edf9f0a005fe0fb0746ff380a/src/pallet/utils.clj#L97" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.utils/remote-sudo">remote-sudo</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (remote-sudo server command user)
</pre>
  <pre id="var-docstr">Run a sudo command on a server.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/39e43195c098113edf9f0a005fe0fb0746ff380a/src/pallet/utils.clj#L158" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.utils/remote-sudo-script">remote-sudo-script</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (remote-sudo-script server command user &amp; options)
</pre>
  <pre id="var-docstr">Run a sudo script on a server.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/39e43195c098113edf9f0a005fe0fb0746ff380a/src/pallet/utils.clj#L194" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.utils/sh-script">sh-script</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (sh-script command)
</pre>
  <pre id="var-docstr">Run a script on local machine.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/39e43195c098113edf9f0a005fe0fb0746ff380a/src/pallet/utils.clj#L243" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.utils/slurp-resource">slurp-resource</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (slurp-resource name)
       (slurp-resource name enc)
</pre>
  <pre id="var-docstr">Reads the resource named by name using the encoding enc into a string
and returns it.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/39e43195c098113edf9f0a005fe0fb0746ff380a/src/pallet/utils.clj#L56" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.utils/system">system</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (system cmd)
</pre>
  <pre id="var-docstr">Launch a system process, return a map containing the exit code, stahdard
output and standard error of the process.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/39e43195c098113edf9f0a005fe0fb0746ff380a/src/pallet/utils.clj#L119" id="var-source">Source</a>
</div>


</div>
              </div>
            </div>
          </div>
	</div>
	<div id="foot">
	  <div style="text-align: center;" id="copyright">Copyright Hugo Duncan 2010. All rights reserved.</div>
	</div>
      </div>
      <div id="DesignedBy">Logo &amp; site design by <a title="Visit Tom Hickey's website." href="http://www.tomhickey.com">Tom Hickey</a>.<br />
      Clojure auto-documentation system by Tom Faulhaber.</div>
    </div>
    <!-- /AllContentContainer -->
  </body>

</html>