<html>
  <head>
    <title>pallet.action API reference (pallet)</title>
    <link href="static/favicon.png" rel="icon" />
    <link href="static/favicon.png" rel="shortcut icon" />
    <link media="all" type="text/css" href="static/clojure.css" rel="stylesheet" />
    <link media="all" type="text/css" href="static/wiki.css" rel="stylesheet" />
    <link media="all" type="text/css" href="static/internal.css" rel="stylesheet" />
    <!-- TODO: are we using these (from clojure.org)? If so, add the files -->
    <script src="file/view/code_highlighter.js" type="text/javascript"></script>
    <script src="file/view/clojure.js" type="text/javascript"></script>
    <style>.menuWrapper{height: 36px;}</style>
    <!--[if lte IE 6]>
    <link rel="stylesheet" href="http://www.wikispaces.com/_/2009051601/s/internal_ie.css" type="text/css" />
    <![endif]-->
  </head>
<!--
This document was auto-generated from the source by the clojure autodoc system.
To report errors or ask questions about the overall documentation structure, formatting,
etc., contact Tom Faulhaber (google mail name: tomfaulhaber).
For errors in the documentation of a particular namespace, contact the author of that
namespace.
-->
  <body>
    <div id="AllContentContainer">
      <div id="Header">
	<a id="Logo" href="index.html"><img alt="Clojure" height="100" width="100" src="static/clojure-icon.gif" /></a>
	<h1><a title="page header title" id="page-header" href="index.html">pallet</a></h1>
      </div>
      <div id="leftcolumn"><div style="text-align: center;"></div>
<div class="menu">
  <div class="WikiCustomNav WikiElement wiki">
    <a class="wiki_link" href="index.html">Overview</a><br />
    <a class="wiki_link" href="api-index.html">API Index</a><br />
    <a class="wiki_link" href="#">Namespaces:</a>
    <ul id="left-sidebar-list">
      <li><a href="pallet.action-api.html" class="wiki_link">pallet.action</a></li><li><a href="pallet.action-plan-api.html" class="wiki_link">pallet.action-plan</a></li><li><a href="pallet.argument-api.html" class="wiki_link">pallet.argument</a></li><li><a href="pallet.blobstore-api.html" class="wiki_link">pallet.blobstore</a></li><li><a href="pallet.command-line-api.html" class="wiki_link">pallet.command-line</a></li><li><a href="pallet.command-script-api.html" class="wiki_link">pallet.command-script</a></li><li><a href="pallet.compute-api.html" class="wiki_link">pallet.compute</a></li><li><a href="pallet.config-file.format-api.html" class="wiki_link">pallet.config-file.format</a></li><li><a href="pallet.configure-api.html" class="wiki_link">pallet.configure</a></li><li><a href="pallet.core-api.html" class="wiki_link">pallet.core</a></li><li><a href="pallet.crate.network-service-api.html" class="wiki_link">pallet.crate.network-service</a></li><li><a href="pallet.debug-api.html" class="wiki_link">pallet.debug</a></li><li><a href="pallet.enlive-api.html" class="wiki_link">pallet.enlive</a></li><li><a href="pallet.environment-api.html" class="wiki_link">pallet.environment</a></li><li><a href="pallet.execute-api.html" class="wiki_link">pallet.execute</a></li><li><a href="pallet.futures-api.html" class="wiki_link">pallet.futures</a></li><li><a href="pallet.heynote-api.html" class="wiki_link">pallet.heynote</a></li><li><a href="pallet.main-api.html" class="wiki_link">pallet.main</a></li><li><a href="pallet.main-invoker-api.html" class="wiki_link">pallet.main-invoker</a></li><li><a href="pallet.maven-api.html" class="wiki_link">pallet.maven</a></li><li><a href="pallet.md5crypt-api.html" class="wiki_link">pallet.md5crypt</a></li><li><a href="pallet.parameter-api.html" class="wiki_link">pallet.parameter</a></li><li><a href="pallet.phase-api.html" class="wiki_link">pallet.phase</a></li><li><a href="pallet.repl-api.html" class="wiki_link">pallet.repl</a></li><li><a href="pallet.request-map-api.html" class="wiki_link">pallet.request-map</a></li><li><a href="pallet.resource-api.html" class="wiki_link">pallet.resource</a></li><li><a href="pallet.session-api.html" class="wiki_link">pallet.session</a></li><li><a href="pallet.shell-api.html" class="wiki_link">pallet.shell</a></li><li><a href="pallet.strint-api.html" class="wiki_link">pallet.strint</a></li><li><a href="pallet.target-api.html" class="wiki_link">pallet.target</a></li><li><a href="pallet.task.add-service-api.html" class="wiki_link">pallet.task.add-service</a></li><li><a href="pallet.task.containers-api.html" class="wiki_link">pallet.task.containers</a></li><li><a href="pallet.task.converge-api.html" class="wiki_link">pallet.task.converge</a></li><li><a href="pallet.task.converge-cluster-api.html" class="wiki_link">pallet.task.converge-cluster</a></li><li><a href="pallet.task.describe-node-api.html" class="wiki_link">pallet.task.describe-node</a></li><li><a href="pallet.task.destroy-cluster-api.html" class="wiki_link">pallet.task.destroy-cluster</a></li><li><a href="pallet.task.feedback-api.html" class="wiki_link">pallet.task.feedback</a></li><li><a href="pallet.task.help-api.html" class="wiki_link">pallet.task.help</a></li><li><a href="pallet.task.lift-api.html" class="wiki_link">pallet.task.lift</a></li><li><a href="pallet.task.new-project-api.html" class="wiki_link">pallet.task.new-project</a></li><li><a href="pallet.task.nodes-api.html" class="wiki_link">pallet.task.nodes</a></li><li><a href="pallet.task.providers-api.html" class="wiki_link">pallet.task.providers</a></li><li><a href="pallet.task.to-blob-api.html" class="wiki_link">pallet.task.to-blob</a></li><li><a href="pallet.task.version-api.html" class="wiki_link">pallet.task.version</a></li><li><a href="pallet.task.vmfest-script-api.html" class="wiki_link">pallet.task.vmfest-script</a></li><li><a href="pallet.template-api.html" class="wiki_link">pallet.template</a></li><li><a href="pallet.utils-api.html" class="wiki_link">pallet.utils</a></li>
    </ul>
  </div>
</div>
</div>
      <div id="rightcolumn">
	<div id="Content">
	  <div class="contentBox"><div class="innerContentBox">
              <div id="content_view" class="wiki wikiPage">
                <div id="right-sidebar"><div id="toc">
  <h1 class="nopad">Table of Contents</h1>
  <div style="margin-left: 1em;" class="toc-section">
    <a href="#toc0">Overview</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action/action">action</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action/action-fn">action-fn</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action/action-metadata">action-metadata</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action/aggregated-action">aggregated-action</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action/as-clj-action">as-clj-action</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action/bash-action">bash-action</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action/clj-action">clj-action</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action/collected-action">collected-action</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action/def-action-def">def-action-def</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action/enter-scope">enter-scope</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action/leave-scope">leave-scope</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action/schedule-action">schedule-action</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action/with-precedence">with-precedence</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.action.conditional">pallet.action.conditional</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.action.directory">pallet.action.directory</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.directory/adjust-directory">adjust-directory</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.directory/directories">directories</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.directory/directory">directory</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.directory/make-directory">make-directory</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.action.environment">pallet.action.environment</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.environment/system-environment">system-environment</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.action.exec-script">pallet.action.exec-script</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.exec-script/exec-checked-script">exec-checked-script</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.exec-script/exec-script">exec-script</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.action.file">pallet.action.file</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.file/fifo">fifo</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.file/file">file</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.file/sed">sed</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.file/symbolic-link">symbolic-link</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.file/write-md5-for-file">write-md5-for-file</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.action.filesystem">pallet.action.filesystem</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.filesystem/make-xfs-filesytem">make-xfs-filesytem</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.filesystem/mount">mount</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.action.package">pallet.action.package</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.package/add-rpm">add-rpm</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.package/add-scope">add-scope</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.package/add-scope*">add-scope*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.package/configure-package-manager">configure-package-manager</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.package/format-source">format-source</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.package/minimal-packages">minimal-packages</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.package/package">package</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.package/package-manager">package-manager</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.package/package-manager*">package-manager*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.package/package-manager-option">package-manager-option</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.package/package-source">package-source</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.package/package-source*">package-source*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.package/packages">packages</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.action.package.centos">pallet.action.package.centos</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.package.centos/add-repository">add-repository</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.package.centos/arch">arch</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.action.package.debian-backports">pallet.action.package.debian-backports</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.package.debian-backports/add-debian-backports">add-debian-backports</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.action.package.epel">pallet.action.package.epel</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.package.epel/add-epel">add-epel</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.action.package.jpackage">pallet.action.package.jpackage</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.package.jpackage/add-jpackage">add-jpackage</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.package.jpackage/jpackage-utils">jpackage-utils</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.package.jpackage/package-manager-update-jpackage">package-manager-update-jpackage</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.action.package.rpmforge">pallet.action.package.rpmforge</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.package.rpmforge/add-rpmforge">add-rpmforge</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.action.remote-directory">pallet.action.remote-directory</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.remote-directory/remote-directory">remote-directory</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.action.remote-file">pallet.action.remote-file</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.remote-file/all-options">all-options</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.remote-file/content-options">content-options</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.remote-file/ownership-options">ownership-options</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.remote-file/remote-file">remote-file</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.remote-file/set-force-overwrite">set-force-overwrite</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.remote-file/set-install-new-files">set-install-new-files</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.remote-file/transfer-file">transfer-file</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.remote-file/version-options">version-options</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.remote-file/with-remote-file">with-remote-file</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.action.rsync">pallet.action.rsync</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.rsync/rsync-directory">rsync-directory</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.action.service">pallet.action.service</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.service/init-script">init-script</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.service/init-script-path">init-script-path</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.service/service">service</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.service/with-restart">with-restart</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.action.user">pallet.action.user</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.user/group">group</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.user/user">user</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.action.user/user*">user*</a>
    </div>
    <br />
  </div>
</div>
</div>
                <div id="content-tag"><h1 id="overview">API for <span id="namespace-name">pallet.action</span></h1>
by <span id="author">Hugo Duncan</span><br />
<br />Usage:
<pre>
(ns your-namespace
  (:require <span id="long-name">pallet.action</span>))
</pre><pre>
</pre><h2>Overview</h2>
<pre id="namespace-docstr">Actions implement the conversion of phase functions to script and other
execution code.

An action has a :action-type. Known types include :script/bash
and :fn/clojure.

An action has a :location, :origin for execution on the node running
pallet, and :target for the target node.

An action has an :execution, which is one of :aggregated, :in-sequence or
:collected. Calls to :aggregated actions will be grouped, and run before
:in-sequence actions. Calls to :collected actions will be grouped, and run
after :in-sequence actions.</pre>
<br />
<h2>Public Variables and Functions</h2>
<div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.action/action">action</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (action execution action-type location [session &amp; args] &amp; body)
</pre>
  <pre id="var-docstr">Define an anonymous action</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.action/action-fn">action-fn</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (action-fn action)
</pre>
  <pre id="var-docstr">Retrieve the action-fn that is used to execute the specified action.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.action/action-metadata">action-metadata</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (action-metadata session f)
</pre>
  <pre id="var-docstr">Compute action metadata from precedence specification in session</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.action/aggregated-action">aggregated-action</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (aggregated-action [session &amp; args] &amp; body)
</pre>
  <pre id="var-docstr">Define a remotely executed aggregated action function, which will
be executed before :in-sequence actions.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.action/as-clj-action">as-clj-action</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (as-clj-action f [session &amp; args])
       (as-clj-action f)
</pre>
  <pre id="var-docstr">An adaptor for using a normal function as a local action function</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.action/bash-action">bash-action</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (bash-action [session &amp; args] &amp; body)
</pre>
  <pre id="var-docstr">Define a remotely executed bash action function.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.action/clj-action">clj-action</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (clj-action [session &amp; args] &amp; body)
</pre>
  <pre id="var-docstr">Define a clojure action to be executed on the origin machine.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.action/collected-action">collected-action</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (collected-action [session &amp; args] &amp; body)
</pre>
  <pre id="var-docstr">Define a remotely executed collected action function, which will
be executed after :in-sequence actions.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.action/def-action-def">def-action-def</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (def-action-def name actionfn1)
</pre>
  <pre id="var-docstr">Define a macro for definining action defining vars</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.action/enter-scope">enter-scope</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (enter-scope session)
</pre>
  <pre id="var-docstr">Enter a new action scope.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.action/leave-scope">leave-scope</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (leave-scope session)
</pre>
  <pre id="var-docstr">Leave the current action scope.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.action/schedule-action">schedule-action</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (schedule-action session action-fn metadata args execution action-type location)
</pre>
  <pre id="var-docstr">Registers an action in the action plan. The action is generated by the
specified action function and arguments that will be applied to the function
when the action plan is executed.

The action can be scheduled within one of three 'executions'
(conceptually, sub-phases):

:in-sequence - The generated action will be applied to the node
     "in order", as it is defined lexically in the source crate.
     This is the default.
:aggregated - All aggregated actions are applied to the node
     in the order they are defined, but before all :in-sequence
     actions. Note that all of the arguments to any given
     action function are gathered such that there is only ever one
     invocation of each fn within each phase.
:collected - All collected actions are applied to the node
     in the order they are defined, but after all :in-sequence
     action. Note that all of the arguments to any given
     action function are gathered such that there is only ever one
     invocation of each fn within each phase.

The action-type determines how the action should be handled:

:script/bash - action produces bash script for execution on remote machine
:fn/clojure  - action is a function for local execution
:transfer/to-local - action is a function specifying remote source
                     and local destination.
:transfer/from-local - action is a function specifying local source
                       and remote destination.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.action/with-precedence">with-precedence</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-precedence request m &amp; body)
</pre>
  <pre id="var-docstr">Set up local precedence relations between actions</pre>
  
</div>
<h2 id="namespace-name">pallet.action.conditional</h2>
<pre id="namespace-docstr">Conditional action execution.</pre>
<br />

<h2 id="namespace-name">pallet.action.directory</h2>
<pre id="namespace-docstr">A directory manipulation action, to create and remove directories
with given ownership and mode.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.action.directory/adjust-directory">adjust-directory</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (adjust-directory path {:keys [owner group mode recursive], :as opts})
</pre>
  <pre id="var-docstr">Script to set the ownership and mode of a directory.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.directory/directories">directories</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (directories session paths &amp; options)
</pre>
  <pre id="var-docstr">Directory management of multiple directories with the same
owner/group/permissions.

`options` are as for `directory` and are applied to each directory in
`paths`</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.directory/directory">directory</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (directory session dir-path &amp; {:keys [action recursive force path mode verbose owner group], :or {action :create, recursive true, force true, path true}, :as options})
</pre>
  <pre id="var-docstr">Directory management.

For :create and :touch, all components of path are effected.

Options are:
 - :action     One of :create, :touch, :delete
 - :recursive  Flag for recursive delete
 - :force      Flag for forced delete
 - :path       flag to create all path elements
 - :owner      set owner
 - :group      set group
 - :mode       set mode</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.directory/make-directory">make-directory</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (make-directory dir-path &amp; {:keys [path verbose mode recursive], :as opts})
</pre>
  <pre id="var-docstr">Script to create a directory.</pre>
  
</div>
<h2 id="namespace-name">pallet.action.environment</h2>
<pre id="namespace-docstr">Set up the system environment.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.action.environment/system-environment">system-environment</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (system-environment session env-name key-value-pairs &amp; {:keys [path shared], :as options})
</pre>
  <pre id="var-docstr">Define system wide default environment.
On redhat based systems, this is set in /etc/profile.d, so is only
valid within a login shell. On debian based systems, /etc/environment
is used.</pre>
  
</div>
<h2 id="namespace-name">pallet.action.exec-script</h2>
<pre id="namespace-docstr">Script execution. Script generation occurs with the correct script context.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.action.exec-script/exec-checked-script">exec-checked-script</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (exec-checked-script session name &amp; script)
</pre>
  <pre id="var-docstr">Execute a bash script remotely, throwing if any element of the
script fails.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.exec-script/exec-script">exec-script</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (exec-script session &amp; script)
</pre>
  <pre id="var-docstr">Execute a bash script remotely</pre>
  
</div>
<h2 id="namespace-name">pallet.action.file</h2>
<pre id="namespace-docstr">File manipulation.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.action.file/fifo">fifo</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (fifo session path &amp; {:keys [action], :or {action :create}, :as options})
</pre>
  <pre id="var-docstr">FIFO pipe management.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.file/file">file</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (file session path &amp; {:keys [action owner group mode force], :or {action :create, force true}, :as options})
</pre>
  <pre id="var-docstr">File management.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.file/sed">sed</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (sed session path exprs-map &amp; {:keys [seperator no-md5 restriction], :as options})
</pre>
  <pre id="var-docstr">Execute sed on a file.  Takes a path and a map for expr to replacement.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.file/symbolic-link">symbolic-link</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (symbolic-link session from name &amp; {:keys [action owner group mode force], :or {action :create, force true}})
</pre>
  <pre id="var-docstr">Symbolic link management.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.file/write-md5-for-file">write-md5-for-file</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (write-md5-for-file path md5-path)
</pre>
  <pre id="var-docstr">Create a .md5 file for the specified input file</pre>
  
</div>
<h2 id="namespace-name">pallet.action.filesystem</h2>
<pre id="namespace-docstr">Filesystem action</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.action.filesystem/make-xfs-filesytem">make-xfs-filesytem</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (make-xfs-filesytem session device)
</pre>
  <pre id="var-docstr">Format a device as an XFS filesystem.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.filesystem/mount">mount</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (mount session device mount-point &amp; {:keys [fs-type device-type automount no-automount dump-frequency boot-check-pass], :or {dump-frequency 0, boot-check-pass 0}, :as options})
</pre>
  <pre id="var-docstr">Mount a device.</pre>
  
</div>
<h2 id="namespace-name">pallet.action.package</h2>
<pre id="namespace-docstr">Package management action.

`package` is used to install or remove a package.

`package-source` is used to specify a non-standard source for packages.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.action.package/add-rpm">add-rpm</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-rpm request rpm-name &amp; {:as options})
</pre>
  <pre id="var-docstr">Add an rpm.  Source options are as for remote file.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.package/add-scope">add-scope</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-scope opts)
</pre>
  <pre id="var-docstr">Add a scope to an apt source</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.package/add-scope*">add-scope*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-scope* type scope file)
</pre>
  <pre id="var-docstr">Add a scope to all the existing package sources. Aptitude specific.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.package/configure-package-manager">configure-package-manager</h2>
  <span id="var-type">multimethod</span><br />
  <pre id="var-usage">No usage documentation available</pre>
  <pre id="var-docstr">Configure the package manager</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.package/format-source">format-source</h2>
  <span id="var-type">multimethod</span><br />
  <pre id="var-usage">No usage documentation available</pre>
  <pre id="var-docstr">Format a package source definition</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.package/minimal-packages">minimal-packages</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (minimal-packages session)
</pre>
  <pre id="var-docstr">Add minimal packages for pallet to function</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.package/package">package</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (package session package-name &amp; {:keys [action y force purge enable disable priority], :or {action :install, y true, priority 50}, :as options})
</pre>
  <pre id="var-docstr">Install or remove a package.

Options
 - :action [:install | :remove | :upgrade]
 - :purge [true|false]         when removing, whether to remove all config
 - :enable [repo|(seq repo)]   enable specific repository
 - :disable [repo|(seq repo)]  disable specific repository
 - :priority n                 priority (0-100, default 50)

Package management occurs in one shot, so that the package manager can
maintain a consistent view.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.package/package-manager">package-manager</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (package-manager session package-manager-args)
</pre>
  <pre id="var-docstr">Package manager controls.

`action` is one of the following:
- :update          - update the list of available packages
- :list-installed  - output a list of the installed packages
- :add-scope       - enable a scope (eg. multiverse, non-free)

To refresh the list of packages known to the pakage manager:
    (package-manager session :update)

To enable multiverse on ubuntu:
    (package-manager session :add-scope :scope :multiverse)

To enable non-free on debian:
    (package-manager session :add-scope :scope :non-free)</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.package/package-manager*">package-manager*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (package-manager* session action &amp; options)
</pre>
  <pre id="var-docstr">Package management.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.package/package-manager-option">package-manager-option</h2>
  <span id="var-type">multimethod</span><br />
  <pre id="var-usage">No usage documentation available</pre>
  <pre id="var-docstr">Provide packager specific options</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.package/package-source">package-source</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (package-source session name &amp; {:as options})
</pre>
  <pre id="var-docstr">Control package sources.
Options are the package manager keywords, each specifying a map of
packager specific options.

:aptitude
  - :source-type string   - source type (deb)
  - :url url              - repository url
  - :scopes seq           - scopes to enable for repository
  - :key-url url          - url for key
  - :key-id id            - id for key to look it up from keyserver

:yum
  - :name                 - repository name
  - :url url          - repository base url
  - :gpgkey url           - gpg key url for repository

Example
    (package-source "Partner"
      :aptitude {:url "http://archive.canonical.com/"
                 :scopes ["partner"]})</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.package/package-source*">package-source*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (package-source* session name &amp; {:as options})
</pre>
  <pre id="var-docstr">Add a packager source.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.package/packages">packages</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (packages session &amp; {:keys [yum aptitude pacman brew], :as options})
</pre>
  <pre id="var-docstr">Install a list of packages keyed on packager.
(packages session
  :yum ["git" "git-email"]
  :aptitude ["git-core" "git-email"])</pre>
  
</div>
<h2 id="namespace-name">pallet.action.package.centos</h2>
<pre id="namespace-docstr">Actions for working with the centos repositories</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.action.package.centos/add-repository">add-repository</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-repository session &amp; {:keys [version repository enabled priority], :or {version 5.5, repository os, enabled 0, priority 50}})
</pre>
  <pre id="var-docstr">Add a centos repository. By default, ensure that it has a lower than default
priority.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.package.centos/arch">arch</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (arch session)
</pre>
  <pre id="var-docstr">Return the centos package architecture for the target node.</pre>
  
</div>
<h2 id="namespace-name">pallet.action.package.debian-backports</h2>
<pre id="namespace-docstr">Actions for working with the debian backports repository</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.action.package.debian-backports/add-debian-backports">add-debian-backports</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-debian-backports session)
</pre>
  <pre id="var-docstr">Add debian backport package repository</pre>
  
</div>
<h2 id="namespace-name">pallet.action.package.epel</h2>
<pre id="namespace-docstr">Actions for working with the epel repository</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.action.package.epel/add-epel">add-epel</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-epel session &amp; {:keys [version], :or {version 5-4}})
</pre>
  <pre id="var-docstr">Add the EPEL repository</pre>
  
</div>
<h2 id="namespace-name">pallet.action.package.jpackage</h2>
<pre id="namespace-docstr">Actions for working with the jpackage repository</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.action.package.jpackage/add-jpackage">add-jpackage</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-jpackage session &amp; {:keys [version component releasever enabled], :or {component redhat-el, releasever $releasever, version 5.0, enabled 0}})
</pre>
  <pre id="var-docstr">Add the jpackage repository.  component should be one of:
  fedora
  redhat-el

Installs the jpackage-utils package from the base repos at a
pritority of 25.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.package.jpackage/jpackage-utils">jpackage-utils</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (jpackage-utils session)
</pre>
  <pre id="var-docstr">Add jpackge-utils. Due to incompatibilities on RHEL derived distributions,
a compatability package is required.

https://bugzilla.redhat.com/show_bug.cgi?id=260161
<a href="https://bugzilla.redhat.com/show_bug.cgi?id=497213">https://bugzilla.redhat.com/show_bug.cgi?id=497213</a></pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.package.jpackage/package-manager-update-jpackage">package-manager-update-jpackage</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (package-manager-update-jpackage request)
</pre>
  <pre id="var-docstr">Update the package lists for the jpackage repositories</pre>
  
</div>
<h2 id="namespace-name">pallet.action.package.rpmforge</h2>
<pre id="namespace-docstr">Actions for working with the rpmforge repository</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.action.package.rpmforge/add-rpmforge">add-rpmforge</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-rpmforge session &amp; {:keys [version distro arch], :or {version 0.5.2-2, distro el5, arch i386}})
</pre>
  <pre id="var-docstr">Add the rpmforge repository</pre>
  
</div>
<h2 id="namespace-name">pallet.action.remote-directory</h2>
<pre id="namespace-docstr">Action to specify the content of a remote directory.  At present the
content can come from a downloaded tar or zip file.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.action.remote-directory/remote-directory">remote-directory</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (remote-directory session path &amp; {:keys [action url local-file remote-file unpack tar-options unzip-options jar-options strip-components md5 md5-url owner group recursive force-overwrite local-file-options], :or {action :create, tar-options xz, unzip-options -o, jar-options xf, strip-components 1, recursive true}, :as options})
</pre>
  <pre id="var-docstr">Specify the contents of remote directory.

Options:
 - :url              - a url to download content from
 - :unpack           - how download should be extracts (default :tar)
 - :tar-options      - options to pass to tar (default "xz")
 - :unzip-options    - options to pass to unzip (default "-o")
 - :jar-options      - options to pass to unzip (default "xf")
                       jar does not support stripping path components
 - :strip-components - number of path compnents to remove when unpacking
 - :md5              - md5 of file to unpack
 - :md5-url          - url of md5 file for file to unpack

Ownership options:
 - :owner            - owner of files
 - :group            - group of files
 - :recursive        - flag to recursively set owner and group

To install the content of an url pointing at a tar file, specify the :url
option.
    (remote-directory session path
       :url "http://a.com/path/file.tgz")

If there is an md5 url with the tar file's md5, you can specify that as well,
to prevent unecessary downloads and verify the content.
    (remote-directory session path
       :url "http://a.com/path/file.tgz"
       :md5-url "http://a.com/path/file.md5")

To install the content of an url pointing at a zip file, specify the :url
option and :unpack :unzip.
    (remote-directory session path
       :url "http://a.com/path/file."
       :unpack :unzip)</pre>
  
</div>
<h2 id="namespace-name">pallet.action.remote-file</h2>
<pre id="namespace-docstr">Action to specify remote file content.

`remote-file` has many options for the content of remote files.  Ownership
and mode can of course be specified. By default the remote file is versioned,
and multiple versions are kept.

Modification of remote files outside of pallet cause an error to be raised
by default.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.action.remote-file/all-options">all-options</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">A vector of the options accepted by remote-file.  Can be used for option
forwarding when calling remote-file from other crates.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.remote-file/content-options">content-options</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">A vector of the options accepted by remote-file.  Can be used for option
forwarding when calling remote-file from other crates.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.remote-file/ownership-options">ownership-options</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">A vector of options for controlling ownership. Can be used for option
forwarding when calling remote-file from other crates.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.remote-file/remote-file">remote-file</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (remote-file session path &amp; {:keys [action url local-file remote-file link content literal template values md5 md5-url owner group mode force blob blobstore overwrite-changes no-versioning max-versions flag-on-changed local-file-options], :as options})
</pre>
  <pre id="var-docstr">Remote file content management.

The `remote-file` action can specify the content of a remote file in a number
different ways.

By default, the remote-file is versioned, and 5 versions are kept.

The remote content is also verified against it's md5 hash.  If the contents
of the remote file have changed (e.g. have been edited on the remote machine)
then by default the file will not be overwritten, and an error will be raised.
To force overwrite, call `set-force-overwrite` before running `converge` or
`lift`.

Options for specifying the file's content are:
  :url url          - download the specified url to the given filepath
  :content string   - use the specified content directly
  :local-file path  - use the file on the local machine at the given path
  :remote-file path - use the file on the remote machine at the given path
  :link             - file to link to
  :literal          - prevent shell expansion on content
  :md5              - md5 for file
  :md5-url          - a url containing file's md5
  :template         - specify a template to be interpolated
  :values           - values for interpolation
  :blob             - map of :container, :path
  :blobstore        - a jclouds blobstore object (override blobstore in session)

Options for version control are:
  :overwrite-changes - flag to force overwriting of locally modified content
  :no-versioning    - do not version the file
  :max-versions     - specfy the number of versions to keep (default 5)
  :flag-on-changed  - flag to set if file is changed

Options for specifying the file's permissions are:
  :owner user-name
  :group group-name
  :mode  file-mode

To copy the content of a local file to a remote file:
    (remote-file session "remote/path" :local-file "local/path")

To copy the content of one remote file to another remote file:
    (remote-file session "remote/path" :remote-file "remote/source/path")

To link one remote file to another remote file:
    (remote-file session "remote/path" :link "remote/source/path")

To download a url to a remote file:
    (remote-file session "remote/path" :url "http://a.com/path")

If a url to a md5 file is also available, then it can be specified to prevent
unnecessary downloads and to verify the download.
    (remote-file session "remote/path"
      :url "http://a.com/path"
      :md5-url "http://a.com/path.md5")

If the md5 of the file to download, it can be specified to prevent unnecessary
downloads and to verify the download.
    (remote-file session "remote/path"
      :url "http://a.com/path"
      :md5 "6de9439834c9147569741d3c9c9fc010")

Content can also be copied from a blobstore.
    (remote-file session "remote/path"
      :blob {:container "container" :path "blob"})</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.remote-file/set-force-overwrite">set-force-overwrite</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (set-force-overwrite flag)
</pre>
  <pre id="var-docstr">Globally force installation of new files, even if content on node has
changed.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.remote-file/set-install-new-files">set-install-new-files</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (set-install-new-files flag)
</pre>
  <pre id="var-docstr">Set boolean flag to control installation of new files</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.remote-file/transfer-file">transfer-file</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (transfer-file session local-path remote-path {:as options})
</pre>
  <pre id="var-docstr">Function to transfer a local file.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.remote-file/version-options">version-options</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">A vector of options for controlling versions. Can be used for option
forwarding when calling remote-file from other crates.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.remote-file/with-remote-file">with-remote-file</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (with-remote-file session f path &amp; args)
</pre>
  <pre id="var-docstr">Function to call f with a local copy of the sessioned remote path.
f should be a function taking [session local-path &amp; _], where local-path will
be a File with a copy of the remote file (which will be unlinked after
calling f.</pre>
  
</div>
<h2 id="namespace-name">pallet.action.rsync</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.action.rsync/rsync-directory">rsync-directory</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (rsync-directory session from to &amp; {:keys [owner group mode port], :as options})
</pre>
  <pre id="var-docstr">Rsync from a local directory to a remote directory.</pre>
  
</div>
<h2 id="namespace-name">pallet.action.service</h2>
<pre id="namespace-docstr">Service control.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.action.service/init-script">init-script</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (init-script session service-name &amp; {:keys [action url local-file remote-file link content literal template values md5 md5-url force], :or {action :create}, :as options})
</pre>
  <pre id="var-docstr">Install an init script.  Sources as for remote-file.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.service/init-script-path">init-script-path</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (init-script-path service-name)
</pre>
  <pre id="var-docstr">Path to the specified init script</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.service/service">service</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (service session service-name &amp; {:keys [action if-flag], :or {action :start}, :as options})
</pre>
  <pre id="var-docstr">Control services.

- :action  accepts either startstop, restart, enable or disable keywords.
- :if-flag  makes start, stop, and restart confitional on the specified flag
            as set, for example, by remote-file :flag-on-changed
- :sequence-start  a sequence of [sequence-number level level ...], where
                   sequence number determines the order in which services
                   are started within a level.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.service/with-restart">with-restart</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-restart session service-name &amp; body)
</pre>
  <pre id="var-docstr">Stop the given service, execute the body, and then restart.</pre>
  
</div>
<h2 id="namespace-name">pallet.action.user</h2>
<pre id="namespace-docstr">User management action.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.action.user/group">group</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (group session groupname &amp; {:keys [action system gid password], :or {action :manage}, :as options})
</pre>
  <pre id="var-docstr">User Group Management.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.user/user">user</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (user session username &amp; {:keys [action shell base-dir home system create-home password shell comment groups remove force], :or {action :manage}, :as options})
</pre>
  <pre id="var-docstr">User management.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.action.user/user*">user*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (user* session username &amp; {:keys [action shell base-dir home system create-home password shell comment groups remove force], :or {action :manage}, :as options})
</pre>
  <pre id="var-docstr">Require a user</pre>
  
</div>


</div>
              </div>
            </div>
          </div>
	</div>
	<div id="foot">
	  <div style="text-align: center;" id="copyright">Copyright (c) 2010 Hugo Duncan</div>
	</div>
      </div>
      <div id="DesignedBy">Logo &amp; site design by <a title="Visit Tom Hickey's website." href="http://www.tomhickey.com">Tom Hickey</a>.<br />
      Clojure auto-documentation system by Tom Faulhaber.</div>
    </div>
    <!-- /AllContentContainer -->
  </body>

</html>