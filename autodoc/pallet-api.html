<html>
  <head>
    <title>pallet API reference (Pallet)</title>
    <link href="static/favicon.png" rel="icon" />
    <link href="static/favicon.png" rel="shortcut icon" />
    <link media="all" type="text/css" href="static/clojure.css" rel="stylesheet" />
    <link media="all" type="text/css" href="static/wiki.css" rel="stylesheet" />
    <link media="all" type="text/css" href="static/internal.css" rel="stylesheet" />
    <!-- TODO: are we using these (from clojure.org)? If so, add the files -->
    <script src="file/view/code_highlighter.js" type="text/javascript"></script>
    <script src="file/view/clojure.js" type="text/javascript"></script>
    <style>.menuWrapper{height: 36px;}</style>
    <!--[if lte IE 6]>
    <link rel="stylesheet" href="http://www.wikispaces.com/_/2009051601/s/internal_ie.css" type="text/css" />
    <![endif]-->
  </head>
<!--
This document was auto-generated from the source by the clojure autodoc system.
To report errors or ask questions about the overall documentation structure, formatting,
etc., contact Tom Faulhaber (google mail name: tomfaulhaber).
For errors in the documentation of a particular namespace, contact the author of that
namespace.
-->
  <body>
    <div id="AllContentContainer">
      <div id="Header">
	<a id="Logo" href="index.html"><img alt="Clojure" height="100" width="100" src="static/clojure-icon.gif" /></a>
	<h1><a title="page header title" id="page-header" href="index.html">Pallet</a></h1>
      </div>
      <div id="leftcolumn"><div style="text-align: center;"></div>
<div class="menu">
  <div class="WikiCustomNav WikiElement wiki">
    <a class="wiki_link" href="index.html">Overview</a><br />
    <a class="wiki_link" href="api-index.html">API Index</a><br />
    <a class="wiki_link" href="#">Namespaces:</a>
    <ul id="left-sidebar-list">
      <li><a href="demo-api.html" class="wiki_link">demo</a></li><li><a href="pallet-api.html" class="wiki_link">pallet</a></li>
    </ul>
  </div>
</div>
</div>
      <div id="rightcolumn">
	<div id="Content">
	  <div class="contentBox"><div class="innerContentBox">
              <div id="content_view" class="wiki wikiPage">
                <div id="right-sidebar"><div id="toc">
  <h1 class="nopad">Table of Contents</h1>
  <div style="margin-left: 1em;" class="toc-section">
    <a href="#toc0">Overview</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.argument">pallet.argument</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.argument/DelayedArgument">DelayedArgument</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.argument/delayed">delayed</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.argument/delayed-fn">delayed-fn</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.chef">pallet.chef</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.command-line">pallet.command-line</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.command-line/group-by">group-by</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.command-line/join">join</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.command-line/with-command-line">with-command-line</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.command-script">pallet.command-script</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.command-script/defn-download">defn-download</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.command-script/http-client">http-client</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.command-script/jar-name">jar-name</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.command-script/local-path">local-path</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.command-script/m2-repository-path">m2-repository-path</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.command-script/normalize-scriptname">normalize-scriptname</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.command-script/remote-path">remote-path</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.command-script/resolve-symlinks">resolve-symlinks</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.compute">pallet.compute</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.core">pallet.core</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.automated-admin-user">pallet.crate.automated-admin-user</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.automated-admin-user/automated-admin-user">automated-admin-user</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.chef">pallet.crate.chef</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.cloudkick">pallet.crate.cloudkick</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.crontab">pallet.crate.crontab</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.crontab/crontab">crontab</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.crontab/system-crontab">system-crontab</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.cruise-control-rb">pallet.crate.cruise-control-rb</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.cruise-control-rb/cruise-control-rb">cruise-control-rb</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.cruise-control-rb/cruise-control-rb-init">cruise-control-rb-init</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.cruise-control-rb/cruise-control-rb-job">cruise-control-rb-job</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.cruise-control-rb/determine-scm-type">determine-scm-type</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.etc-default">pallet.crate.etc-default</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.etc-default/write">write</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.ganglia">pallet.crate.ganglia</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.github">pallet.crate.github</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.haproxy">pallet.crate.haproxy</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.hudson">pallet.crate.hudson</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.iozone">pallet.crate.iozone</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.iptables">pallet.crate.iptables</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.iptables/iptables-accept-established">iptables-accept-established</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.iptables/iptables-accept-icmp">iptables-accept-icmp</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.iptables/iptables-accept-port">iptables-accept-port</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.iptables/iptables-redirect-port">iptables-redirect-port</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.iptables/iptables-rule">iptables-rule</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.iptables/iptables-throttle">iptables-throttle</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.java">pallet.crate.java</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.jetty">pallet.crate.jetty</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.monit">pallet.crate.monit</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.nginx">pallet.crate.nginx</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.node-js">pallet.crate.node-js</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.postfix">pallet.crate.postfix</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.public-dns-if-no-nameserver">pallet.crate.public-dns-if-no-nameserver</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.public-dns-if-no-nameserver/public-dns-if-no-nameserver">public-dns-if-no-nameserver</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.resolv">pallet.crate.resolv</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.resolv/resolv">resolv</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.ruby">pallet.crate.ruby</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.rubygems">pallet.crate.rubygems</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.sphinx">pallet.crate.sphinx</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.sphinx/sphinx">sphinx</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.splunk">pallet.crate.splunk</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.ssh">pallet.crate.ssh</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.ssh-key">pallet.crate.ssh-key</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.ssh-key/authorize-key">authorize-key</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.ssh-key/authorize-key-for-localhost">authorize-key-for-localhost</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.ssh-key/generate-key">generate-key</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.ssh-key/install-key">install-key</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.sudoers">pallet.crate.sudoers</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.crate.sudoers/sudoers">sudoers</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.syslog-ng">pallet.crate.syslog-ng</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.tomcat">pallet.crate.tomcat</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.upstart">pallet.crate.upstart</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.crate.wordpress">pallet.crate.wordpress</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.enlive">pallet.enlive</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.enlive/defsnippet">defsnippet</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.enlive/xml-emit">xml-emit</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.enlive/xml-template">xml-template</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.execute">pallet.execute</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.execute/execute-ssh-cmds">execute-ssh-cmds</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.execute/local-cmds">local-cmds</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.execute/remote-sudo">remote-sudo</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.execute/sh-script">sh-script</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.execute/ssh-cmds">ssh-cmds</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.execute/system">system</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.heynote">pallet.heynote</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.heynote/add-comment">add-comment</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.heynote/item">item</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.heynote/items">items</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.heynote/message-map">message-map</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.heynote/new-item">new-item</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.heynote/project">project</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.heynote/send-msg">send-msg</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.main">pallet.main</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.main/-main">-main</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.main/map-and-resolve-symbols">map-and-resolve-symbols</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.main/parse-as-qualified-symbol">parse-as-qualified-symbol</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.main-invoker">pallet.main-invoker</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.maven">pallet.maven</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.maven/credentials">credentials</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.md5crypt">pallet.md5crypt</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.md5crypt/clean-salt">clean-salt</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.md5crypt/crypt">crypt</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.md5crypt/to64">to64</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.parameter">pallet.parameter</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.parameter/from-map">from-map</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.parameter/lookup">lookup</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.parameter/lookup-for-target">lookup-for-target</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.parameter/parameters">parameters</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.repl">pallet.repl</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.request-map">pallet.request-map</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource">pallet.resource</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/after-phase">after-phase</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/bound-invocations">bound-invocations</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/build-resources">build-resources</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/defaggregate">defaggregate</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/defcollect">defcollect</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/deflocal">deflocal</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/defresource">defresource</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/execute-after-phase">execute-after-phase</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/execute-commands">execute-commands</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/execute-pre-phase">execute-pre-phase</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/invocations-&gt;resource-fns">invocations-&gt;resource-fns</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/invoke-resource">invoke-resource</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/output-resources">output-resources</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/phase">phase</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/phase-list">phase-list</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/phase-list*">phase-list*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/pre-phase">pre-phase</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/produce-phase">produce-phase</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/produce-phases">produce-phases</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/resource-evaluate-fn">resource-evaluate-fn</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/script-join">script-join</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.directory">pallet.resource.directory</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.directory/directories">directories</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.directory/directory">directory</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.exec-script">pallet.resource.exec-script</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.file">pallet.resource.file</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.file/fifo">fifo</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.file/file">file</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.file/heredoc">heredoc</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.file/sed">sed</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.file/symbolic-link">symbolic-link</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.filesystem-layout">pallet.resource.filesystem-layout</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.hostinfo">pallet.resource.hostinfo</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.package">pallet.resource.package</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.remote-directory">pallet.resource.remote-directory</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.remote-directory/remote-directory">remote-directory</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.remote-file">pallet.resource.remote-file</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.remote-file/all-options">all-options</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.remote-file/content-options">content-options</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.remote-file/remote-file">remote-file</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.resource-when">pallet.resource.resource-when</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.service">pallet.resource.service</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.service/init-script">init-script</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.service/service">service</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.service/with-restart">with-restart</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.user">pallet.resource.user</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.user/group">group</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.user/user">user</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.user/user*">user*</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.script">pallet.script</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.script/*template*">*template*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.script/defscript">defscript</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.script/dispatch-target">dispatch-target</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.script/implement">implement</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.script/invoke-target">invoke-target</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.script/remove-script">remove-script</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.script/with-line-number">with-line-number</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.script/with-template">with-template</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.stevedore">pallet.stevedore</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/chain-commands">chain-commands</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/chain-commands*">chain-commands*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/chained-script">chained-script</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/checked-commands">checked-commands</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/checked-commands*">checked-commands*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/checked-script">checked-script</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/defimpl">defimpl</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/do-script">do-script</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/do-script*">do-script*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/map-to-arg-string">map-to-arg-string</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/option-args">option-args</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/script">script</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.strint">pallet.strint</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.strint/&lt;&lt;!">&lt;&lt;!</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.strint/capture-values">capture-values</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.target">pallet.target</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.target/admin-group">admin-group</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.target/os-family">os-family</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.target/packager">packager</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.converge">pallet.task.converge</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.describe-node">pallet.task.describe-node</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.feedback">pallet.task.feedback</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.help">pallet.task.help</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.task.help/help-for">help-for</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.task.help/tasks">tasks</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.lift">pallet.task.lift</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.new-project">pallet.task.new-project</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.nodes">pallet.task.nodes</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.providers">pallet.task.providers</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.task.providers/providers">providers</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.version">pallet.task.version</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.template">pallet.template</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.template/candidate-templates">candidate-templates</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.template/find-template">find-template</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.template/get-resource">get-resource</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.template/interpolate-template">interpolate-template</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.template/path-components">path-components</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.template/pathname">pathname</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.template.properties">pallet.template.properties</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.template.properties/properties">properties</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.thread-expr">pallet.thread-expr</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.thread-expr/apply-&gt;">apply-&gt;</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.thread-expr/for-&gt;">for-&gt;</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.thread-expr/if-&gt;">if-&gt;</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.thread-expr/if-not-&gt;">if-not-&gt;</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.thread-expr/when-&gt;">when-&gt;</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.thread-expr/when-let-&gt;">when-let-&gt;</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.thread-expr/when-not-&gt;">when-not-&gt;</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.utils">pallet.utils</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/*admin-user*">*admin-user*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/make-user">make-user</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/slurp-resource">slurp-resource</a>
    </div>
    <br />
  </div>
</div>
</div>
                <div id="content-tag"><h1 id="overview">API for <span id="namespace-name">pallet</span></h1>
by <span id="author">Hugo Duncan</span><br />
<br />Usage:
<pre>
(ns your-namespace
  (:require <span id="long-name">pallet</span>))
</pre><pre>
</pre><h2>Overview</h2>
<pre id="namespace-docstr">Pallet is used to provision and maintain compute nodes, and aims to solve the
problem of providing a consistently configured running image across a range of
clouds.  It is designed for use from the Clojure (<a href="http://clojure.org)">http://clojure.org)</a> REPL, and
from clojure scripts.

It uses jclouds (<a href="http://github.com/jclouds/jclouds)">http://github.com/jclouds/jclouds)</a> to gain portable access to
different cloud providers.  While jclouds solves the issue of creating
destroying and configuring cloud level access to nodes, it does not address the
differences in images used across providers.  This is what Pallet adds.

defnode is used to decalre node types, specifying the image template and
possibly bootstrap and other configuration. The converge function can then be
used to control the number of nodes of each type that are running in your cloud,
and applies the declared configuration as required.  The lift function can
also be used to apply configuration without adjusting node counts.  Both
converge and lift accept inline definiton of configuration actions that should
be run.

In pallet, low level resources can be combined in clojure functions, known as
crates, that are used to specify configuration.  Crates are clojure functions
that have an initial `request` argument, and can call other crates, with
arguments, as required. The request argument is used to carry the configuration
request state, and is updated, and returned by each reasource function.  The
request map must be threaded through each resource or crate call.

Crates can be packaged and distributed as clojure jar files.

API documentation (<a href="http://hugoduncan.github.com/pallet)">http://hugoduncan.github.com/pallet)</a> is available.

## Usage

See demo documentation (http://hugoduncan.github.com/pallet/demo-api.html).

## Todo

Make password handling shell character safe.
Add progress reporting.

## Installation

Installation is with Leiningen (<a href="http://github.com/technomancy/leiningen)">http://github.com/technomancy/leiningen)</a>.  Add
`[pallet "0.0.1-SNAPSHOT"]` to your :dependencies in project.clj.</pre>
<span id="see-also">See also: 
  <span id="see-also-link">
    <a href="chef">http://wiki.opscode.com/display/chef/Home</a>
  </span><span id="see-also-link">
    <a href="jclouds">http://github.com/jclouds/jclouds</a>
  </span><br />
</span><br />
<h2>Public Variables and Functions</h2>

<h2 id="namespace-name">pallet.argument</h2>
<pre id="namespace-docstr">Arguments to resources.  Adds capability of evaluating arguments at
resource application</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.argument/DelayedArgument">DelayedArgument</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">A protocol for passing arguments, with delayed evaluation.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/argument.clj#L5" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.argument/delayed">delayed</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (delayed [request-sym] &amp; body)
</pre>
  <pre id="var-docstr">Pass an argument to be evaluated at resource applicaiton time.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/argument.clj#L26" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.argument/delayed-fn">delayed-fn</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (delayed-fn f)
</pre>
  <pre id="var-docstr">Pass a function with a single argument, to be used to compute an argument at
resource applicaiton time.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/argument.clj#L20" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.chef</h2>
<pre id="namespace-docstr">Execute chef recipes using chef solo.</pre>
<br />

<h2 id="namespace-name">pallet.command-line</h2>
<pre id="namespace-docstr">Process command-line arguments according to a given cmdspec</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.command-line/group-by">group-by</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (group-by f coll)
</pre>
  <pre id="var-docstr">Returns a sorted map of the elements of coll keyed by the result of
f on each element. The value at each key will be a vector of the
corresponding elements, in the order they appeared in coll.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/8da9d06639c300b1547aa90577a2a8f3f525fd88/src/pallet/command_line.clj#L24" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.command-line/join">join</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (join separator coll)
</pre>
  <pre id="var-docstr">Returns a string of all elements in coll, separated by
separator.  Like Perl's join.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/8da9d06639c300b1547aa90577a2a8f3f525fd88/src/pallet/command_line.clj#L18" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.command-line/with-command-line">with-command-line</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-command-line args desc cmdspec &amp; body)
</pre>
  <pre id="var-docstr">Bind locals to command-line args.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/8da9d06639c300b1547aa90577a2a8f3f525fd88/src/pallet/command_line.clj#L108" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.command-script</h2>
<pre id="namespace-docstr">Produce a shell script for launching Pallet, possibly customised for extra jars</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.command-script/defn-download">defn-download</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (defn-download artifacts)
</pre>
  <pre id="var-docstr">Produces a function to unconditionaly download artifacts</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/35ff99352f437ecf491355263f0617af8c685040/src/pallet/command_script.clj#L122" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.command-script/http-client">http-client</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (http-client)
</pre>
  <pre id="var-docstr">Script to set HTTP client options.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/35ff99352f437ecf491355263f0617af8c685040/src/pallet/command_script.clj#L31" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.command-script/jar-name">jar-name</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (jar-name x)
</pre>
  <pre id="var-docstr">jar name for the artifact</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.command-script/local-path">local-path</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (local-path x)
</pre>
  <pre id="var-docstr">Local path for installing the artifact</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.command-script/m2-repository-path">m2-repository-path</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (m2-repository-path)
</pre>
  <pre id="var-docstr">Return a script fragment setting $repo to the local maven repository path</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/35ff99352f437ecf491355263f0617af8c685040/src/pallet/command_script.clj#L92" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.command-script/normalize-scriptname">normalize-scriptname</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (normalize-scriptname)
</pre>
  <pre id="var-docstr">normalize $0 on certain BSDs</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/35ff99352f437ecf491355263f0617af8c685040/src/pallet/command_script.clj#L11" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.command-script/remote-path">remote-path</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (remote-path x)
</pre>
  <pre id="var-docstr">Remote path for downloading the artifact</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.command-script/resolve-symlinks">resolve-symlinks</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (resolve-symlinks)
</pre>
  <pre id="var-docstr">resolve symlinks to the script itself portably</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/35ff99352f437ecf491355263f0617af8c685040/src/pallet/command_script.clj#L19" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.compute</h2>
<pre id="namespace-docstr">Additions to the jclouds compute interface</pre>
<br />

<h2 id="namespace-name">pallet.core</h2>
<pre id="namespace-docstr">Pallet is a functional configuration management system, that can be used to
provision and manage configured compute nodes.

It uses a declaritive map for specifying the number of nodes with a given tag.
Each tag is used to look up a machine image template specification (in jclouds),
and to configuration information (in chef).  The converge function then
tries to bring you compute servers into alignment with your declared counts and
configurations.

The bootstrap process for new compute nodes installs a user with sudo
permissions, using the specified username and password. The installed user is
used to execute the chef cookbooks.

Once the nodes are bootstrapped, and fall all existing nodes
the configured node information is written to the "compute-nodes" cookbook
before chef is run, and this provides a :compute_nodes attribute.  The
compute-nodes cookbook is expected to exist in the site-cookbooks of the
chef-repository you specify with `with-chef-repository`.</pre>
<br />

<h2 id="namespace-name">pallet.crate.automated-admin-user</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.automated-admin-user/automated-admin-user">automated-admin-user</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (automated-admin-user request)
       (automated-admin-user request username)
       (automated-admin-user request username &amp; public-key-paths)
</pre>
  <pre id="var-docstr">Builds a user for use in remote-admin automation. The user is given
permission to sudo without password, so that passwords don't have to appear
in scripts, etc.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/28127ff5d1f1fcda5d00a771cda4574cc2a87c3a/src/pallet/crate/automated_admin_user.clj#L10" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.chef</h2>
<pre id="namespace-docstr">Installation of chef</pre>
<br />

<h2 id="namespace-name">pallet.crate.cloudkick</h2>
<pre id="namespace-docstr">Agent install for cloudkick</pre>
<br />

<h2 id="namespace-name">pallet.crate.crontab</h2>
<pre id="namespace-docstr">crontab management</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.crontab/crontab">crontab</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (crontab request user &amp; {:keys [action], :or {action :create}, :as options})
</pre>
  <pre id="var-docstr">Manage a user's crontab file. Valid actions are :create or :remove.
Options are as for remote-file.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/8878b545816b80afde9a5c1326c26f16c3af81e6/src/pallet/crate/crontab.clj#L16" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.crontab/system-crontab">system-crontab</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (system-crontab request name &amp; options)
</pre>
  <pre id="var-docstr">Manage a system crontab file. Valid actions are :create or :remove.
Options are as for remote-file.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/8878b545816b80afde9a5c1326c26f16c3af81e6/src/pallet/crate/crontab.clj#L40" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.cruise-control-rb</h2>
<pre id="namespace-docstr">Installation cruise-control.rb</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.cruise-control-rb/cruise-control-rb">cruise-control-rb</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (cruise-control-rb request)
       (cruise-control-rb request version)
</pre>
  <pre id="var-docstr">Downloads and installs the specified version of cruisecontrol.rb.  Creates a
cruiscontrol.rb init script.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/crate/cruise_control_rb.clj#L39" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.cruise-control-rb/cruise-control-rb-init">cruise-control-rb-init</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (cruise-control-rb-init request)
</pre>
  <pre id="var-docstr">Creates a cruiscontrol.rb init script.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/crate/cruise_control_rb.clj#L77" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.cruise-control-rb/cruise-control-rb-job">cruise-control-rb-job</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (cruise-control-rb-job request name repository-url &amp; {:keys [action branch], :or {action :create}, :as options})
</pre>
  <pre id="var-docstr">Add a cruise control.rb job.
Options include:
  :branch name   -- specify the branch</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/crate/cruise_control_rb.clj#L92" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.cruise-control-rb/determine-scm-type">determine-scm-type</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (determine-scm-type scm-path)
</pre>
  <pre id="var-docstr">determine the scm type</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/crate/cruise_control_rb.clj#L28" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.etc-default</h2>
<pre id="namespace-docstr">Generation and installation of /etc/default-style files.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.etc-default/write">write</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (write request filename &amp; key-value-pairs)
</pre>
  <pre id="var-docstr">Writes a KEY=value file to /etc/default/~{filename}, moving the original
file to /etc/default/~{filename}.orig if it has not yet been moved.
Note that all values are quoted, and quotes in values are escaped, but
otherwise, values are written literally.

e.g. (write "tomcat6"
       :JAVA_OPTS "-Xmx1024m"
       "JSP_COMPILER" "javac")</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/d3346ecefa7dcff776eff9d48bc9215a845e4eae/src/pallet/crate/etc_default.clj#L11" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.ganglia</h2>
<pre id="namespace-docstr">Install and configure ganglia.</pre>
<br />

<h2 id="namespace-name">pallet.crate.github</h2>
<pre id="namespace-docstr">Crate for github api</pre>
<br />

<h2 id="namespace-name">pallet.crate.haproxy</h2>
<pre id="namespace-docstr">HA Proxy installation and configuration</pre>
<br />

<h2 id="namespace-name">pallet.crate.hudson</h2>
<pre id="namespace-docstr">Installation of hudson</pre>
<br />

<h2 id="namespace-name">pallet.crate.iozone</h2>
<pre id="namespace-docstr">Crate for iozone disk benchmark</pre>
<br />

<h2 id="namespace-name">pallet.crate.iptables</h2>
<pre id="namespace-docstr">Crate for managing iptables</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.iptables/iptables-accept-established">iptables-accept-established</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (iptables-accept-established request)
</pre>
  <pre id="var-docstr">Accept established connections</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/crate/iptables.clj#L77" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.iptables/iptables-accept-icmp">iptables-accept-icmp</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (iptables-accept-icmp request)
</pre>
  <pre id="var-docstr">Accept ICMP</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/crate/iptables.clj#L83" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.iptables/iptables-accept-port">iptables-accept-port</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (iptables-accept-port request port)
       (iptables-accept-port request port protocol &amp; {:keys [source source-range], :as options})
</pre>
  <pre id="var-docstr">Accept specific port, by default for tcp.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/crate/iptables.clj#L91" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.iptables/iptables-redirect-port">iptables-redirect-port</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (iptables-redirect-port request from-port to-port)
       (iptables-redirect-port request from-port to-port protocol)
</pre>
  <pre id="var-docstr">Redirect a specific port, by default for tcp.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/crate/iptables.clj#L107" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.iptables/iptables-rule">iptables-rule</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (iptables-rule request table config-line)
</pre>
  <pre id="var-docstr">Define a rule for the iptables. The argument should be a string containing an
iptables configuration line (cf. arguments to an iptables invocation)</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/crate/iptables.clj#L45" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.iptables/iptables-throttle">iptables-throttle</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (iptables-throttle request name port)
       (iptables-throttle request name port protocol time-period hitcount)
</pre>
  <pre id="var-docstr">Throttle repeated connection attempts.
<a href="http://hostingfu.com/article/ssh-dictionary-attack-prevention-with-iptables">http://hostingfu.com/article/ssh-dictionary-attack-prevention-with-iptables</a></pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/crate/iptables.clj#L117" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.java</h2>
<pre id="namespace-docstr">Crates for java installation and configuration</pre>
<br />

<h2 id="namespace-name">pallet.crate.jetty</h2>
<pre id="namespace-docstr">Installation of jetty.</pre>
<br />

<h2 id="namespace-name">pallet.crate.monit</h2>
<pre id="namespace-docstr">Install monit</pre>
<br />

<h2 id="namespace-name">pallet.crate.nginx</h2>
<pre id="namespace-docstr">Crate for nginx management functions</pre>
<br />

<h2 id="namespace-name">pallet.crate.node-js</h2>
<pre id="namespace-docstr">Install and configure node.js</pre>
<br />

<h2 id="namespace-name">pallet.crate.postfix</h2>
<pre id="namespace-docstr">Install postfix.
To reconfigure: sudo dpkg-reconfigure postfix</pre>
<br />

<h2 id="namespace-name">pallet.crate.public-dns-if-no-nameserver</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.public-dns-if-no-nameserver/public-dns-if-no-nameserver">public-dns-if-no-nameserver</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (public-dns-if-no-nameserver request &amp; nameservers)
</pre>
  <pre id="var-docstr">Install a public nameserver if none configured</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/crate/public_dns_if_no_nameserver.clj#L10" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.resolv</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.resolv/resolv">resolv</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (resolv request domainname nameservers &amp; {:keys [search sortlist]})
</pre>
  <pre id="var-docstr">Resolv configuration. Generates a resolv.conf file.
options are:

:search    search order
:sortlist  sortlist

or one of the resolv.conf options</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/crate/resolv.clj#L59" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.ruby</h2>
<pre id="namespace-docstr">Installation of ruby from source</pre>
<br />

<h2 id="namespace-name">pallet.crate.rubygems</h2>
<pre id="namespace-docstr">Installation of rubygems from source</pre>
<br />

<h2 id="namespace-name">pallet.crate.sphinx</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.sphinx/sphinx">sphinx</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (sphinx request)
       (sphinx request version)
</pre>
  <pre id="var-docstr">Install sphinx from source</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/crate/sphinx.clj#L10" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.splunk</h2>
<pre id="namespace-docstr">Install and configure splunk</pre>
<br />

<h2 id="namespace-name">pallet.crate.ssh</h2>
<pre id="namespace-docstr">Crate for managing ssh</pre>
<br />

<h2 id="namespace-name">pallet.crate.ssh-key</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.ssh-key/authorize-key">authorize-key</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (authorize-key request user public-key-string &amp; {:keys [authorize-for-user], :as options})
</pre>
  <pre id="var-docstr">Authorize a public key on the specified user.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/a46366add71fff11a4f0e0385e075a96571a8e6d/src/pallet/crate/ssh_key.clj#L19" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.ssh-key/authorize-key-for-localhost">authorize-key-for-localhost</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (authorize-key-for-localhost request user public-key-filename &amp; {:keys [authorize-for-user], :as options})
</pre>
  <pre id="var-docstr">Authorize a user's public key on the specified user, for ssh access to
localhost.  The :authorize-for-user option can be used to specify the
user to who's authorized_keys file is modified.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/a46366add71fff11a4f0e0385e075a96571a8e6d/src/pallet/crate/ssh_key.clj#L35" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.ssh-key/generate-key">generate-key</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (generate-key request user &amp; {:keys [type file passphrase no-dir comment], :or {type rsa, passphrase }, :as options})
</pre>
  <pre id="var-docstr">Generate an ssh key pair for the given user, unless one already
exists. Options are:
  :file path     -- output file name (within ~user/.ssh directory)
  :type key-type -- key type selection
  :no-dir true   -- do note ensure directory exists
  :passphrase    -- new passphrase for encrypring the private key
  :comment       -- comment for new key</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/a46366add71fff11a4f0e0385e075a96571a8e6d/src/pallet/crate/ssh_key.clj#L78" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.crate.ssh-key/install-key">install-key</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (install-key request user key-name private-key-string public-key-string)
</pre>
  <pre id="var-docstr">Install a ssh private key.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/a46366add71fff11a4f0e0385e075a96571a8e6d/src/pallet/crate/ssh_key.clj#L57" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.sudoers</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.crate.sudoers/sudoers">sudoers</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (sudoers aliases defaults specs)
</pre>
  <pre id="var-docstr">Sudo configuration. Generates a sudoers file.
By default, root and an admin group are already present.

Examples of the arguments are:

aliases { :user { :ADMINS [ "user1" "user2" ] }
          :host { :TRUSTED [ "host1" ] }
          :run-as-user { :OP [ "root" "sysop" ] }
          :cmnd { :KILL [ "kill" ]
                  :SHELLS [ "/usr/bin/sh" "/usr/bin/csh" "/usr/bin/ksh"]}}
default-map { :default { :fqdn true }
              :host { "host" { :lecture false } }
              :user { "user" { :lecture false } }
              :run-as-user { "sysop" { :lecture false } } }
specs [ { ["user1" "user2"]
          { :host :TRUSTED
            :KILL { :run-as-user "operator" :tags :NOPASSWORD }
            ["/usr/bin/*" "/usr/local/bin/*"]
            { :run-as-user "root" :tags [:NOEXEC :NOPASSWORD} }</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/crate/sudoers.clj#L126" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.crate.syslog-ng</h2>
<pre id="namespace-docstr">Install and configure syslog-ng</pre>
<br />

<h2 id="namespace-name">pallet.crate.tomcat</h2>
<pre id="namespace-docstr">Installation of tomcat</pre>
<br />

<h2 id="namespace-name">pallet.crate.upstart</h2>
<pre id="namespace-docstr">Create upstart daemon scripts</pre>
<br />

<h2 id="namespace-name">pallet.crate.wordpress</h2>
<pre id="namespace-docstr">Install wordpress</pre>
<br />

<h2 id="namespace-name">pallet.enlive</h2>
<pre id="namespace-docstr">Wrappers for enlive to enable template specialisation and use xml.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.enlive/defsnippet">defsnippet</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defsnippet name source node-type args &amp; forms)
</pre>
  <pre id="var-docstr">A snippet returns a collection of nodes.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/627f36eb27860cf18467de8b89d49946358ae38f/src/pallet/enlive.clj#L48" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.enlive/xml-emit">xml-emit</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (xml-emit f &amp; args)
</pre>
  <pre id="var-docstr">Emit a template, adding an XML Declaration.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/627f36eb27860cf18467de8b89d49946358ae38f/src/pallet/enlive.clj#L65" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.enlive/xml-template">xml-template</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (xml-template source node-type args &amp; forms)
</pre>
  <pre id="var-docstr">A template returns a seq of string:
Overridden from enlive to defer evaluation of the source until runtime, and
to enable specialisation on node-type</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/627f36eb27860cf18467de8b89d49946358ae38f/src/pallet/enlive.clj#L55" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.execute</h2>
<pre id="namespace-docstr">Exectute commands.  At the moment the only available transport is ssh.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.execute/execute-ssh-cmds">execute-ssh-cmds</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (execute-ssh-cmds server request user options)
</pre>
  <pre id="var-docstr">Run cmds on a target.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/execute.clj#L129" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.execute/local-cmds">local-cmds</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (local-cmds commands)
</pre>
  <pre id="var-docstr">Run local cmds on a target.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/execute.clj#L175" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.execute/remote-sudo">remote-sudo</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (remote-sudo server command user)
</pre>
  <pre id="var-docstr">Run a sudo command on a server.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/execute.clj#L65" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.execute/sh-script">sh-script</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (sh-script command)
</pre>
  <pre id="var-docstr">Run a script on local machine.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/execute.clj#L182" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.execute/ssh-cmds">ssh-cmds</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (ssh-cmds {:keys [address commands user ssh-port], :as request})
</pre>
  <pre id="var-docstr">Execute cmds for the request.
Also accepts an IP or hostname as anode.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/execute.clj#L167" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.execute/system">system</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (system cmd)
</pre>
  <pre id="var-docstr">Launch a system process, return a map containing the exit code, standard
output and standard error of the process.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/execute.clj#L13" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.heynote</h2>
<pre id="namespace-docstr">Heynote feedback client</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.heynote/add-comment">add-comment</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-comment item &amp; options)
</pre>
  <pre id="var-docstr">Receive feedback items</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/8da9d06639c300b1547aa90577a2a8f3f525fd88/src/pallet/heynote.clj#L127" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.heynote/item">item</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (item item &amp; options)
</pre>
  <pre id="var-docstr">Recieve feedback item</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/8da9d06639c300b1547aa90577a2a8f3f525fd88/src/pallet/heynote.clj#L113" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.heynote/items">items</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (items &amp; options)
</pre>
  <pre id="var-docstr">Recieve feedback items</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/8da9d06639c300b1547aa90577a2a8f3f525fd88/src/pallet/heynote.clj#L82" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.heynote/message-map">message-map</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (message-map)
</pre>
  <pre id="var-docstr">Return a map that can be used to send to heynote</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/8da9d06639c300b1547aa90577a2a8f3f525fd88/src/pallet/heynote.clj#L66" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.heynote/new-item">new-item</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (new-item &amp; options)
</pre>
  <pre id="var-docstr">Send new feedback with the given message</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/8da9d06639c300b1547aa90577a2a8f3f525fd88/src/pallet/heynote.clj#L74" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.heynote/project">project</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (project name)
</pre>
  <pre id="var-docstr">Sets and returns the heynote project name</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/8da9d06639c300b1547aa90577a2a8f3f525fd88/src/pallet/heynote.clj#L11" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.heynote/send-msg">send-msg</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (send-msg path method msg-map)
</pre>
  <pre id="var-docstr">Send the given message map.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/8da9d06639c300b1547aa90577a2a8f3f525fd88/src/pallet/heynote.clj#L51" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.main</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.main/-main">-main</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (-main &amp; args)
       (-main)
</pre>
  <pre id="var-docstr">Command line runner.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ed9bf79e652e59da60f306cc491b1454d6dc858d/src/pallet/main.clj#L58" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.main/map-and-resolve-symbols">map-and-resolve-symbols</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (map-and-resolve-symbols symbol-map arg)
</pre>
  <pre id="var-docstr">Function to build a symbol-&gt;value map, requiring namespaces as needed.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ed9bf79e652e59da60f306cc491b1454d6dc858d/src/pallet/main.clj#L47" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.main/parse-as-qualified-symbol">parse-as-qualified-symbol</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (parse-as-qualified-symbol arg)
</pre>
  <pre id="var-docstr">Convert the given string into a namespace qualified symbol.
Returns a vector of ns and symbol</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/ed9bf79e652e59da60f306cc491b1454d6dc858d/src/pallet/main.clj#L38" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.main-invoker</h2>
<pre id="namespace-docstr">Invoke tasks requiring a compute service.  This decouples main from anything
pallet, jclouds or maven specific, and ensures compiling main doesn't compile
the world.</pre>
<br />

<h2 id="namespace-name">pallet.maven</h2>
<pre id="namespace-docstr">Maven interaction</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.maven/credentials">credentials</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (credentials)
       (credentials facility)
</pre>
  <pre id="var-docstr">Read maven's settings.xml file, and extract credentials.  By default get
credentials for the compute service. The blobstore credentials may be
retrieved by passing :blobstore</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1cd17f149df2eebaa9bd7076da5708cb13b11bf8/src/pallet/maven.clj#L31" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.md5crypt</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.md5crypt/clean-salt">clean-salt</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (clean-salt salt magic)
</pre>
  <pre id="var-docstr">Clean up a passed salt value</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/0211d990a3135928610235fe41e5999a7d277cfb/src/pallet/md5crypt.clj#L24" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.md5crypt/crypt">crypt</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (crypt password)
       (crypt password salt)
       (crypt password salt magic)
</pre>
  <pre id="var-docstr">LINUX/BSD MD5Crypt function</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/0211d990a3135928610235fe41e5999a7d277cfb/src/pallet/md5crypt.clj#L47" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.md5crypt/to64">to64</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (to64 value n)
</pre>
  <pre id="var-docstr">Return value encoded as n base64 chars</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/0211d990a3135928610235fe41e5999a7d277cfb/src/pallet/md5crypt.clj#L13" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.parameter</h2>
<pre id="namespace-docstr">Provides parameters for use across crates.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.parameter/from-map">from-map</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (from-map m keys)
</pre>
  <pre id="var-docstr">Initialise parameters based on the given keys, which are used to merge maps
from m.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/a46366add71fff11a4f0e0385e075a96571a8e6d/src/pallet/parameter.clj#L8" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.parameter/lookup">lookup</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (lookup &amp; keys)
</pre>
  <pre id="var-docstr">Lookup a parameter in a delayed manner. This produces a function, which is
executed by it's toString method.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/a46366add71fff11a4f0e0385e075a96571a8e6d/src/pallet/parameter.clj#L89" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.parameter/lookup-for-target">lookup-for-target</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (lookup-for-target &amp; keys)
</pre>
  <pre id="var-docstr">Lookup a parameter for the target in a delayed manner. This produces a
function, which is executed by it's toString method.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/a46366add71fff11a4f0e0385e075a96571a8e6d/src/pallet/parameter.clj#L95" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.parameter/parameters">parameters</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (parameters request &amp; {:as keyvector-value-pairs})
</pre>
  <pre id="var-docstr">Set parameters</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/a46366add71fff11a4f0e0385e075a96571a8e6d/src/pallet/parameter.clj#L101" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.repl</h2>
<pre id="namespace-docstr">A namespace that can be used to pull in most of pallet's namespaces.  uesful
when working at the clojure REPL.</pre>
<br />

<h2 id="namespace-name">pallet.request-map</h2>
<pre id="namespace-docstr">Functions for querying and manipulating requests</pre>
<br />

<h2 id="namespace-name">pallet.resource</h2>
<pre id="namespace-docstr">Resources implement the conversion of phase functions to script and other
configuration code.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource/after-phase">after-phase</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (after-phase phase)
</pre>
  <pre id="var-docstr">Calculate the name for the after-phase</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/b3f1f37b5d9e816ae0e7f1518a638be76a820737/src/pallet/resource.clj#L20" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/bound-invocations">bound-invocations</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (bound-invocations invocations)
</pre>
  <pre id="var-docstr">Configured resources for executions, binding args to methods.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/b3f1f37b5d9e816ae0e7f1518a638be76a820737/src/pallet/resource.clj#L160" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/build-resources">build-resources</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (build-resources [&amp; {:as request-map}] &amp; body)
</pre>
  <pre id="var-docstr">Outputs the remote resources specified in the body for the specified phases.
This is useful in testing.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/b3f1f37b5d9e816ae0e7f1518a638be76a820737/src/pallet/resource.clj#L397" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/defaggregate">defaggregate</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defaggregate name &amp; args)
</pre>
  <pre id="var-docstr">Shortcut for defining a resource-producing function with an
:execution of :aggregate. The option vector specifes the
backing function arguments.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/b3f1f37b5d9e816ae0e7f1518a638be76a820737/src/pallet/resource.clj#L214" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/defcollect">defcollect</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defcollect name &amp; args)
</pre>
  <pre id="var-docstr">Shortcut for defining a resource-producing function with an
:execution of :collect. The option vector specifes the
backing function arguments.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/b3f1f37b5d9e816ae0e7f1518a638be76a820737/src/pallet/resource.clj#L224" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/deflocal">deflocal</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (deflocal name &amp; args)
</pre>
  <pre id="var-docstr">Shortcut for defining a resource-producing function with an
:execution of :local-in-sequence.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/b3f1f37b5d9e816ae0e7f1518a638be76a820737/src/pallet/resource.clj#L204" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/defresource">defresource</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defresource name &amp; args)
</pre>
  <pre id="var-docstr">Defines a resource-producing functions.  Takes a name, a vector specifying
the symbol to bind the request to and an optional execution phase and backing
function arguments, the argument signature that the function exposes and the
body of the resource.

A "backing function" that will actually produce the resource is defined
with name*.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/b3f1f37b5d9e816ae0e7f1518a638be76a820737/src/pallet/resource.clj#L172" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/execute-after-phase">execute-after-phase</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (execute-after-phase request &amp; body)
</pre>
  <pre id="var-docstr">Specify the after phase for execution of resources.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/b3f1f37b5d9e816ae0e7f1518a638be76a820737/src/pallet/resource.clj#L35" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/execute-commands">execute-commands</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (execute-commands request execute-fn)
</pre>
  <pre id="var-docstr">Execute commands by passing the evaluated resources to f.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/b3f1f37b5d9e816ae0e7f1518a638be76a820737/src/pallet/resource.clj#L314" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/execute-pre-phase">execute-pre-phase</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (execute-pre-phase request &amp; body)
</pre>
  <pre id="var-docstr">Specify the pre phase for execution of resources.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/b3f1f37b5d9e816ae0e7f1518a638be76a820737/src/pallet/resource.clj#L25" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/invocations-&gt;resource-fns">invocations-&gt;resource-fns</h2>
  <span id="var-type">multimethod</span><br />
  <pre id="var-usage">No usage documentation available</pre>
  <pre id="var-docstr">Given an execution's invocations, will return a seq of
functions pre-processed appropriately for that execution.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/b3f1f37b5d9e816ae0e7f1518a638be76a820737/src/pallet/resource.clj#L127" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/invoke-resource">invoke-resource</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (invoke-resource request invoke-fn args)
       (invoke-resource request invoke-fn args execution)
       (invoke-resource request invoke-fn args execution resource-type)
</pre>
  <pre id="var-docstr">Registers a resource whose generation is defined by the specified
invocation function and arguments that will be applied to that fn
when the associated phase is applied to a node.

The invocation can be scheduled within one of two 'executions'
(conceptually, sub-phases):

:in-sequence - The generated resource will be applied to the node
     "in order", as it is defined lexically in the source crate.
     This is the default.
:local-in-sequence - The generated resource will be applied to the node
     "in order", as it is defined lexically in the source crate.
     The execution is on the local machine.
:aggregated - All aggregated resources are applied to the node
     in the order they are defined, but before all :in-sequence
     resources. Note that all of the arguments to any given
     invocation fn are gathered such that there is only ever one
     invocation of each fn within each phase.
:collected - All collected resources are applied to the node
     in the order they are defined, but after all :in-sequence
     resources. Note that all of the arguments to any given
     invocation fn are gathered such that there is only ever one
     invocation of each fn within each phase.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/b3f1f37b5d9e816ae0e7f1518a638be76a820737/src/pallet/resource.clj#L45" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/output-resources">output-resources</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (output-resources resources)
</pre>
  <pre id="var-docstr">Build an execution list for the passed resources.  The result is a sequence
of [location type f] maps, where location is either :local or :remote, and f
returns a string for remote execution, or is a no argument function for local
execution.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/b3f1f37b5d9e816ae0e7f1518a638be76a820737/src/pallet/resource.clj#L270" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/phase">phase</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (phase &amp; body)
</pre>
  <pre id="var-docstr">Create a phase function from a sequence of crate invocations with
an ommited request parameter.

eg. (phase
      (file "/some-file")
      (file "/other-file"))

which generates a function with a request argument, that is thread
through the function calls. The example is thus equivalent to:

(fn [request] (-&gt; request
                (file "/some-file")
                (file "/other-file"))) </pre>
  <a href="http://github.com/hugoduncan/pallet/blob/b3f1f37b5d9e816ae0e7f1518a638be76a820737/src/pallet/resource.clj#L359" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/phase-list">phase-list</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (phase-list phases)
</pre>
  <pre id="var-docstr">Add default phases, pre and after phases.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/b3f1f37b5d9e816ae0e7f1518a638be76a820737/src/pallet/resource.clj#L354" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/phase-list*">phase-list*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (phase-list* phases)
</pre>
  <pre id="var-docstr">Add pre and after phases</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/b3f1f37b5d9e816ae0e7f1518a638be76a820737/src/pallet/resource.clj#L338" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/pre-phase">pre-phase</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (pre-phase phase)
</pre>
  <pre id="var-docstr">Calculate the name for the pre-phase</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/b3f1f37b5d9e816ae0e7f1518a638be76a820737/src/pallet/resource.clj#L15" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/produce-phase">produce-phase</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (produce-phase request)
</pre>
  <pre id="var-docstr">Produce the :phase phase from the :invocations</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/b3f1f37b5d9e816ae0e7f1518a638be76a820737/src/pallet/resource.clj#L288" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/produce-phases">produce-phases</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (produce-phases phases request)
</pre>
  <pre id="var-docstr">Join the result of produce-phase, executing local resources.
Useful for testing.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/b3f1f37b5d9e816ae0e7f1518a638be76a820737/src/pallet/resource.clj#L376" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/resource-evaluate-fn">resource-evaluate-fn</h2>
  <span id="var-type">multimethod</span><br />
  <pre id="var-usage">No usage documentation available</pre>
  <pre id="var-docstr">Create a resource evaluation function that combines the evaluation</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/b3f1f37b5d9e816ae0e7f1518a638be76a820737/src/pallet/resource.clj#L251" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/script-join">script-join</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (script-join scripts)
</pre>
  <pre id="var-docstr">Concatenate multiple scripts, removing blank lines</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/b3f1f37b5d9e816ae0e7f1518a638be76a820737/src/pallet/resource.clj#L243" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.resource.directory</h2>
<pre id="namespace-docstr">Directory manipulation.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.directory/directories">directories</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (directories request paths &amp; options)
</pre>
  <pre id="var-docstr">Directory management of multiple directories with the same
owner/group/permissions.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/resource/directory.clj#L54" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.directory/directory">directory</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (directory request path &amp; {:keys [action], :or {action :create}, :as options})
</pre>
  <pre id="var-docstr">Directory management.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/resource/directory.clj#L41" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.resource.exec-script</h2>
<pre id="namespace-docstr">Script execution. script generation is delayed until resource application
time, so that it occurs wirh the correct target.</pre>
<br />

<h2 id="namespace-name">pallet.resource.file</h2>
<pre id="namespace-docstr">File manipulation.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.file/fifo">fifo</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (fifo request path &amp; {:keys [action], :or {action :create}, :as options})
</pre>
  <pre id="var-docstr">FIFO pipe management.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6a7d155bf61b7af9fce5195c9f0f54b02d5dd19b/src/pallet/resource/file.clj#L117" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.file/file">file</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (file request path &amp; {:keys [action owner group mode force], :or {action :create}, :as options})
</pre>
  <pre id="var-docstr">File management.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6a7d155bf61b7af9fce5195c9f0f54b02d5dd19b/src/pallet/resource/file.clj#L85" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.file/heredoc">heredoc</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (heredoc path content &amp; options)
</pre>
  <pre id="var-docstr">Generates a heredoc. Options:
:literal boolean  - if true, prevents shell expansion of contents</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6a7d155bf61b7af9fce5195c9f0f54b02d5dd19b/src/pallet/resource/file.clj#L59" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.file/sed">sed</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (sed request path exprs-map &amp; {:keys [seperator], :as options})
</pre>
  <pre id="var-docstr">Execute sed on a file.  Takes a path and a map for expr to replacement.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6a7d155bf61b7af9fce5195c9f0f54b02d5dd19b/src/pallet/resource/file.clj#L132" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.file/symbolic-link">symbolic-link</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (symbolic-link request from name &amp; {:keys [action owner group mode force], :or {action :create, force true}})
</pre>
  <pre id="var-docstr">Symbolic link management.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6a7d155bf61b7af9fce5195c9f0f54b02d5dd19b/src/pallet/resource/file.clj#L102" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.resource.filesystem-layout</h2>
<pre id="namespace-docstr">Functions to return distribution specific paths</pre>
<br />

<h2 id="namespace-name">pallet.resource.hostinfo</h2>
<pre id="namespace-docstr">Host information.</pre>
<br />

<h2 id="namespace-name">pallet.resource.package</h2>
<pre id="namespace-docstr">Package management resource.</pre>
<br />

<h2 id="namespace-name">pallet.resource.remote-directory</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.remote-directory/remote-directory">remote-directory</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (remote-directory request path &amp; {:keys [action url unpack tar-options strip-components md5 md5-url owner group recursive], :or {action :create, tar-options xz, strip-components 1}, :as options})
</pre>
  <pre id="var-docstr">Specify the contents of remote directory.
Options:
  :url              - a url to download content from
  :unpack           - how download should be extracts (default :tar)
  :tar-options      - options to pass to tar (default "xz")
  :strip-components - number of pathc ompnents to remove when unpacking
  :md5              - md5 of file to unpack
  :md5-url          - url of md5 file for file to unpack
  :owner            - owner of files
  :group            - group of files
  :recursive        - flag to recursively set owner and group</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/resource/remote_directory.clj#L8" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.resource.remote-file</h2>
<pre id="namespace-docstr">File Contents.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.remote-file/all-options">all-options</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">A vector of the options accepted by remote-file.  Can be used for option
forwarding when calling remote-file from other crates.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1cd17f149df2eebaa9bd7076da5708cb13b11bf8/src/pallet/resource/remote_file.clj#L22" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.remote-file/content-options">content-options</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">A vector of the options accepted by remote-file.  Can be used for option
forwarding when calling remote-file from other crates.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1cd17f149df2eebaa9bd7076da5708cb13b11bf8/src/pallet/resource/remote_file.clj#L15" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.remote-file/remote-file">remote-file</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (remote-file request path &amp; {:keys [action url local-file remote-file link content literal template values md5 md5-url owner group mode force], :or {action :create}, :as options})
</pre>
  <pre id="var-docstr">Remote file with contents management.
Options for specifying the file's content are:
  :url url          - download the specified url to the given filepath
  :content string   - use the specified content directly
  :local-file path  - use the file on the local machine at the given path
  :remote-file path - use the file on the remote machine at the given path
  :link             - file to link to:
  :literal          - prevent shell expansion on content
  :md5              - md5 for file
  :md5-url          - a url containing file's md5
  :template         - specify a template to be interpolated
  :values           - values for interpolation
  :blob             - map of :container, :path
Options for specifying the file's permissions are:
  :owner user-name
  :group group-name
  :mode  file-mode</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1cd17f149df2eebaa9bd7076da5708cb13b11bf8/src/pallet/resource/remote_file.clj#L38" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.resource.resource-when</h2>
<pre id="namespace-docstr">Conditional resource execution.</pre>
<br />

<h2 id="namespace-name">pallet.resource.service</h2>
<pre id="namespace-docstr">Service control.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.service/init-script">init-script</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (init-script request name &amp; {:keys [action url local-file remote-file link content literal template values md5 md5-url force], :or {action :create}, :as options})
</pre>
  <pre id="var-docstr">Install an init script.  Sources as for remote-file.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/resource/service.clj#L67" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.service/service">service</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (service request service-name &amp; {:keys [action], :or {action :start}, :as options})
</pre>
  <pre id="var-docstr">Control serives</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/resource/service.clj#L46" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.service/with-restart">with-restart</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-restart request service-name &amp; body)
</pre>
  <pre id="var-docstr">Stop the given service, execute the body, and then restart.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/resource/service.clj#L58" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.resource.user</h2>
<pre id="namespace-docstr">User management resource.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.user/group">group</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (group request groupname &amp; {:keys [action system gid password], :or {action :manage}, :as options})
</pre>
  <pre id="var-docstr">User Group Management.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/resource/user.clj#L121" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.user/user">user</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (user request username &amp; {:keys [action shell base-dir home system create-home password shell comment groups remove force], :or {action :manage}, :as options})
</pre>
  <pre id="var-docstr">User management.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/resource/user.clj#L113" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.user/user*">user*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (user* request username &amp; {:keys [action shell base-dir home system create-home password shell comment groups remove force], :or {action :manage}, :as options})
</pre>
  <pre id="var-docstr">Require a user</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1898773eaa5c141ab00118679d91daf0cd8b3125/src/pallet/resource/user.clj#L74" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.script</h2>
<pre id="namespace-docstr">Base infrastructure for script generation</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.script/*template*">*template*</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">Determine the target to generate script for.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1cd17f149df2eebaa9bd7076da5708cb13b11bf8/src/pallet/script.clj#L14" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.script/defscript">defscript</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defscript name [&amp; args])
</pre>
  <pre id="var-docstr">Define a script fragment</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1cd17f149df2eebaa9bd7076da5708cb13b11bf8/src/pallet/script.clj#L87" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.script/dispatch-target">dispatch-target</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (dispatch-target script &amp; args)
</pre>
  <pre id="var-docstr">Invoke target, raising if there is no implementation.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1cd17f149df2eebaa9bd7076da5708cb13b11bf8/src/pallet/script.clj#L65" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.script/implement">implement</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (implement script-name specialisers f)
</pre>
  <pre id="var-docstr">Add an implementation of script-name</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1cd17f149df2eebaa9bd7076da5708cb13b11bf8/src/pallet/script.clj#L102" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.script/invoke-target">invoke-target</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (invoke-target script args)
</pre>
  <pre id="var-docstr">Invoke target when possible, otherwise return nil</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1cd17f149df2eebaa9bd7076da5708cb13b11bf8/src/pallet/script.clj#L74" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.script/remove-script">remove-script</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (remove-script script-name)
</pre>
  <pre id="var-docstr">Remove all implementations of a script.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1cd17f149df2eebaa9bd7076da5708cb13b11bf8/src/pallet/script.clj#L110" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.script/with-line-number">with-line-number</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-line-number &amp; body)
</pre>
  <pre id="var-docstr">Record the source line number</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1cd17f149df2eebaa9bd7076da5708cb13b11bf8/src/pallet/script.clj#L23" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.script/with-template">with-template</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-template template &amp; body)
</pre>
  <pre id="var-docstr">Specify the target for script generation</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1cd17f149df2eebaa9bd7076da5708cb13b11bf8/src/pallet/script.clj#L17" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.stevedore</h2>
<pre id="namespace-docstr">Embed shell script in clojure</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/chain-commands">chain-commands</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (chain-commands &amp; scripts)
</pre>
  <pre id="var-docstr">Chain commands together with &amp;&amp;.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1cd17f149df2eebaa9bd7076da5708cb13b11bf8/src/pallet/stevedore.clj#L417" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/chain-commands*">chain-commands*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (chain-commands* scripts)
</pre>
  <pre id="var-docstr">Chain commands together with &amp;&amp;.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1cd17f149df2eebaa9bd7076da5708cb13b11bf8/src/pallet/stevedore.clj#L411" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/chained-script">chained-script</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (chained-script &amp; forms)
</pre>
  <pre id="var-docstr">Takes one or more forms. Returns a string of the forms translated into a
chained shell script command.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1cd17f149df2eebaa9bd7076da5708cb13b11bf8/src/pallet/stevedore.clj#L441" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/checked-commands">checked-commands</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (checked-commands message &amp; cmds)
</pre>
  <pre id="var-docstr">Wrap a command in a code that checks the return value. Code to output the
messages is added before the command.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1cd17f149df2eebaa9bd7076da5708cb13b11bf8/src/pallet/stevedore.clj#L435" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/checked-commands*">checked-commands*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (checked-commands* message cmds)
</pre>
  <pre id="var-docstr">Wrap a command in a code that checks the return value. Code to output the
messages is added before the command.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1cd17f149df2eebaa9bd7076da5708cb13b11bf8/src/pallet/stevedore.clj#L422" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/checked-script">checked-script</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (checked-script message &amp; forms)
</pre>
  <pre id="var-docstr">Takes one or more forms. Returns a string of the forms translated into
shell scrip.  Wraps the expression in a test for the result status.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1cd17f149df2eebaa9bd7076da5708cb13b11bf8/src/pallet/stevedore.clj#L448" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/defimpl">defimpl</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defimpl script-name specialisers [&amp; args] &amp; body)
</pre>
  <pre id="var-docstr">Define a script fragment implementation for a given set of specialisers</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1cd17f149df2eebaa9bd7076da5708cb13b11bf8/src/pallet/stevedore.clj#L455" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/do-script">do-script</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (do-script &amp; scripts)
</pre>
  <pre id="var-docstr">Concatenate multiple scripts.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1cd17f149df2eebaa9bd7076da5708cb13b11bf8/src/pallet/stevedore.clj#L406" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/do-script*">do-script*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (do-script* scripts)
</pre>
  <pre id="var-docstr">Concatenate multiple scripts.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1cd17f149df2eebaa9bd7076da5708cb13b11bf8/src/pallet/stevedore.clj#L398" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/map-to-arg-string">map-to-arg-string</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (map-to-arg-string m &amp; options)
</pre>
  <pre id="var-docstr">Output a set of command line switches from a map</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1cd17f149df2eebaa9bd7076da5708cb13b11bf8/src/pallet/stevedore.clj#L21" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/option-args">option-args</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (option-args options)
</pre>
  <pre id="var-docstr">Output a set of command line switches from a sequence of options</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1cd17f149df2eebaa9bd7076da5708cb13b11bf8/src/pallet/stevedore.clj#L33" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/script">script</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (script &amp; forms)
</pre>
  <pre id="var-docstr">Takes one or more forms. Returns a string of the forms translated into
javascript.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/1cd17f149df2eebaa9bd7076da5708cb13b11bf8/src/pallet/stevedore.clj#L391" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.strint</h2>
<pre id="namespace-docstr">Runtime string interpolation built on top of clojure.contrib.strint.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.strint/&lt;&lt;!">&lt;&lt;!</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (&lt;&lt;! f value-map)
</pre>
  <pre id="var-docstr">Interpolate a string given a map of symbol-&gt;value</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/8da9d06639c300b1547aa90577a2a8f3f525fd88/src/pallet/strint.clj#L12" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.strint/capture-values">capture-values</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (capture-values &amp; values)
</pre>
  <pre id="var-docstr">Capture the values of the specified symbols in a symbol-&gt;value map.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/8da9d06639c300b1547aa90577a2a8f3f525fd88/src/pallet/strint.clj#L7" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.target</h2>
<pre id="namespace-docstr">Provide information about the target image</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.target/admin-group">admin-group</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (admin-group target)
</pre>
  <pre id="var-docstr">Default administrator group</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/9bfea0d56902a898b244f976675cd2daa67f3a73/src/pallet/target.clj#L11" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.target/os-family">os-family</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (os-family target)
</pre>
  <pre id="var-docstr">OS family</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/9bfea0d56902a898b244f976675cd2daa67f3a73/src/pallet/target.clj#L7" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.target/packager">packager</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (packager target)
</pre>
  <pre id="var-docstr">Package manager</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/9bfea0d56902a898b244f976675cd2daa67f3a73/src/pallet/target.clj#L18" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.task.converge</h2>
<pre id="namespace-docstr">Adjust node counts.</pre>
<br />

<h2 id="namespace-name">pallet.task.describe-node</h2>
<pre id="namespace-docstr">Adjust node counts.</pre>
<br />

<h2 id="namespace-name">pallet.task.feedback</h2>
<pre id="namespace-docstr">Feedback to the pallet project.
add  - send new feedback. Arguments will be sent as text.
list - show recent feedback.</pre>
<br />

<h2 id="namespace-name">pallet.task.help</h2>
<pre id="namespace-docstr">Display a list of tasks or help for a given task.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.task.help/help-for">help-for</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (help-for task)
</pre>
  <pre id="var-docstr">Help for a task is stored in its docstring, or if that's not present
in its namespace.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/60d6f5af004057305e356d2cebbb3f5c8027878b/src/pallet/task/help.clj#L22" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.task.help/tasks">tasks</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (tasks)
</pre>
  <pre id="var-docstr">Find the available tasks.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/60d6f5af004057305e356d2cebbb3f5c8027878b/src/pallet/task/help.clj#L7" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.task.lift</h2>
<pre id="namespace-docstr">Apply configuration.</pre>
<br />

<h2 id="namespace-name">pallet.task.new-project</h2>
<pre id="namespace-docstr">Create a new pallet project.
pallet new-project &lt;project-directory&gt;.</pre>
<br />

<h2 id="namespace-name">pallet.task.nodes</h2>
<pre id="namespace-docstr">list nodes.</pre>
<br />

<h2 id="namespace-name">pallet.task.providers</h2>
<pre id="namespace-docstr">Provide information on the supported and enabled providers.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.task.providers/providers">providers</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (providers &amp; _)
</pre>
  <pre id="var-docstr">Provide information on the supported and enabled providers.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/a8f85bf2781c707ea6e420f640011a5a6e0f1f67/src/pallet/task/providers.clj#L19" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.task.version</h2>
<pre id="namespace-docstr">Print Pallet's version to standard out.</pre>
<br />

<h2 id="namespace-name">pallet.template</h2>
<pre id="namespace-docstr">Template file writing</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.template/candidate-templates">candidate-templates</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (candidate-templates path tag template)
</pre>
  <pre id="var-docstr">Generate a prioritised list of possible template paths.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3a78d26a7f830263ed58b2ee59f002cf8b7ea54d/src/pallet/template.clj#L36" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.template/find-template">find-template</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (find-template path node-type)
</pre>
  <pre id="var-docstr">Find a template for the specified path, for application to the given node.
Templates may be specialised.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3a78d26a7f830263ed58b2ee59f002cf8b7ea54d/src/pallet/template.clj#L52" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.template/get-resource">get-resource</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (get-resource path)
</pre>
  <pre id="var-docstr">Loads a resource. Returns a URI.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3a78d26a7f830263ed58b2ee59f002cf8b7ea54d/src/pallet/template.clj#L13" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.template/interpolate-template">interpolate-template</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (interpolate-template path values node-type)
</pre>
  <pre id="var-docstr">Interpolate the given template.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3a78d26a7f830263ed58b2ee59f002cf8b7ea54d/src/pallet/template.clj#L61" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.template/path-components">path-components</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (path-components path)
</pre>
  <pre id="var-docstr">Split a path into directory, basename and extension components</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3a78d26a7f830263ed58b2ee59f002cf8b7ea54d/src/pallet/template.clj#L18" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.template/pathname">pathname</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (pathname &amp; parts)
</pre>
  <pre id="var-docstr">Build a pathname from a list of path and filename parts.  Last part is
assumed to be a file extension.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3a78d26a7f830263ed58b2ee59f002cf8b7ea54d/src/pallet/template.clj#L28" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.template.properties</h2>
<pre id="namespace-docstr">A template for writing properties style config files.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.template.properties/properties">properties</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (properties values)
</pre>
  <pre id="var-docstr">Write a properties file based on the input argument.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/6b96c56c16e9d1710c05985cde4422d88070e45a/src/pallet/template/properties.clj#L14" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.thread-expr</h2>
<pre id="namespace-docstr">Macros that can be used in an expression thread</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.thread-expr/apply-&gt;">apply-&gt;</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (apply-&gt; request f &amp; args)
</pre>
  <pre id="var-docstr">Apply in a threaded expression.
e.g.
   (-&gt; 1
     (apply-&gt; + [1 2 3]))
=&gt; 7</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3a78d26a7f830263ed58b2ee59f002cf8b7ea54d/src/pallet/thread_expr.clj#L100" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.thread-expr/for-&gt;">for-&gt;</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (for-&gt; arg [value s &amp; {:keys [let]}] &amp; body)
</pre>
  <pre id="var-docstr">Apply a thread expression to a sequence.
eg.
   (-&gt; 1
     (for-&gt; [x [1 2 3]]
       (+ x)))
=&gt; 7</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3a78d26a7f830263ed58b2ee59f002cf8b7ea54d/src/pallet/thread_expr.clj#L4" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.thread-expr/if-&gt;">if-&gt;</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (if-&gt; arg condition form)
       (if-&gt; arg condition form else-form)
</pre>
  <pre id="var-docstr">An `if` form that can appear in a request thread
eg.
   (-&gt; 1
     (if-&gt; true
       (+ 1)
       (+ 2)))
=&gt; 2</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3a78d26a7f830263ed58b2ee59f002cf8b7ea54d/src/pallet/thread_expr.clj#L63" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.thread-expr/if-not-&gt;">if-not-&gt;</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (if-not-&gt; arg condition form)
       (if-not-&gt; arg condition form else-form)
</pre>
  <pre id="var-docstr">An `if-not` form that can appear in a request thread
eg.
   (-&gt; 1
     (if-not-&gt; true
       (+ 1)
       (+ 2)))
=&gt; 3</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3a78d26a7f830263ed58b2ee59f002cf8b7ea54d/src/pallet/thread_expr.clj#L81" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.thread-expr/when-&gt;">when-&gt;</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (when-&gt; arg condition &amp; body)
</pre>
  <pre id="var-docstr">A `when` form that can appear in a request thread.
eg.
   (-&gt; 1
     (when-&gt; true
       (+ 1)))
=&gt; 2</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3a78d26a7f830263ed58b2ee59f002cf8b7ea54d/src/pallet/thread_expr.clj#L24" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.thread-expr/when-let-&gt;">when-let-&gt;</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (when-let-&gt; arg binding &amp; body)
</pre>
  <pre id="var-docstr">A `when-let` form that can appear in a request thread.
eg.
   (-&gt; 1
     (when-let-&gt; [a 1]
       (+ a)))
=&gt; 2</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3a78d26a7f830263ed58b2ee59f002cf8b7ea54d/src/pallet/thread_expr.clj#L50" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.thread-expr/when-not-&gt;">when-not-&gt;</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (when-not-&gt; arg condition &amp; body)
</pre>
  <pre id="var-docstr">A `when-not` form that can appear in a request thread.
eg.
   (-&gt; 1
     (when-not-&gt; true
       (+ 1)))
=&gt; 2</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3a78d26a7f830263ed58b2ee59f002cf8b7ea54d/src/pallet/thread_expr.clj#L37" id="var-source">Source</a>
</div>
<h2 id="namespace-name">pallet.utils</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.utils/*admin-user*">*admin-user*</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">The admin user is used for running remote admin commands that require root
permissions.  The default admin user is taken from the pallet.admin.username
property.  If not specified then the user.name property is used.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3a78d26a7f830263ed58b2ee59f002cf8b7ea54d/src/pallet/utils.clj#L121" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.utils/make-user">make-user</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (make-user username &amp; {:as options})
</pre>
  <pre id="var-docstr">Creates a User record with the given username and options. Generally used
in conjunction with *admin-user* and pallet.core/with-admin-user.
Some options have default values:

:public-key-path (defaults to ~/.ssh/id_rsa.pub)
:private-key-path (defaults to ~/.ssh/id_rsa)
:sudo-password (defaults to :password)</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3a78d26a7f830263ed58b2ee59f002cf8b7ea54d/src/pallet/utils.clj#L106" id="var-source">Source</a>
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.utils/slurp-resource">slurp-resource</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (slurp-resource name)
       (slurp-resource name enc)
</pre>
  <pre id="var-docstr">Reads the resource named by name using the encoding enc into a string
and returns it.</pre>
  <a href="http://github.com/hugoduncan/pallet/blob/3a78d26a7f830263ed58b2ee59f002cf8b7ea54d/src/pallet/utils.clj#L58" id="var-source">Source</a>
</div>


</div>
              </div>
            </div>
          </div>
	</div>
	<div id="foot">
	  <div style="text-align: center;" id="copyright">Copyright Hugo Duncan 2010. All rights reserved.</div>
	</div>
      </div>
      <div id="DesignedBy">Logo &amp; site design by <a title="Visit Tom Hickey's website." href="http://www.tomhickey.com">Tom Hickey</a>.<br />
      Clojure auto-documentation system by Tom Faulhaber.</div>
    </div>
    <!-- /AllContentContainer -->
  </body>

</html>