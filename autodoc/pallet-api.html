<html>
  <head>
    <title>pallet API reference (pallet)</title>
    <link href="static/favicon.png" rel="icon" />
    <link href="static/favicon.png" rel="shortcut icon" />
    <link media="all" type="text/css" href="static/clojure.css" rel="stylesheet" />
    <link media="all" type="text/css" href="static/wiki.css" rel="stylesheet" />
    <link media="all" type="text/css" href="static/internal.css" rel="stylesheet" />
    <!-- TODO: are we using these (from clojure.org)? If so, add the files -->
    <script src="file/view/code_highlighter.js" type="text/javascript"></script>
    <script src="file/view/clojure.js" type="text/javascript"></script>
    <style>.menuWrapper{height: 36px;}</style>
    <!--[if lte IE 6]>
    <link rel="stylesheet" href="http://www.wikispaces.com/_/2009051601/s/internal_ie.css" type="text/css" />
    <![endif]-->
  </head>
<!--
This document was auto-generated from the source by the clojure autodoc system.
To report errors or ask questions about the overall documentation structure, formatting,
etc., contact Tom Faulhaber (google mail name: tomfaulhaber).
For errors in the documentation of a particular namespace, contact the author of that
namespace.
-->
  <body>
    <div id="AllContentContainer">
      <div id="Header">
	<a id="Logo" href="index.html"><img alt="Clojure" height="100" width="100" src="static/clojure-icon.gif" /></a>
	<h1><a title="page header title" id="page-header" href="index.html">pallet</a></h1>
      </div>
      <div id="leftcolumn"><div style="text-align: center;"></div>
<div class="menu">
  <div class="WikiCustomNav WikiElement wiki">
    <a class="wiki_link" href="index.html">Overview</a><br />
    <a class="wiki_link" href="api-index.html">API Index</a><br />
    <a class="wiki_link" href="#">Namespaces:</a>
    <ul id="left-sidebar-list">
      <li><a href="pallet-api.html" class="wiki_link">pallet</a></li>
    </ul>
  </div>
</div>
</div>
      <div id="rightcolumn">
	<div id="Content">
	  <div class="contentBox"><div class="innerContentBox">
              <div id="content_view" class="wiki wikiPage">
                <div id="right-sidebar"><div id="toc">
  <h1 class="nopad">Table of Contents</h1>
  <div style="margin-left: 1em;" class="toc-section">
    <a href="#toc0">Overview</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.argument">pallet.argument</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.argument/DelayedArgument">DelayedArgument</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.argument/delayed">delayed</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.argument/delayed-fn">delayed-fn</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.blobstore">pallet.blobstore</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.blobstore/blobstore-from-config">blobstore-from-config</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.blobstore/blobstore-from-map">blobstore-from-map</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.blobstore/blobstore-from-settings">blobstore-from-settings</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.blobstore/blobstore-lookup">blobstore-lookup</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.blobstore/close">close</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.blobstore/containers">containers</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.blobstore/put-file">put-file</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.blobstore/service">service</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.blobstore/sign-blob-request">sign-blob-request</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.blobstore.implementation">pallet.blobstore.implementation</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.blobstore.implementation/load-providers">load-providers</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.blobstore.implementation/service">service</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.blobstore.implementation/supported-providers">supported-providers</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.blobstore.jclouds">pallet.blobstore.jclouds</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.blobstore.jclouds/default-jclouds-extensions">default-jclouds-extensions</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.blobstore.url-blobstore">pallet.blobstore.url-blobstore</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.command-line">pallet.command-line</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.command-line/group-by">group-by</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.command-line/join">join</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.command-line/with-command-line">with-command-line</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.command-script">pallet.command-script</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.command-script/defn-download">defn-download</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.command-script/http-client">http-client</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.command-script/jar-name">jar-name</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.command-script/local-path">local-path</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.command-script/m2-repository-path">m2-repository-path</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.command-script/normalize-scriptname">normalize-scriptname</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.command-script/remote-path">remote-path</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.command-script/resolve-symlinks">resolve-symlinks</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.compute">pallet.compute</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/boot-if-down">boot-if-down</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/compute-service">compute-service</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/compute-service-from-config">compute-service-from-config</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/compute-service-from-config-var">compute-service-from-config-var</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/compute-service-from-map">compute-service-from-map</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/compute-service-from-property">compute-service-from-property</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/compute-service-from-settings">compute-service-from-settings</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/ensure-os-family">ensure-os-family</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/hostname">hostname</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/is-64bit?">is-64bit?</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/nodes">nodes</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/os-family">os-family</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/os-version">os-version</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/packager">packager</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/primary-ip">primary-ip</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/private-ip">private-ip</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/reboot">reboot</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/shutdown">shutdown</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/shutdown-node">shutdown-node</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/ssh-port">ssh-port</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/supported-providers">supported-providers</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute/tag">tag</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.compute.implementation">pallet.compute.implementation</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute.implementation/load-providers">load-providers</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute.implementation/service">service</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute.implementation/supported-providers">supported-providers</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.compute.jclouds">pallet.compute.jclouds</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute.jclouds/build-node-template">build-node-template</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute.jclouds/default-jclouds-extensions">default-jclouds-extensions</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute.jclouds/local-hardware">local-hardware</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute.jclouds/local-operating-system">local-operating-system</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute.jclouds/local-request">local-request</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute.jclouds/make-localhost-node">make-localhost-node</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute.jclouds/make-unmanaged-node">make-unmanaged-node</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute.jclouds/node-locations">node-locations</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.compute.jvm">pallet.compute.jvm</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute.jvm/log4j?">log4j?</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.compute.node-list">pallet.compute.node-list</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.compute.node-list/make-localhost-node">make-localhost-node</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.configure">pallet.configure</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.configure/compute-service-properties">compute-service-properties</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.configure/pallet-config">pallet-config</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.core">pallet.core</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/add-os-family">add-os-family</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/add-target-id">add-target-id</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/add-target-keys">add-target-keys</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/add-target-packager">add-target-packager</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/adjust-node-counts">adjust-node-counts</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/admin-user">admin-user</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/apply-phase-to-node">apply-phase-to-node</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/converge">converge</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/converge*">converge*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/converge-node-counts">converge-node-counts</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/create-nodes">create-nodes</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/defnode">defnode</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/destroy-nodes-with-count">destroy-nodes-with-count</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/execute-with-local-sh">execute-with-local-sh</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/filter-nodes-with-tag">filter-nodes-with-tag</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/invoke-for-node-type">invoke-for-node-type</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/invoke-for-nodes">invoke-for-nodes</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/invoke-phases">invoke-phases</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/lift">lift</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/lift-nodes">lift-nodes</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/make-node">make-node</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/name-with-attributes">name-with-attributes</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/node-count-difference">node-count-difference</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/node-in-types?">node-in-types?</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/node-type?">node-type?</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/nodes-for-type">nodes-for-type</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/nodes-in-map">nodes-in-map</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/nodes-in-set">nodes-in-set</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/reduce-phase-results">reduce-phase-results</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/reduce-results">reduce-results</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/sequential-apply-phase">sequential-apply-phase</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/sequential-lift">sequential-lift</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/show-target-keys">show-target-keys</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/with-admin-user">with-admin-user</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/with-middleware">with-middleware</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/with-target-parameters">with-target-parameters</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/wrap-local-exec">wrap-local-exec</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.core/wrap-no-exec">wrap-no-exec</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.enlive">pallet.enlive</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.enlive/defsnippet">defsnippet</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.enlive/xml-emit">xml-emit</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.enlive/xml-template">xml-template</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.execute">pallet.execute</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.execute/execute-ssh-cmds">execute-ssh-cmds</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.execute/local-cmds">local-cmds</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.execute/local-sh-cmds">local-sh-cmds</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.execute/remote-sudo">remote-sudo</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.execute/sh-script">sh-script</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.execute/ssh-cmds">ssh-cmds</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.execute/system">system</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.heynote">pallet.heynote</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.heynote/add-comment">add-comment</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.heynote/item">item</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.heynote/items">items</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.heynote/message-map">message-map</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.heynote/new-item">new-item</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.heynote/project">project</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.heynote/send-msg">send-msg</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.main">pallet.main</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.main/-main">-main</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.main/map-and-resolve-symbols">map-and-resolve-symbols</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.main/parse-as-qualified-symbol">parse-as-qualified-symbol</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.main-invoker">pallet.main-invoker</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.main-invoker/find-admin-user">find-admin-user</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.main-invoker/find-blobstore">find-blobstore</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.main-invoker/find-compute-service">find-compute-service</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.maven">pallet.maven</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.maven/credentials">credentials</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.maven/properties">properties</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.md5crypt">pallet.md5crypt</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.md5crypt/clean-salt">clean-salt</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.md5crypt/crypt">crypt</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.md5crypt/to64">to64</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.parameter">pallet.parameter</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.parameter/from-map">from-map</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.parameter/lookup">lookup</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.parameter/lookup-for-target">lookup-for-target</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.parameter/parameters">parameters</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.parameter/parameters*">parameters*</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.repl">pallet.repl</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.repl/use-pallet">use-pallet</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.request-map">pallet.request-map</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.request-map/nodes-in-tag">nodes-in-tag</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.request-map/os-family">os-family</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.request-map/safe-id">safe-id</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.request-map/safe-name">safe-name</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.request-map/script-template-keys">script-template-keys</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.request-map/tag">tag</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.request-map/target-id">target-id</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.request-map/target-ip">target-ip</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.request-map/target-name">target-name</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource">pallet.resource</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/after-phase">after-phase</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/as-local-resource">as-local-resource</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/as-local-resource*">as-local-resource*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/bound-invocations">bound-invocations</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/defaggregate">defaggregate</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/defcollect">defcollect</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/deflocal">deflocal</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/defresource">defresource</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/execute-after-phase">execute-after-phase</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/execute-commands">execute-commands</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/execute-pre-phase">execute-pre-phase</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/execute-resource">execute-resource</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/invocations-&gt;resource-fns">invocations-&gt;resource-fns</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/invoke-resource">invoke-resource</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/output-resources">output-resources</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/phase">phase</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/phase-list">phase-list</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/phase-list*">phase-list*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/pre-phase">pre-phase</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/produce-phase">produce-phase</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/resource-evaluate-fn">resource-evaluate-fn</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/script-join">script-join</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource-build">pallet.resource-build</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource-build/build-resources">build-resources</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource-build/produce-phases">produce-phases</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.directory">pallet.resource.directory</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.directory/directories">directories</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.directory/directories*">directories*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.directory/directory">directory</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.directory/directory*">directory*</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.exec-script">pallet.resource.exec-script</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.file">pallet.resource.file</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.file/fifo">fifo</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.file/fifo*">fifo*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.file/file">file</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.file/file*">file*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.file/heredoc">heredoc</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.file/sed">sed</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.file/sed*">sed*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.file/symbolic-link">symbolic-link</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.file/symbolic-link*">symbolic-link*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.file/write-md5-for-file">write-md5-for-file</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.filesystem">pallet.resource.filesystem</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.filesystem/make-xfs-filesytem">make-xfs-filesytem</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.filesystem/mount">mount</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.filesystem-layout">pallet.resource.filesystem-layout</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.format">pallet.resource.format</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.format/sectioned-properties">sectioned-properties</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.hostinfo">pallet.resource.hostinfo</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.lib">pallet.resource.lib</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.package">pallet.resource.package</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/add-centos55-to-amzn-linux">add-centos55-to-amzn-linux</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/add-epel">add-epel</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/add-jpackage">add-jpackage</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/add-rpmforge">add-rpmforge</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/add-scope">add-scope</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/apply-package-manager">apply-package-manager</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/format-source">format-source</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/package">package</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/package*">package*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/package-manager">package-manager</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/package-manager*">package-manager*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/package-source">package-source</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/package-source*">package-source*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/package-source-aggregate">package-source-aggregate</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/packages">packages</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.remote-directory">pallet.resource.remote-directory</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.remote-directory/remote-directory">remote-directory</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.remote-directory/remote-directory*">remote-directory*</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.remote-file">pallet.resource.remote-file</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.remote-file/all-options">all-options</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.remote-file/content-options">content-options</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.remote-file/remote-file">remote-file</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.remote-file/set-force-overwrite">set-force-overwrite</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.remote-file/set-install-new-files">set-install-new-files</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.remote-file/transfer-file">transfer-file</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.remote-file/with-remote-file">with-remote-file</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.resource-when">pallet.resource.resource-when</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.rsync">pallet.resource.rsync</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.rsync/rsync-directory">rsync-directory</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.service">pallet.resource.service</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.service/init-script">init-script</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.service/service">service</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.service/service*">service*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.service/with-restart">with-restart</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.user">pallet.resource.user</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.user/group">group</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.user/group*">group*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.user/user">user</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.user/user*">user*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.user/user-combiner">user-combiner</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.script">pallet.script</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.script/*template*">*template*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.script/defscript">defscript</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.script/dispatch-target">dispatch-target</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.script/implement">implement</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.script/invoke-target">invoke-target</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.script/remove-script">remove-script</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.script/with-line-number">with-line-number</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.script/with-template">with-template</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.stevedore">pallet.stevedore</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/chain-commands">chain-commands</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/chain-commands*">chain-commands*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/chained-script">chained-script</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/char-at">char-at</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/checked-commands">checked-commands</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/checked-commands*">checked-commands*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/checked-script">checked-script</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/defimpl">defimpl</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/do-script">do-script</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/do-script*">do-script*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/map-to-arg-string">map-to-arg-string</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/option-args">option-args</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/script">script</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.stevedore/substring">substring</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.strint">pallet.strint</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.strint/&lt;&lt;!">&lt;&lt;!</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.strint/capture-values">capture-values</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.target">pallet.target</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.target/admin-group">admin-group</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.target/os-family">os-family</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.containers">pallet.task.containers</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.task.containers/containers">containers</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.converge">pallet.task.converge</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.task.converge/converge">converge</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.describe-node">pallet.task.describe-node</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.task.describe-node/describe-node">describe-node</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.feedback">pallet.task.feedback</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.help">pallet.task.help</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.task.help/help-for">help-for</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.task.help/tasks">tasks</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.lift">pallet.task.lift</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.task.lift/lift">lift</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.new-project">pallet.task.new-project</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.nodes">pallet.task.nodes</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.providers">pallet.task.providers</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.task.providers/providers">providers</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.to-blob">pallet.task.to-blob</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.task.to-blob/to-blob">to-blob</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.task.version">pallet.task.version</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.template">pallet.template</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.template/candidate-templates">candidate-templates</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.template/find-template">find-template</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.template/get-resource">get-resource</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.template/interpolate-template">interpolate-template</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.template/path-components">path-components</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.template/pathname">pathname</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.template.properties">pallet.template.properties</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.template.properties/properties">properties</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.thread-expr">pallet.thread-expr</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.thread-expr/apply-&gt;">apply-&gt;</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.thread-expr/apply-map-&gt;">apply-map-&gt;</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.thread-expr/for-&gt;">for-&gt;</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.thread-expr/if-&gt;">if-&gt;</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.thread-expr/if-not-&gt;">if-not-&gt;</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.thread-expr/when-&gt;">when-&gt;</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.thread-expr/when-let-&gt;">when-let-&gt;</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.thread-expr/when-not-&gt;">when-not-&gt;</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.utils">pallet.utils</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/*admin-user*">*admin-user*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/admin-user-from-config">admin-user-from-config</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/admin-user-from-config-var">admin-user-from-config-var</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/make-user">make-user</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/pipe">pipe</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/resource-properties">resource-properties</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/slurp-resource">slurp-resource</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.utils/tmpfile">tmpfile</a>
    </div>
    <br />
  </div>
</div>
</div>
                <div id="content-tag"><h1 id="overview">API for <span id="namespace-name">pallet</span></h1>
by <span id="author">Hugo Duncan</span><br />
<br />Usage:
<pre>
(ns your-namespace
  (:require <span id="long-name">pallet</span>))
</pre><pre>
</pre><h2>Overview</h2>
<pre id="namespace-docstr">Pallet is used to provision and maintain compute nodes, and aims to solve the
problem of providing a consistently configured running image across a range of
clouds.  It is designed for use from the Clojure (<a href="http://clojure.org)">http://clojure.org)</a> REPL, and
from clojure scripts.

It uses jclouds (<a href="http://github.com/jclouds/jclouds)">http://github.com/jclouds/jclouds)</a> to gain portable access to
different cloud providers.  While jclouds solves the issue of creating
destroying and configuring cloud level access to nodes, it does not address the
differences in images used across providers.  This is what Pallet adds.

defnode is used to decalre node types, specifying the image template and
possibly bootstrap and other configuration. The converge function can then be
used to control the number of nodes of each type that are running in your cloud,
and applies the declared configuration as required.  The lift function can
also be used to apply configuration without adjusting node counts.  Both
converge and lift accept inline definiton of configuration actions that should
be run.

In pallet, low level resources can be combined in clojure functions, known as
crates, that are used to specify configuration.  Crates are clojure functions
that have an initial `request` argument, and can call other crates, with
arguments, as required. The request argument is used to carry the configuration
request state, and is updated, and returned by each reasource function.  The
request map must be threaded through each resource or crate call.

Crates can be packaged and distributed as clojure jar files.

API documentation (<a href="http://hugoduncan.github.com/pallet)">http://hugoduncan.github.com/pallet)</a> is available.

## Usage

See demo documentation (http://hugoduncan.github.com/pallet/demo-api.html).

## Todo

Make password handling shell character safe.
Add progress reporting.

## Installation

Installation is with Leiningen (<a href="http://github.com/technomancy/leiningen)">http://github.com/technomancy/leiningen)</a>.  Add
`[pallet "0.0.1-SNAPSHOT"]` to your :dependencies in project.clj.</pre>
<span id="see-also">See also: 
  <span id="see-also-link">
    <a href="chef">http://wiki.opscode.com/display/chef/Home</a>
  </span><span id="see-also-link">
    <a href="jclouds">http://github.com/jclouds/jclouds</a>
  </span><br />
</span><br />
<h2>Public Variables and Functions</h2>

<h2 id="namespace-name">pallet.argument</h2>
<pre id="namespace-docstr">Arguments to resources.  Adds capability of evaluating arguments at
resource application</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.argument/DelayedArgument">DelayedArgument</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">A protocol for passing arguments, with delayed evaluation.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.argument/delayed">delayed</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (delayed [request-sym] &amp; body)
</pre>
  <pre id="var-docstr">Pass an argument to be evaluated at resource applicaiton time.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.argument/delayed-fn">delayed-fn</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (delayed-fn f)
</pre>
  <pre id="var-docstr">Pass a function with a single argument, to be used to compute an argument at
resource applicaiton time.</pre>
  
</div>
<h2 id="namespace-name">pallet.blobstore</h2>
<pre id="namespace-docstr">Blobstore abstraction</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.blobstore/blobstore-from-config">blobstore-from-config</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (blobstore-from-config config profiles)
</pre>
  <pre id="var-docstr">Create a blobstore service form a configuration map.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.blobstore/blobstore-from-map">blobstore-from-map</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (blobstore-from-map credentials)
</pre>
  <pre id="var-docstr">Create a blobstore service from a credentials map.
Uses :provider, :identity, :credential and
:blobstore-provider, :blobstore-identity and :blobstore-credential.
Blobstore keys fall back to the compute keys</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.blobstore/blobstore-from-settings">blobstore-from-settings</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (blobstore-from-settings &amp; profiles)
</pre>
  <pre id="var-docstr">Create a blobstore service from ~/.m2/settings.xml propery settings.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.blobstore/blobstore-lookup">blobstore-lookup</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">Translate compute provider to associated blobstore provider</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.blobstore/close">close</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (close blobstore)
</pre>
  <pre id="var-docstr">Close the blobstore</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.blobstore/containers">containers</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (containers blobstore)
</pre>
  <pre id="var-docstr">List containers</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.blobstore/put-file">put-file</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (put-file blobstore container path file)
</pre>
  <pre id="var-docstr">Upload a file</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.blobstore/service">service</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (service provider-name &amp; {:keys [identity credential extensions], :as options})
</pre>
  <pre id="var-docstr">Instantiate a blobstore service based on the given arguments</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.blobstore/sign-blob-request">sign-blob-request</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (sign-blob-request blobstore container path request-map)
</pre>
  <pre id="var-docstr">Create a signed request</pre>
  
</div>
<h2 id="namespace-name">pallet.blobstore.implementation</h2>
<pre id="namespace-docstr">Implementation details</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.blobstore.implementation/load-providers">load-providers</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (load-providers)
</pre>
  <pre id="var-docstr">Require all providers, ensuring no errors if individual providers can not be
loaded</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.blobstore.implementation/service">service</h2>
  <span id="var-type">multimethod</span><br />
  <pre id="var-usage">No usage documentation available</pre>
  <pre id="var-docstr">Instantiate a blobstore. Providers should implement a method for this.
See pallet.blobstore/blobstore-service.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.blobstore.implementation/supported-providers">supported-providers</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (supported-providers)
</pre>
  <pre id="var-docstr">Create a list of supported providers</pre>
  
</div>
<h2 id="namespace-name">pallet.blobstore.jclouds</h2>
<pre id="namespace-docstr">jclouds blobstore implementation</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.blobstore.jclouds/default-jclouds-extensions">default-jclouds-extensions</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (default-jclouds-extensions)
</pre>
  <pre id="var-docstr">Default extensions</pre>
  
</div>
<h2 id="namespace-name">pallet.blobstore.url-blobstore</h2>
<pre id="namespace-docstr">A url based blobstore implementation.</pre>
<br />

<h2 id="namespace-name">pallet.command-line</h2>
<pre id="namespace-docstr">Process command-line arguments according to a given cmdspec</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.command-line/group-by">group-by</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (group-by f coll)
</pre>
  <pre id="var-docstr">Returns a sorted map of the elements of coll keyed by the result of
f on each element. The value at each key will be a vector of the
corresponding elements, in the order they appeared in coll.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.command-line/join">join</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (join separator coll)
</pre>
  <pre id="var-docstr">Returns a string of all elements in coll, separated by
separator.  Like Perl's join.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.command-line/with-command-line">with-command-line</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-command-line args desc cmdspec &amp; body)
</pre>
  <pre id="var-docstr">Bind locals to command-line args.</pre>
  
</div>
<h2 id="namespace-name">pallet.command-script</h2>
<pre id="namespace-docstr">Produce a shell script for launching Pallet, possibly customised for extra jars</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.command-script/defn-download">defn-download</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (defn-download artifacts)
</pre>
  <pre id="var-docstr">Produces a function to unconditionaly download artifacts</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.command-script/http-client">http-client</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (http-client)
</pre>
  <pre id="var-docstr">Script to set HTTP client options.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.command-script/jar-name">jar-name</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (jar-name x)
</pre>
  <pre id="var-docstr">jar name for the artifact</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.command-script/local-path">local-path</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (local-path x)
</pre>
  <pre id="var-docstr">Local path for installing the artifact</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.command-script/m2-repository-path">m2-repository-path</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (m2-repository-path)
</pre>
  <pre id="var-docstr">Return a script fragment setting $repo to the local maven repository path</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.command-script/normalize-scriptname">normalize-scriptname</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (normalize-scriptname)
</pre>
  <pre id="var-docstr">normalize $0 on certain BSDs</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.command-script/remote-path">remote-path</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (remote-path x)
</pre>
  <pre id="var-docstr">Remote path for downloading the artifact</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.command-script/resolve-symlinks">resolve-symlinks</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (resolve-symlinks)
</pre>
  <pre id="var-docstr">resolve symlinks to the script itself portably</pre>
  
</div>
<h2 id="namespace-name">pallet.compute</h2>
<pre id="namespace-docstr">Abstraction of the compute interface</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.compute/boot-if-down">boot-if-down</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (boot-if-down compute nodes)
</pre>
  <pre id="var-docstr">Boot the specified nodes, if they are not running.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/compute-service">compute-service</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (compute-service provider-name &amp; {:keys [identity credential extensions node-list], :as options})
</pre>
  <pre id="var-docstr">Instantiate a compute service. The provider name should be a recognised
jclouds provider, or "node-list". The other arguments are keyword value
pairs.
  :identity     username or key
  :credential   password or secret
  :extensions   extension modules for jclouds
  :node-list    a list of nodes for the "node-list" provider.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/compute-service-from-config">compute-service-from-config</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (compute-service-from-config config profiles)
</pre>
  <pre id="var-docstr">Compute service from ~/.pallet/config.clj</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/compute-service-from-config-var">compute-service-from-config-var</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (compute-service-from-config-var)
</pre>
  <pre id="var-docstr">Checks to see if pallet.config/service is a var, and if so returns its
value.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/compute-service-from-map">compute-service-from-map</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (compute-service-from-map credentials)
</pre>
  <pre id="var-docstr">Create a compute service from a credentials map.
Uses the :provider, :identity, :credential, :extensions and :node-list keys.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/compute-service-from-property">compute-service-from-property</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (compute-service-from-property)
</pre>
  <pre id="var-docstr">If the pallet.config.service property is defined, and refers to a var, then
return its value.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/compute-service-from-settings">compute-service-from-settings</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (compute-service-from-settings &amp; profiles)
</pre>
  <pre id="var-docstr">Create a compute service from maven property settings.
In Maven's settings.xml you can define a profile, that contains
pallet.compute.provider, pallet.compute.identity and
pallet.compute.credential values.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/ensure-os-family">ensure-os-family</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (ensure-os-family compute request)
</pre>
  <pre id="var-docstr">Called on startup of a new node to ensure request has an os-family attached
to it.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/hostname">hostname</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (hostname node)
</pre>
  <pre id="var-docstr">TODO make this work on ec2</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/is-64bit?">is-64bit?</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (is-64bit? node)
</pre>
  <pre id="var-docstr">64 Bit OS predicate</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/nodes">nodes</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (nodes compute)
</pre>
  <pre id="var-docstr">List nodes</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/os-family">os-family</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (os-family node)
</pre>
  <pre id="var-docstr">Return a node's os-family, or nil if not available.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/os-version">os-version</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (os-version node)
</pre>
  <pre id="var-docstr">Return a node's os-version, or nil if not available.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/packager">packager</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (packager target)
</pre>
  <pre id="var-docstr">Package manager</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/primary-ip">primary-ip</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (primary-ip node)
</pre>
  <pre id="var-docstr">Returns the first public IP for the node.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/private-ip">private-ip</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (private-ip node)
</pre>
  <pre id="var-docstr">Returns the first private IP for the node.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/reboot">reboot</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (reboot compute nodes)
</pre>
  <pre id="var-docstr">Reboot the specified nodes</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/shutdown">shutdown</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (shutdown compute nodes user)
</pre>
  <pre id="var-docstr">Shutdown specified nodes</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/shutdown-node">shutdown-node</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (shutdown-node compute node user)
</pre>
  <pre id="var-docstr">Shutdown a node.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/ssh-port">ssh-port</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (ssh-port node)
</pre>
  <pre id="var-docstr">Extract the port from the node's userMetadata</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/supported-providers">supported-providers</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (supported-providers)
</pre>
  <pre id="var-docstr">A list of supported provider names.  Each name is suitable to be passed
to compute-service.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute/tag">tag</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (tag node)
</pre>
  <pre id="var-docstr">Returns the tag for the node.</pre>
  
</div>
<h2 id="namespace-name">pallet.compute.implementation</h2>
<pre id="namespace-docstr">Implementation details</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.compute.implementation/load-providers">load-providers</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (load-providers)
</pre>
  <pre id="var-docstr">Require all providers, ensuring no errors if individual providers can not be
loaded</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute.implementation/service">service</h2>
  <span id="var-type">multimethod</span><br />
  <pre id="var-usage">No usage documentation available</pre>
  <pre id="var-docstr">Instantiate a compute service. Providers should implement a method for this.
See pallet.compute/compute-service.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute.implementation/supported-providers">supported-providers</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (supported-providers)
</pre>
  <pre id="var-docstr">Create a list of supported providers</pre>
  
</div>
<h2 id="namespace-name">pallet.compute.jclouds</h2>
<pre id="namespace-docstr">jclouds compute service implementation.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.compute.jclouds/build-node-template">build-node-template</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (build-node-template compute public-key-path request init-script)
</pre>
  <pre id="var-docstr">Build the template for specified target node and compute context</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute.jclouds/default-jclouds-extensions">default-jclouds-extensions</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (default-jclouds-extensions)
</pre>
  <pre id="var-docstr">Default extensions</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute.jclouds/local-hardware">local-hardware</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (local-hardware)
</pre>
  <pre id="var-docstr">Create an Hardware object for the local host</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute.jclouds/local-operating-system">local-operating-system</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (local-operating-system)
</pre>
  <pre id="var-docstr">Create an OperatingSystem object for the local host</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute.jclouds/local-request">local-request</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (local-request)
</pre>
  <pre id="var-docstr">Create a request map for localhost</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute.jclouds/make-localhost-node">make-localhost-node</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (make-localhost-node)
</pre>
  <pre id="var-docstr">Make a node representing the local host</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute.jclouds/make-unmanaged-node">make-unmanaged-node</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (make-unmanaged-node tag host-or-ip &amp; options)
</pre>
  <pre id="var-docstr">Make a node that is not created by pallet's node management.
This can be used to manage configuration of any machine accessable over
ssh, including virtual machines.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.compute.jclouds/node-locations">node-locations</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (node-locations node)
</pre>
  <pre id="var-docstr">Return locations of a node as a seq.</pre>
  
</div>
<h2 id="namespace-name">pallet.compute.jvm</h2>
<pre id="namespace-docstr">Information from local jvm</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.compute.jvm/log4j?">log4j?</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (log4j?)
</pre>
  <pre id="var-docstr">Predicate to test for log4j on the classpath.</pre>
  
</div>
<h2 id="namespace-name">pallet.compute.node-list</h2>
<pre id="namespace-docstr">A simple node list provider</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.compute.node-list/make-localhost-node">make-localhost-node</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (make-localhost-node &amp; {:keys [name tag ip os-family id], :or {name localhost, tag local, ip 127.0.0.1, os-family (jvm/os-family)}, :as options})
</pre>
  <pre id="var-docstr">Make a node representing the local host</pre>
  
</div>
<h2 id="namespace-name">pallet.configure</h2>
<pre id="namespace-docstr">Pallet configuration</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.configure/compute-service-properties">compute-service-properties</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (compute-service-properties config profiles)
</pre>
  <pre id="var-docstr">Helper to read compute service properties</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.configure/pallet-config">pallet-config</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (pallet-config)
</pre>
  <pre id="var-docstr">Read pallet configuration file.</pre>
  
</div>
<h2 id="namespace-name">pallet.core</h2>
<pre id="namespace-docstr">Pallet is a functional configuration management system, that can be used to
provision and manage configured compute nodes.

It uses a declaritive map for specifying the number of nodes with a given tag.
Each tag is used to look up a machine image template specification (in jclouds),
and to configuration information (in chef).  The converge function then
tries to bring you compute servers into alignment with your declared counts and
configurations.

The bootstrap process for new compute nodes installs a user with sudo
permissions, using the specified username and password. The installed user is
used to execute the chef cookbooks.

Once the nodes are bootstrapped, and fall all existing nodes
the configured node information is written to the "compute-nodes" cookbook
before chef is run, and this provides a :compute_nodes attribute.  The
compute-nodes cookbook is expected to exist in the site-cookbooks of the
chef-repository you specify with `with-chef-repository`.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.core/add-os-family">add-os-family</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-os-family request)
</pre>
  <pre id="var-docstr">Add the os family to the node-type if available from node.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/add-target-id">add-target-id</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-target-id request)
</pre>
  <pre id="var-docstr">Add the target-id to the request</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/add-target-keys">add-target-keys</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-target-keys handler)
</pre>
  <pre id="var-docstr">Add target keys on the way down</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/add-target-packager">add-target-packager</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-target-packager request)
</pre>
  <pre id="var-docstr">Add the target packager to the request</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/adjust-node-counts">adjust-node-counts</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (adjust-node-counts delta-map nodes request)
</pre>
  <pre id="var-docstr">Start or stop the specified number of nodes.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/admin-user">admin-user</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (admin-user user &amp; options)
</pre>
  <pre id="var-docstr">Set the root binding for the admin user.
The user arg is a map as returned by make-user, or a username.
When passing a username the following options can be specified:
  :password
  :private-key-path
  :public-key-path</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/apply-phase-to-node">apply-phase-to-node</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (apply-phase-to-node request)
</pre>
  <pre id="var-docstr">Apply a phase to a node request</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/converge">converge</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (converge node-map &amp; {:keys [compute phase prefix middleware all-node-set], :as options})
</pre>
  <pre id="var-docstr">Converge the existing compute resources with the counts specified in
node-map.  The compute service may be supplied as an option, otherwise the
bound compute-service is used.

This applies the bootstrap phase to all new nodes, and the configure phase to
all running nodes whose tag matches a key in the node map.  Additional phases
can also be specified in the options, and will be applied to all matching
nodes.  The :configure phase is always applied, as the first (post bootstrap)
phase.  You can change the order in which the phases are applied by
explicitly listing them.

An optional tag prefix may be specified before the node-map.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/converge*">converge*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (converge* node-map all-node-set phases request)
</pre>
  <pre id="var-docstr">Converge the node counts of each tag in node-map, executing each of the
configuration phases on all the tags in node-map. Th phase-functions are
also executed, but not applied, for any other nodes in all-node-set</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/converge-node-counts">converge-node-counts</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (converge-node-counts node-map nodes request)
</pre>
  <pre id="var-docstr">Converge the nodes counts, given a compute facility and a reference number of
instances.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/create-nodes">create-nodes</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (create-nodes node-type count request)
</pre>
  <pre id="var-docstr">Create count nodes based on the template for tag. The boostrap argument
expects a map with :authorize-public-key and :bootstrap-script keys.  The
bootstrap-script value is expected tobe a function that produces a
script that is run with root privileges immediatly after first boot.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/defnode">defnode</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defnode tag doc-str? attr-map? image &amp; phasekw-phasefn-pairs)
</pre>
  <pre id="var-docstr">Define a node type.  The name is used for the node tag.

image defines the image selector template.  This is a vector of keyword or
       keyword value pairs that are used to filter the image list to select
       an image.
Options are used to define phases. Standard phases are:
  :bootstrap    run on first boot
  :configure    defines the configuration of the node.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/destroy-nodes-with-count">destroy-nodes-with-count</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (destroy-nodes-with-count nodes tag destroy-count compute)
</pre>
  <pre id="var-docstr">Destroys the specified number of nodes with the given tag.  Nodes are
selected at random.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/execute-with-local-sh">execute-with-local-sh</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (execute-with-local-sh handler)
</pre>
  <pre id="var-docstr">Middleware to execute on localhost with shell</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/filter-nodes-with-tag">filter-nodes-with-tag</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (filter-nodes-with-tag nodes with-tag)
</pre>
  <pre id="var-docstr">Return nodes with the given tag</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/invoke-for-node-type">invoke-for-node-type</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (invoke-for-node-type request node-map)
</pre>
  <pre id="var-docstr">Build an invocation map for specified node-type map.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/invoke-for-nodes">invoke-for-nodes</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (invoke-for-nodes request nodes)
</pre>
  <pre id="var-docstr">Build an invocation map for specified nodes.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/invoke-phases">invoke-phases</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (invoke-phases request phases node-map)
</pre>
  <pre id="var-docstr">Build an invocation map for specified phases and nodes.
This allows configuration to be accumulated in the request parameters.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/lift">lift</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (lift node-set &amp; {:keys [compute phase prefix middleware all-node-set], :as options})
</pre>
  <pre id="var-docstr">Lift the running nodes in the specified node-set by applying the specified
phases.  The compute service may be supplied as an option, otherwise the
bound compute-service is used.  The configure phase is applied by default
unless other phases are specified.

node-set can be a node type, a sequence of node types, or a map
of node type to nodes. Examples:
           [node-type1 node-type2 {node-type #{node1 node2}}]
           node-type
           {node-type #{node1 node2}}

options can also be keywords specifying the phases to apply, or an immediate
phase specified with the phase macro, or a function that will be called with
each matching node.

Options:
 :compute         a jclouds compute service
 :compute-service a map of :provider, :identity, :credential, and
                  optionally :extensions for constructing a jclouds compute
                  service.
 :phase           a phase keyword, phase function, or sequence of these
 :middleware      the middleware to apply to the configuration pipeline
 :prefix          a prefix for the tag names
 :user            the admin-user on the nodes</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/lift-nodes">lift-nodes</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (lift-nodes all-nodes target-node-map all-node-map phases request)
</pre>
  <pre id="var-docstr">Lift nodes in target-node-map for the specified phases.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/make-node">make-node</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (make-node name image &amp; {:as phase-map})
</pre>
  <pre id="var-docstr">Create a node definition.  See defnode.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/name-with-attributes">name-with-attributes</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (name-with-attributes name macro-args)
</pre>
  <pre id="var-docstr">Modified version, of that found in contrib, to handle the image map.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/node-count-difference">node-count-difference</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (node-count-difference node-map nodes)
</pre>
  <pre id="var-docstr">Find the difference between the required and actual node counts by tag.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/node-in-types?">node-in-types?</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (node-in-types? node-types node)
</pre>
  <pre id="var-docstr">Predicate for matching a node belonging to a set of node types</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/node-type?">node-type?</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (node-type? x)
</pre>
  <pre id="var-docstr">Predicate for testing if argument is node-type.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/nodes-for-type">nodes-for-type</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (nodes-for-type nodes node-type)
</pre>
  <pre id="var-docstr">Return the nodes that have a tag that matches one of the node types</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/nodes-in-map">nodes-in-map</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (nodes-in-map node-map nodes)
</pre>
  <pre id="var-docstr">Return nodes with tags corresponding to the keys in node-map</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/nodes-in-set">nodes-in-set</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (nodes-in-set node-set prefix nodes)
</pre>
  <pre id="var-docstr">Build a map of nodes for the given node-set. A node set can be a node type, a
 sequence of node types, a node node-typ vector, or a sequence of nodes.
   e.g [node-type1 node-type2 {node-type #{node1 node2}}]

The return value is a map of node-type -&gt; node sequence.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/reduce-phase-results">reduce-phase-results</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (reduce-phase-results request results)
</pre>
  <pre id="var-docstr">Combine the execution results.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/reduce-results">reduce-results</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (reduce-results request results)
</pre>
  <pre id="var-docstr">Reduce across all phase results</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/sequential-apply-phase">sequential-apply-phase</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (sequential-apply-phase request nodes)
</pre>
  <pre id="var-docstr">Apply a phase to a sequence of nodes</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/sequential-lift">sequential-lift</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (sequential-lift request phases target-node-map)
</pre>
  <pre id="var-docstr">Sequential apply the phases.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/show-target-keys">show-target-keys</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (show-target-keys handler)
</pre>
  <pre id="var-docstr">Middleware that is useful in debugging.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/with-admin-user">with-admin-user</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-admin-user user &amp; exprs)
</pre>
  <pre id="var-docstr">Specify the admin user for running remote commands.  The user is specified
either as pallet.utils.User record (see the pallet.utils/make-user
convenience fn) or as an argument list that will be passed to make-user.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/with-middleware">with-middleware</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-middleware f &amp; body)
</pre>
  <pre id="var-docstr">Wrap node execution in the given middleware. A middleware is a function of
one argument (a handler function, that is the next middleware to call) and
returns a dunction of one argument (the request map).  Middleware can be
composed with the pipe macro.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/with-target-parameters">with-target-parameters</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (with-target-parameters handler parameters)
</pre>
  <pre id="var-docstr">Middleware to set parameters based on a specified parameter map</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/wrap-local-exec">wrap-local-exec</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (wrap-local-exec _)
</pre>
  <pre id="var-docstr">Middleware to execute only local functions</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.core/wrap-no-exec">wrap-no-exec</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (wrap-no-exec _)
</pre>
  <pre id="var-docstr">Middleware to report on the request, without executing</pre>
  
</div>
<h2 id="namespace-name">pallet.enlive</h2>
<pre id="namespace-docstr">Wrappers for enlive to enable template specialisation and use xml.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.enlive/defsnippet">defsnippet</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defsnippet name source node-type args &amp; forms)
</pre>
  <pre id="var-docstr">A snippet returns a collection of nodes.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.enlive/xml-emit">xml-emit</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (xml-emit f &amp; args)
</pre>
  <pre id="var-docstr">Emit a template, adding an XML Declaration.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.enlive/xml-template">xml-template</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (xml-template source node-type args &amp; forms)
</pre>
  <pre id="var-docstr">A template returns a seq of string:
Overridden from enlive to defer evaluation of the source until runtime, and
to enable specialisation on node-type</pre>
  
</div>
<h2 id="namespace-name">pallet.execute</h2>
<pre id="namespace-docstr">Exectute commands.  At the moment the only available transport is ssh.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.execute/execute-ssh-cmds">execute-ssh-cmds</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (execute-ssh-cmds server request user options)
</pre>
  <pre id="var-docstr">Run cmds on a target.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.execute/local-cmds">local-cmds</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (local-cmds commands)
</pre>
  <pre id="var-docstr">Run local cmds on a target.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.execute/local-sh-cmds">local-sh-cmds</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (local-sh-cmds {:keys [commands root-path], :or {root-path /tmp/}, :as request})
</pre>
  <pre id="var-docstr">Execute cmds for the request.
Runs locally as the current user, so useful for testing.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.execute/remote-sudo">remote-sudo</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (remote-sudo server command user)
</pre>
  <pre id="var-docstr">Run a sudo command on a server.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.execute/sh-script">sh-script</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (sh-script command)
</pre>
  <pre id="var-docstr">Run a script on local machine.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.execute/ssh-cmds">ssh-cmds</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (ssh-cmds {:keys [address commands user ssh-port], :as request})
</pre>
  <pre id="var-docstr">Execute cmds for the request.
Also accepts an IP or hostname as anode.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.execute/system">system</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (system cmd)
</pre>
  <pre id="var-docstr">Launch a system process, return a map containing the exit code, standard
output and standard error of the process.</pre>
  
</div>
<h2 id="namespace-name">pallet.heynote</h2>
<pre id="namespace-docstr">Heynote feedback client</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.heynote/add-comment">add-comment</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-comment item &amp; options)
</pre>
  <pre id="var-docstr">Receive feedback items</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.heynote/item">item</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (item item &amp; options)
</pre>
  <pre id="var-docstr">Recieve feedback item</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.heynote/items">items</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (items &amp; options)
</pre>
  <pre id="var-docstr">Recieve feedback items</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.heynote/message-map">message-map</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (message-map)
</pre>
  <pre id="var-docstr">Return a map that can be used to send to heynote</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.heynote/new-item">new-item</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (new-item &amp; options)
</pre>
  <pre id="var-docstr">Send new feedback with the given message</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.heynote/project">project</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (project name)
</pre>
  <pre id="var-docstr">Sets and returns the heynote project name</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.heynote/send-msg">send-msg</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (send-msg path method msg-map)
</pre>
  <pre id="var-docstr">Send the given message map.</pre>
  
</div>
<h2 id="namespace-name">pallet.main</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.main/-main">-main</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (-main &amp; args)
</pre>
  <pre id="var-docstr">Command line runner.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.main/map-and-resolve-symbols">map-and-resolve-symbols</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (map-and-resolve-symbols symbol-map arg)
</pre>
  <pre id="var-docstr">Function to build a symbol-&gt;value map, requiring namespaces as needed.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.main/parse-as-qualified-symbol">parse-as-qualified-symbol</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (parse-as-qualified-symbol arg)
</pre>
  <pre id="var-docstr">Convert the given string into a namespace qualified symbol.
Returns a vector of ns and symbol</pre>
  
</div>
<h2 id="namespace-name">pallet.main-invoker</h2>
<pre id="namespace-docstr">Invoke tasks requiring a compute service.  This decouples main from anything
pallet, jclouds or maven specific, and ensures compiling main doesn't compile
the world.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.main-invoker/find-admin-user">find-admin-user</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (find-admin-user defaults project profiles)
</pre>
  <pre id="var-docstr">Return the admin user</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.main-invoker/find-blobstore">find-blobstore</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (find-blobstore options defaults project profiles)
</pre>
  <pre id="var-docstr">Look for a compute service in the following sequence:
  Check pallet.config.service property,
  check maven settings,
  check pallet.config/service var.
This sequence allows you to specify an overridable default in
pallet.config/service.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.main-invoker/find-compute-service">find-compute-service</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (find-compute-service options defaults project profiles)
</pre>
  <pre id="var-docstr">Look for a compute service in the following sequence:
  Check pallet.config.service property,
  check maven settings,
  check pallet.config/service var.
This sequence allows you to specify an overridable default in
pallet.config/service.</pre>
  
</div>
<h2 id="namespace-name">pallet.maven</h2>
<pre id="namespace-docstr">Maven interaction</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.maven/credentials">credentials</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (credentials profiles)
</pre>
  <pre id="var-docstr">Read maven's settings.xml file, and extract credentials.  </pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.maven/properties">properties</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (properties profiles)
</pre>
  <pre id="var-docstr">Read maven's settings.xml file, and extract properties from active profiles
as a map.</pre>
  
</div>
<h2 id="namespace-name">pallet.md5crypt</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.md5crypt/clean-salt">clean-salt</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (clean-salt salt magic)
</pre>
  <pre id="var-docstr">Clean up a passed salt value</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.md5crypt/crypt">crypt</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (crypt password)
       (crypt password salt)
       (crypt password salt magic)
</pre>
  <pre id="var-docstr">LINUX/BSD MD5Crypt function</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.md5crypt/to64">to64</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (to64 value n)
</pre>
  <pre id="var-docstr">Return value encoded as n base64 chars</pre>
  
</div>
<h2 id="namespace-name">pallet.parameter</h2>
<pre id="namespace-docstr">Provides parameters for use across crates.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.parameter/from-map">from-map</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (from-map m keys)
</pre>
  <pre id="var-docstr">Initialise parameters based on the given keys, which are used to merge maps
from m.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.parameter/lookup">lookup</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (lookup &amp; keys)
</pre>
  <pre id="var-docstr">Lookup a parameter in a delayed manner. This produces a function, which is
executed by it's toString method.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.parameter/lookup-for-target">lookup-for-target</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (lookup-for-target &amp; keys)
</pre>
  <pre id="var-docstr">Lookup a parameter for the target in a delayed manner. This produces a
function, which is executed by it's toString method.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.parameter/parameters">parameters</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (parameters request &amp; {:as keyvector-value-pairs})
</pre>
  <pre id="var-docstr">Set parameters</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.parameter/parameters*">parameters*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (parameters* request &amp; {:as keyvector-value-pairs})
</pre>
  <pre id="var-docstr">Set parameters</pre>
  
</div>
<h2 id="namespace-name">pallet.repl</h2>
<pre id="namespace-docstr">A namespace that can be used to pull in most of pallet's namespaces.  uesful
when working at the clojure REPL.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.repl/use-pallet">use-pallet</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (use-pallet)
</pre>
  <pre id="var-docstr">Macro that will use pallet's namespaces, to provide an easy to access REPL.</pre>
  
</div>
<h2 id="namespace-name">pallet.request-map</h2>
<pre id="namespace-docstr">Functions for querying and manipulating requests</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.request-map/nodes-in-tag">nodes-in-tag</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (nodes-in-tag request)
       (nodes-in-tag request tag)
</pre>
  <pre id="var-docstr">All nodes in the same tag as the target-node, or with the specified tag.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.request-map/os-family">os-family</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (os-family request)
</pre>
  <pre id="var-docstr">OS-Family of the target-node.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.request-map/safe-id">safe-id</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (safe-id unsafe-id)
</pre>
  <pre id="var-docstr">Computes a configuration and filesystem safe identifier corresponding to a
potentially unsafe ID</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.request-map/safe-name">safe-name</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (safe-name request)
</pre>
  <pre id="var-docstr">Safe name for target machine.
Some providers don't allow for node names, only node ids, and there is
no guarantee on the id format.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.request-map/script-template-keys">script-template-keys</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (script-template-keys request)
</pre>
  <pre id="var-docstr">Find the script template keys for the request</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.request-map/tag">tag</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (tag request)
</pre>
  <pre id="var-docstr">Tag of the target-node.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.request-map/target-id">target-id</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (target-id request)
</pre>
  <pre id="var-docstr">Id of the target-node (unique for provider).</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.request-map/target-ip">target-ip</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (target-ip request)
</pre>
  <pre id="var-docstr">IP of the target-node.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.request-map/target-name">target-name</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (target-name request)
</pre>
  <pre id="var-docstr">Name of the target-node.</pre>
  
</div>
<h2 id="namespace-name">pallet.resource</h2>
<pre id="namespace-docstr">Resources implement the conversion of phase functions to script and other
configuration code.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource/after-phase">after-phase</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (after-phase phase)
</pre>
  <pre id="var-docstr">Calculate the name for the after-phase</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/as-local-resource">as-local-resource</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (as-local-resource request f &amp; args)
</pre>
  <pre id="var-docstr">An adaptor for using a normal function as a local resource function</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/as-local-resource*">as-local-resource*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (as-local-resource* request f &amp; args)
</pre>
  <pre id="var-docstr">An adaptor for using a normal function as a local resource function</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/bound-invocations">bound-invocations</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (bound-invocations invocations)
</pre>
  <pre id="var-docstr">Configured resources for executions, binding args to methods.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/defaggregate">defaggregate</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defaggregate name &amp; args)
</pre>
  <pre id="var-docstr">Shortcut for defining a resource-producing function with an
:execution of :aggregate. The option vector specifes the
backing function arguments.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/defcollect">defcollect</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defcollect name &amp; args)
</pre>
  <pre id="var-docstr">Shortcut for defining a resource-producing function with an
:execution of :collect. The option vector specifes the
backing function arguments.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/deflocal">deflocal</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (deflocal name &amp; args)
</pre>
  <pre id="var-docstr">Shortcut for defining a resource-producing function with an
:execution of :in-sequence. and ::type of :fn/clojure</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/defresource">defresource</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defresource name &amp; args)
</pre>
  <pre id="var-docstr">Defines a resource-producing functions.  Takes a name, a vector specifying
the symbol to bind the request to and an optional execution phase and backing
function arguments, the argument signature that the function exposes and the
body of the resource.

A "backing function" that will actually produce the resource is defined
with name*.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/execute-after-phase">execute-after-phase</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (execute-after-phase request &amp; body)
</pre>
  <pre id="var-docstr">Specify the after phase for execution of resources.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/execute-commands">execute-commands</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (execute-commands request fn-map)
</pre>
  <pre id="var-docstr">Execute commands by passing the evaluated resources to the function of the
correct type in fn-map.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/execute-pre-phase">execute-pre-phase</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (execute-pre-phase request &amp; body)
</pre>
  <pre id="var-docstr">Specify the pre phase for execution of resources.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/execute-resource">execute-resource</h2>
  <span id="var-type">multimethod</span><br />
  <pre id="var-usage">No usage documentation available</pre>
  <pre id="var-docstr">Execute a resource of the given type.  Returns [request result]</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/invocations-&gt;resource-fns">invocations-&gt;resource-fns</h2>
  <span id="var-type">multimethod</span><br />
  <pre id="var-usage">No usage documentation available</pre>
  <pre id="var-docstr">Given an execution's invocations, will return a seq of
functions pre-processed appropriately for that execution.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/invoke-resource">invoke-resource</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (invoke-resource request invoke-fn args)
       (invoke-resource request invoke-fn args execution)
       (invoke-resource request invoke-fn args execution resource-type)
</pre>
  <pre id="var-docstr">Registers a resource whose generation is defined by the specified
invocation function and arguments that will be applied to that fn
when the associated phase is applied to a node.

The invocation can be scheduled within one of two 'executions'
(conceptually, sub-phases):

:in-sequence - The generated resource will be applied to the node
     "in order", as it is defined lexically in the source crate.
     This is the default.
:aggregated - All aggregated resources are applied to the node
     in the order they are defined, but before all :in-sequence
     resources. Note that all of the arguments to any given
     invocation fn are gathered such that there is only ever one
     invocation of each fn within each phase.
:collected - All collected resources are applied to the node
     in the order they are defined, but after all :in-sequence
     resources. Note that all of the arguments to any given
     invocation fn are gathered such that there is only ever one
     invocation of each fn within each phase.

The resource-type determines how the invocation should be handled:

:script/bash - resource produce bash script for execution on remote machine
:fn/clojure  - resource is a function for local execution
:transfer/to-local - resource is a function specifying remote source
     and local destination.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/output-resources">output-resources</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (output-resources resources)
</pre>
  <pre id="var-docstr">Build an execution list for the passed resources.  The result is a sequence
of [location type f] maps, where location is either :local or :remote, and f
returns a string for remote execution, or is a no argument function for local
execution.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/phase">phase</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (phase &amp; body)
</pre>
  <pre id="var-docstr">Create a phase function from a sequence of crate invocations with
an ommited request parameter.

eg. (phase
      (file "/some-file")
      (file "/other-file"))

which generates a function with a request argument, that is thread
through the function calls. The example is thus equivalent to:

(fn [request] (-&gt; request
                (file "/some-file")
                (file "/other-file"))) </pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/phase-list">phase-list</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (phase-list phases)
</pre>
  <pre id="var-docstr">Add default phases, pre and after phases.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/phase-list*">phase-list*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (phase-list* phases)
</pre>
  <pre id="var-docstr">Add pre and after phases</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/pre-phase">pre-phase</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (pre-phase phase)
</pre>
  <pre id="var-docstr">Calculate the name for the pre-phase</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/produce-phase">produce-phase</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (produce-phase request)
</pre>
  <pre id="var-docstr">Produce the :phase phase from the :invocations</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/resource-evaluate-fn">resource-evaluate-fn</h2>
  <span id="var-type">multimethod</span><br />
  <pre id="var-usage">No usage documentation available</pre>
  <pre id="var-docstr">Create a resource evaluation function that combines the evaluation</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource/script-join">script-join</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (script-join scripts)
</pre>
  <pre id="var-docstr">Concatenate multiple scripts, removing blank lines</pre>
  
</div>
<h2 id="namespace-name">pallet.resource-build</h2>
<pre id="namespace-docstr">Temporary namespace - needs to move to testing, but need to resource-when</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource-build/build-resources">build-resources</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (build-resources [&amp; {:as request-map}] &amp; body)
</pre>
  <pre id="var-docstr">Outputs the remote resources specified in the body for the specified phases.
This is useful in testing.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource-build/produce-phases">produce-phases</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (produce-phases phases request)
</pre>
  <pre id="var-docstr">Join the result of produce-phase, executing local resources.
Useful for testing.</pre>
  
</div>
<h2 id="namespace-name">pallet.resource.directory</h2>
<pre id="namespace-docstr">Directory manipulation.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.directory/directories">directories</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (directories request paths &amp; options)
</pre>
  <pre id="var-docstr">Directory management of multiple directories with the same
owner/group/permissions.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.directory/directories*">directories*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (directories* request paths &amp; options)
</pre>
  <pre id="var-docstr">Directory management of multiple directories with the same
owner/group/permissions.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.directory/directory">directory</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (directory request path &amp; {:keys [action], :or {action :create}, :as options})
</pre>
  <pre id="var-docstr">Directory management.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.directory/directory*">directory*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (directory* request path &amp; {:keys [action], :or {action :create}, :as options})
</pre>
  <pre id="var-docstr">Directory management.</pre>
  
</div>
<h2 id="namespace-name">pallet.resource.exec-script</h2>
<pre id="namespace-docstr">Script execution. script generation is delayed until resource application
time, so that it occurs wirh the correct target.</pre>
<br />

<h2 id="namespace-name">pallet.resource.file</h2>
<pre id="namespace-docstr">File manipulation.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.file/fifo">fifo</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (fifo request path &amp; {:keys [action], :or {action :create}, :as options})
</pre>
  <pre id="var-docstr">FIFO pipe management.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.file/fifo*">fifo*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (fifo* request path &amp; {:keys [action], :or {action :create}, :as options})
</pre>
  <pre id="var-docstr">FIFO pipe management.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.file/file">file</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (file request path &amp; {:keys [action owner group mode force], :or {action :create}, :as options})
</pre>
  <pre id="var-docstr">File management.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.file/file*">file*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (file* request path &amp; {:keys [action owner group mode force], :or {action :create}, :as options})
</pre>
  <pre id="var-docstr">File management.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.file/heredoc">heredoc</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (heredoc path content &amp; options)
</pre>
  <pre id="var-docstr">Generates a heredoc. Options:
:literal boolean  - if true, prevents shell expansion of contents</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.file/sed">sed</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (sed request path exprs-map &amp; {:keys [seperator no-md5], :as options})
</pre>
  <pre id="var-docstr">Execute sed on a file.  Takes a path and a map for expr to replacement.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.file/sed*">sed*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (sed* request path exprs-map &amp; {:keys [seperator no-md5], :as options})
</pre>
  <pre id="var-docstr">Execute sed on a file.  Takes a path and a map for expr to replacement.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.file/symbolic-link">symbolic-link</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (symbolic-link request from name &amp; {:keys [action owner group mode force], :or {action :create, force true}})
</pre>
  <pre id="var-docstr">Symbolic link management.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.file/symbolic-link*">symbolic-link*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (symbolic-link* request from name &amp; {:keys [action owner group mode force], :or {action :create, force true}})
</pre>
  <pre id="var-docstr">Symbolic link management.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.file/write-md5-for-file">write-md5-for-file</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (write-md5-for-file path md5-path)
</pre>
  <pre id="var-docstr">Create a .md5 file for the specified input file</pre>
  
</div>
<h2 id="namespace-name">pallet.resource.filesystem</h2>
<pre id="namespace-docstr">Filesystem resource</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.filesystem/make-xfs-filesytem">make-xfs-filesytem</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (make-xfs-filesytem request device)
</pre>
  <pre id="var-docstr">Format a device as an XFS filesystem.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.filesystem/mount">mount</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (mount request device mount-point &amp; {:keys [device-type automount no-automount dump-frequency boot-check-pass], :or {dump-frequency 0, boot-check-pass 0}, :as options})
</pre>
  <pre id="var-docstr">Mount a device.</pre>
  
</div>
<h2 id="namespace-name">pallet.resource.filesystem-layout</h2>
<pre id="namespace-docstr">Functions to return distribution specific paths</pre>
<br />

<h2 id="namespace-name">pallet.resource.format</h2>
<pre id="namespace-docstr">Some standard file formating.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.format/sectioned-properties">sectioned-properties</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (sectioned-properties m)
</pre>
  <pre id="var-docstr">A sectioned property file.
This is modeled as vector of maps. The keys of the outer map are the section
names.  The inner maps are keyword value maps.</pre>
  
</div>
<h2 id="namespace-name">pallet.resource.hostinfo</h2>
<pre id="namespace-docstr">Host information.</pre>
<br />

<h2 id="namespace-name">pallet.resource.lib</h2>
<pre id="namespace-docstr">Routines that can be used in other resources</pre>
<br />

<h2 id="namespace-name">pallet.resource.package</h2>
<pre id="namespace-docstr">Package management resource.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/add-centos55-to-amzn-linux">add-centos55-to-amzn-linux</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-centos55-to-amzn-linux request)
</pre>
  <pre id="var-docstr">Add the centos 5.5 repository to Amazon Linux. Ensure that it has a lower
priority</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/add-epel">add-epel</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-epel request &amp; {:keys [version], :or {version 5-4}})
</pre>
  <pre id="var-docstr">Add the EPEL repository</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/add-jpackage">add-jpackage</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-jpackage request &amp; {:keys [version component releasever], :or {component redhat-el, releasever $releasever, version 5.0}})
</pre>
  <pre id="var-docstr">Add the jpackage repository.  component should be one of:
fedora
redhat-el</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/add-rpmforge">add-rpmforge</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-rpmforge request &amp; {:keys [version distro arch], :or {version 0.5.1-1, distro el5, arch i386}})
</pre>
  <pre id="var-docstr">Add the rpmforge repository</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/add-scope">add-scope</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-scope type scope file)
</pre>
  <pre id="var-docstr">Add a scope to all the existing package sources</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/apply-package-manager">apply-package-manager</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (apply-package-manager request package-manager-args)
</pre>
  <pre id="var-docstr">Package manager controls.
:multiverse        - enable multiverse
:update            - update the package manager</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/format-source">format-source</h2>
  <span id="var-type">multimethod</span><br />
  <pre id="var-usage">No usage documentation available</pre>
  <pre id="var-docstr">Create a source definition</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/package">package</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (package request package-name &amp; {:keys [action y force purge], :or {action :install, y true}, :as options})
</pre>
  <pre id="var-docstr">Package management.
 :action [:install | :remove | :upgrade]
 :version version
 :purge [true|false]  - when removing, whether to remove all config, etc
Package management occurs in one shot, so that the package manager can
maintain a consistent view.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/package*">package*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (package* request args)
</pre>
  <pre id="var-docstr">Package management.
 :action [:install | :remove | :upgrade]
 :version version
 :purge [true|false]  - when removing, whether to remove all config, etc
Package management occurs in one shot, so that the package manager can
maintain a consistent view.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/package-manager">package-manager</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (package-manager request action &amp; options)
</pre>
  <pre id="var-docstr">Package manager controls.
:multiverse        - enable multiverse
:update            - update the package manager</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/package-manager*">package-manager*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (package-manager* request action &amp; options)
</pre>
  <pre id="var-docstr">Package management.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/package-source">package-source</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (package-source request name &amp; {:as options})
</pre>
  <pre id="var-docstr">Control package sources.
Options are the package manager keywords, each specifying a map of
packager specific options.

:aptitude
  :source-type string   - source type (deb)
  :url url              - repository url
  :scopes seq           - scopes to enable for repository
  :key-url url          - url for key
  :key-id id            - id for key to look it up from keyserver

:yum
  :name                 - repository name
  :url url          - repository base url
  :gpgkey url           - gpg key url for repository

Example: (package-source "Partner" :aptitude {:url "http://archive.canonical.com/"
                                                :scopes ["partner"]})</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/package-source*">package-source*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (package-source* request name &amp; {:as options})
</pre>
  <pre id="var-docstr">Add a packager source.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/package-source-aggregate">package-source-aggregate</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (package-source-aggregate request args)
</pre>
  <pre id="var-docstr">Control package sources.
Options are the package manager keywords, each specifying a map of
packager specific options.

:aptitude
  :source-type string   - source type (deb)
  :url url              - repository url
  :scopes seq           - scopes to enable for repository
  :key-url url          - url for key
  :key-id id            - id for key to look it up from keyserver

:yum
  :name                 - repository name
  :url url          - repository base url
  :gpgkey url           - gpg key url for repository

Example: (package-source "Partner" :aptitude {:url "http://archive.canonical.com/"
                                                :scopes ["partner"]})</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/packages">packages</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (packages request &amp; {:as options})
</pre>
  <pre id="var-docstr">Install a list of packages keyed on packager</pre>
  
</div>
<h2 id="namespace-name">pallet.resource.remote-directory</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.remote-directory/remote-directory">remote-directory</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (remote-directory request path &amp; {:keys [action url unpack tar-options unzip-options strip-components md5 md5-url owner group recursive], :or {action :create, tar-options xz, unzip-options -o, strip-components 1}, :as options})
</pre>
  <pre id="var-docstr">Specify the contents of remote directory.
Options:
  :url              - a url to download content from
  :unpack           - how download should be extracts (default :tar)
  :tar-options      - options to pass to tar (default "xz")
  :unzip-options    - options to pass to unzip (default "xz")
  :strip-components - number of pathc ompnents to remove when unpacking
  :md5              - md5 of file to unpack
  :md5-url          - url of md5 file for file to unpack
  :owner            - owner of files
  :group            - group of files
  :recursive        - flag to recursively set owner and group</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.remote-directory/remote-directory*">remote-directory*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (remote-directory* request path &amp; {:keys [action url unpack tar-options unzip-options strip-components md5 md5-url owner group recursive], :or {action :create, tar-options xz, unzip-options -o, strip-components 1}, :as options})
</pre>
  <pre id="var-docstr">Specify the contents of remote directory.
Options:
  :url              - a url to download content from
  :unpack           - how download should be extracts (default :tar)
  :tar-options      - options to pass to tar (default "xz")
  :unzip-options    - options to pass to unzip (default "xz")
  :strip-components - number of pathc ompnents to remove when unpacking
  :md5              - md5 of file to unpack
  :md5-url          - url of md5 file for file to unpack
  :owner            - owner of files
  :group            - group of files
  :recursive        - flag to recursively set owner and group</pre>
  
</div>
<h2 id="namespace-name">pallet.resource.remote-file</h2>
<pre id="namespace-docstr">File Contents.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.remote-file/all-options">all-options</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">A vector of the options accepted by remote-file.  Can be used for option
forwarding when calling remote-file from other crates.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.remote-file/content-options">content-options</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">A vector of the options accepted by remote-file.  Can be used for option
forwarding when calling remote-file from other crates.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.remote-file/remote-file">remote-file</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (remote-file request path &amp; {:keys [action url local-file remote-file link content literal template values md5 md5-url owner group mode force blob blobstore overwrite-changes no-versioning max-versions flag-on-changed], :as options})
</pre>
  <pre id="var-docstr">Remote file with contents management.
Options for specifying the file's content are:
  :url url          - download the specified url to the given filepath
  :content string   - use the specified content directly
  :local-file path  - use the file on the local machine at the given path
  :remote-file path - use the file on the remote machine at the given path
  :link             - file to link to:
  :literal          - prevent shell expansion on content
  :md5              - md5 for file
  :md5-url          - a url containing file's md5
  :template         - specify a template to be interpolated
  :values           - values for interpolation
  :blob             - map of :container, :path
  :blobstore        - a jclouds blobstore object (override blobstore in request)
  :overwrite-changes - flag to force overwriting of locally modified content
  :no-versioning    - do not version the file
  :max-versions     - specfy the number of versions to keep (default 5)
  :flag-on-changed  - flag to set if file is changed
Options for specifying the file's permissions are:
  :owner user-name
  :group group-name
  :mode  file-mode</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.remote-file/set-force-overwrite">set-force-overwrite</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (set-force-overwrite flag)
</pre>
  <pre id="var-docstr">Globally force installation of new files, even if content on node has
changed.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.remote-file/set-install-new-files">set-install-new-files</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (set-install-new-files flag)
</pre>
  <pre id="var-docstr">Set boolean flag to control installation of new files</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.remote-file/transfer-file">transfer-file</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (transfer-file request local-path remote-path)
</pre>
  <pre id="var-docstr">Function to transfer a local file.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.remote-file/with-remote-file">with-remote-file</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (with-remote-file request f path &amp; args)
</pre>
  <pre id="var-docstr">Function to call f with a local copy of the requested remote path.
f should be a function taking [request local-path &amp; _], where local-path will
be a File with a copy of the remote file (which will be unlinked after
calling f.</pre>
  
</div>
<h2 id="namespace-name">pallet.resource.resource-when</h2>
<pre id="namespace-docstr">Conditional resource execution.</pre>
<br />

<h2 id="namespace-name">pallet.resource.rsync</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.rsync/rsync-directory">rsync-directory</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (rsync-directory request from to &amp; {:keys [owner group mode port], :as options})
</pre>
  <pre id="var-docstr">Rsync from a local directory to a remote directory.</pre>
  
</div>
<h2 id="namespace-name">pallet.resource.service</h2>
<pre id="namespace-docstr">Service control.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.service/init-script">init-script</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (init-script request name &amp; {:keys [action url local-file remote-file link content literal template values md5 md5-url force], :or {action :create}, :as options})
</pre>
  <pre id="var-docstr">Install an init script.  Sources as for remote-file.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.service/service">service</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (service request service-name &amp; {:keys [action if-flag], :or {action :start}, :as options})
</pre>
  <pre id="var-docstr">Control serives.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.service/service*">service*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (service* request service-name &amp; {:keys [action if-flag], :or {action :start}, :as options})
</pre>
  <pre id="var-docstr">Control serives.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.service/with-restart">with-restart</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-restart request service-name &amp; body)
</pre>
  <pre id="var-docstr">Stop the given service, execute the body, and then restart.</pre>
  
</div>
<h2 id="namespace-name">pallet.resource.user</h2>
<pre id="namespace-docstr">User management resource.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.user/group">group</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (group request groupname &amp; {:keys [action system gid password], :or {action :manage}, :as options})
</pre>
  <pre id="var-docstr">User Group Management.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.user/group*">group*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (group* request groupname &amp; {:keys [action system gid password], :or {action :manage}, :as options})
</pre>
  <pre id="var-docstr">User Group Management.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.user/user">user</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (user request username &amp; {:keys [action shell base-dir home system create-home password shell comment groups remove force], :or {action :manage}, :as options})
</pre>
  <pre id="var-docstr">User management.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.user/user*">user*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (user* request username &amp; {:keys [action shell base-dir home system create-home password shell comment groups remove force], :or {action :manage}, :as options})
</pre>
  <pre id="var-docstr">Require a user</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.user/user-combiner">user-combiner</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (user-combiner request user-args)
</pre>
  <pre id="var-docstr">User management.</pre>
  
</div>
<h2 id="namespace-name">pallet.script</h2>
<pre id="namespace-docstr">Base infrastructure for script generation</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.script/*template*">*template*</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">Determine the target to generate script for.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.script/defscript">defscript</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defscript name [&amp; args])
</pre>
  <pre id="var-docstr">Define a script fragment</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.script/dispatch-target">dispatch-target</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (dispatch-target script &amp; args)
</pre>
  <pre id="var-docstr">Invoke target, raising if there is no implementation.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.script/implement">implement</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (implement script-name specialisers f)
</pre>
  <pre id="var-docstr">Add an implementation of script-name</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.script/invoke-target">invoke-target</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (invoke-target script args)
</pre>
  <pre id="var-docstr">Invoke target when possible, otherwise return nil</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.script/remove-script">remove-script</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (remove-script script-name)
</pre>
  <pre id="var-docstr">Remove all implementations of a script.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.script/with-line-number">with-line-number</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-line-number &amp; body)
</pre>
  <pre id="var-docstr">Record the source line number</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.script/with-template">with-template</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-template template &amp; body)
</pre>
  <pre id="var-docstr">Specify the target for script generation</pre>
  
</div>
<h2 id="namespace-name">pallet.stevedore</h2>
<pre id="namespace-docstr">Embed shell script in clojure</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/chain-commands">chain-commands</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (chain-commands &amp; scripts)
</pre>
  <pre id="var-docstr">Chain commands together with &amp;&amp;.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/chain-commands*">chain-commands*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (chain-commands* scripts)
</pre>
  <pre id="var-docstr">Chain commands together with &amp;&amp;.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/chained-script">chained-script</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (chained-script &amp; forms)
</pre>
  <pre id="var-docstr">Takes one or more forms. Returns a string of the forms translated into a
chained shell script command.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/char-at">char-at</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (char-at s i)
</pre>
  <pre id="var-docstr">Gets the i'th character in string.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/checked-commands">checked-commands</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (checked-commands message &amp; cmds)
</pre>
  <pre id="var-docstr">Wrap a command in a code that checks the return value. Code to output the
messages is added before the command.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/checked-commands*">checked-commands*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (checked-commands* message cmds)
</pre>
  <pre id="var-docstr">Wrap a command in a code that checks the return value. Code to output the
messages is added before the command.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/checked-script">checked-script</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (checked-script message &amp; forms)
</pre>
  <pre id="var-docstr">Takes one or more forms. Returns a string of the forms translated into
shell scrip.  Wraps the expression in a test for the result status.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/defimpl">defimpl</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defimpl script-name specialisers [&amp; args] &amp; body)
</pre>
  <pre id="var-docstr">Define a script fragment implementation for a given set of specialisers</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/do-script">do-script</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (do-script &amp; scripts)
</pre>
  <pre id="var-docstr">Concatenate multiple scripts.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/do-script*">do-script*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (do-script* scripts)
</pre>
  <pre id="var-docstr">Concatenate multiple scripts.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/map-to-arg-string">map-to-arg-string</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (map-to-arg-string m &amp; options)
</pre>
  <pre id="var-docstr">Output a set of command line switches from a map</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/option-args">option-args</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (option-args options)
</pre>
  <pre id="var-docstr">Output a set of command line switches from a sequence of options</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/script">script</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (script &amp; forms)
</pre>
  <pre id="var-docstr">Takes one or more forms. Returns a string of the forms translated into
javascript.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.stevedore/substring">substring</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (substring n s)
</pre>
  <pre id="var-docstr">Drops first n characters from s.  Returns an empty string if n is
greater than the length of s.</pre>
  
</div>
<h2 id="namespace-name">pallet.strint</h2>
<pre id="namespace-docstr">Runtime string interpolation built on top of clojure.contrib.strint.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.strint/&lt;&lt;!">&lt;&lt;!</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (&lt;&lt;! f value-map)
</pre>
  <pre id="var-docstr">Interpolate a string given a map of symbol-&gt;value</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.strint/capture-values">capture-values</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (capture-values &amp; values)
</pre>
  <pre id="var-docstr">Capture the values of the specified symbols in a symbol-&gt;value map.</pre>
  
</div>
<h2 id="namespace-name">pallet.target</h2>
<pre id="namespace-docstr">Provide information about the target image</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.target/admin-group">admin-group</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (admin-group target)
</pre>
  <pre id="var-docstr">Default administrator group</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.target/os-family">os-family</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (os-family target)
</pre>
  <pre id="var-docstr">OS family</pre>
  
</div>
<h2 id="namespace-name">pallet.task.containers</h2>
<pre id="namespace-docstr">List contianers.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.task.containers/containers">containers</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (containers request &amp; args)
</pre>
  <pre id="var-docstr">List containers.</pre>
  
</div>
<h2 id="namespace-name">pallet.task.converge</h2>
<pre id="namespace-docstr">Adjust node counts.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.task.converge/converge">converge</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (converge request &amp; args)
</pre>
  <pre id="var-docstr">Adjust node counts.  Requires a map of node-type, count pairs.
  eg. pallet converge mynodes/my-node 1
The node-types should be namespace qualified.</pre>
  
</div>
<h2 id="namespace-name">pallet.task.describe-node</h2>
<pre id="namespace-docstr">Adjust node counts.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.task.describe-node/describe-node">describe-node</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (describe-node &amp; args)
</pre>
  <pre id="var-docstr">Display the node definition for the given node-types.</pre>
  
</div>
<h2 id="namespace-name">pallet.task.feedback</h2>
<pre id="namespace-docstr">Feedback to the pallet project.
add  - send new feedback. Arguments will be sent as text.
list - show recent feedback.</pre>
<br />

<h2 id="namespace-name">pallet.task.help</h2>
<pre id="namespace-docstr">Display a list of tasks or help for a given task.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.task.help/help-for">help-for</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (help-for task)
</pre>
  <pre id="var-docstr">Help for a task is stored in its docstring, or if that's not present
in its namespace.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.task.help/tasks">tasks</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (tasks)
</pre>
  <pre id="var-docstr">Find the available tasks.</pre>
  
</div>
<h2 id="namespace-name">pallet.task.lift</h2>
<pre id="namespace-docstr">Apply configuration.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.task.lift/lift">lift</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (lift request &amp; args)
</pre>
  <pre id="var-docstr">Apply configuration.
  eg. pallet lift mynodes/my-node
The node-types should be namespace qualified.</pre>
  
</div>
<h2 id="namespace-name">pallet.task.new-project</h2>
<pre id="namespace-docstr">Create a new pallet project.
pallet new-project &lt;project-directory&gt;.</pre>
<br />

<h2 id="namespace-name">pallet.task.nodes</h2>
<pre id="namespace-docstr">list nodes.</pre>
<br />

<h2 id="namespace-name">pallet.task.providers</h2>
<pre id="namespace-docstr">Provide information on the supported and enabled providers.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.task.providers/providers">providers</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (providers &amp; _)
</pre>
  <pre id="var-docstr">Provide information on the supported and enabled providers.</pre>
  
</div>
<h2 id="namespace-name">pallet.task.to-blob</h2>
<pre id="namespace-docstr">Upload to a blob.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.task.to-blob/to-blob">to-blob</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (to-blob request &amp; args)
</pre>
  <pre id="var-docstr">Upload to a blob.
 to-blob container path filename
By default tries to upload the project war file.</pre>
  
</div>
<h2 id="namespace-name">pallet.task.version</h2>
<pre id="namespace-docstr">Print Pallet's version to standard out.</pre>
<br />

<h2 id="namespace-name">pallet.template</h2>
<pre id="namespace-docstr">Template file writing</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.template/candidate-templates">candidate-templates</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (candidate-templates path tag template)
</pre>
  <pre id="var-docstr">Generate a prioritised list of possible template paths.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.template/find-template">find-template</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (find-template path node-type)
</pre>
  <pre id="var-docstr">Find a template for the specified path, for application to the given node.
Templates may be specialised.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.template/get-resource">get-resource</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (get-resource path)
</pre>
  <pre id="var-docstr">Loads a resource. Returns a URI.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.template/interpolate-template">interpolate-template</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (interpolate-template path values node-type)
</pre>
  <pre id="var-docstr">Interpolate the given template.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.template/path-components">path-components</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (path-components path)
</pre>
  <pre id="var-docstr">Split a path into directory, basename and extension components</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.template/pathname">pathname</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (pathname &amp; parts)
</pre>
  <pre id="var-docstr">Build a pathname from a list of path and filename parts.  Last part is
assumed to be a file extension.</pre>
  
</div>
<h2 id="namespace-name">pallet.template.properties</h2>
<pre id="namespace-docstr">A template for writing properties style config files.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.template.properties/properties">properties</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (properties values)
</pre>
  <pre id="var-docstr">Write a properties file based on the input argument.</pre>
  
</div>
<h2 id="namespace-name">pallet.thread-expr</h2>
<pre id="namespace-docstr">Macros that can be used in an expression thread</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.thread-expr/apply-&gt;">apply-&gt;</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (apply-&gt; request f &amp; args)
</pre>
  <pre id="var-docstr">Apply in a threaded expression.
e.g.
   (-&gt; 1
     (apply-&gt; + [1 2 3]))
=&gt; 7</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.thread-expr/apply-map-&gt;">apply-map-&gt;</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (apply-map-&gt; request f &amp; args)
</pre>
  <pre id="var-docstr">Apply in a threaded expression.
e.g.
   (-&gt; :a
     (apply-map-&gt; hash-map 1 {:b 2}))
=&gt; {:a 1 :b 2}</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.thread-expr/for-&gt;">for-&gt;</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (for-&gt; arg [value s &amp; {:keys [let]}] &amp; body)
</pre>
  <pre id="var-docstr">Apply a thread expression to a sequence.
eg.
   (-&gt; 1
     (for-&gt; [x [1 2 3]]
       (+ x)))
=&gt; 7</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.thread-expr/if-&gt;">if-&gt;</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (if-&gt; arg condition form)
       (if-&gt; arg condition form else-form)
</pre>
  <pre id="var-docstr">An `if` form that can appear in a request thread
eg.
   (-&gt; 1
     (if-&gt; true
       (+ 1)
       (+ 2)))
=&gt; 2</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.thread-expr/if-not-&gt;">if-not-&gt;</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (if-not-&gt; arg condition form)
       (if-not-&gt; arg condition form else-form)
</pre>
  <pre id="var-docstr">An `if-not` form that can appear in a request thread
eg.
   (-&gt; 1
     (if-not-&gt; true
       (+ 1)
       (+ 2)))
=&gt; 3</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.thread-expr/when-&gt;">when-&gt;</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (when-&gt; arg condition &amp; body)
</pre>
  <pre id="var-docstr">A `when` form that can appear in a request thread.
eg.
   (-&gt; 1
     (when-&gt; true
       (+ 1)))
=&gt; 2</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.thread-expr/when-let-&gt;">when-let-&gt;</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (when-let-&gt; arg binding &amp; body)
</pre>
  <pre id="var-docstr">A `when-let` form that can appear in a request thread.
eg.
   (-&gt; 1
     (when-let-&gt; [a 1]
       (+ a)))
=&gt; 2</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.thread-expr/when-not-&gt;">when-not-&gt;</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (when-not-&gt; arg condition &amp; body)
</pre>
  <pre id="var-docstr">A `when-not` form that can appear in a request thread.
eg.
   (-&gt; 1
     (when-not-&gt; true
       (+ 1)))
=&gt; 2</pre>
  
</div>
<h2 id="namespace-name">pallet.utils</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.utils/*admin-user*">*admin-user*</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">The admin user is used for running remote admin commands that require root
permissions.  The default admin user is taken from the pallet.admin.username
property.  If not specified then the user.name property is used.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.utils/admin-user-from-config">admin-user-from-config</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (admin-user-from-config config)
</pre>
  <pre id="var-docstr">Set the admin user based on config map</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.utils/admin-user-from-config-var">admin-user-from-config-var</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (admin-user-from-config-var)
</pre>
  <pre id="var-docstr">Set the admin user based on pallet.config setup</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.utils/make-user">make-user</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (make-user username &amp; {:as options})
</pre>
  <pre id="var-docstr">Creates a User record with the given username and options. Generally used
in conjunction with *admin-user* and pallet.core/with-admin-user.
Some options have default values:

:public-key-path (defaults to ~/.ssh/id_rsa.pub)
:private-key-path (defaults to ~/.ssh/id_rsa)
:sudo-password (defaults to :password)</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.utils/pipe">pipe</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (pipe &amp; forms)
</pre>
  <pre id="var-docstr">Build a request processing pipeline from the specified forms</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.utils/resource-properties">resource-properties</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (resource-properties name)
</pre>
  <pre id="var-docstr">Returns nil if resource not found.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.utils/slurp-resource">slurp-resource</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (slurp-resource name)
       (slurp-resource name enc)
</pre>
  <pre id="var-docstr">Reads the resource named by name using the encoding enc into a string
and returns it.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.utils/tmpfile">tmpfile</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (tmpfile)
       (tmpfile dir)
</pre>
  <pre id="var-docstr">Create a temporary file</pre>
  
</div>


</div>
              </div>
            </div>
          </div>
	</div>
	<div id="foot">
	  <div style="text-align: center;" id="copyright">Copyright (c) 2010 Hugo Duncan</div>
	</div>
      </div>
      <div id="DesignedBy">Logo &amp; site design by <a title="Visit Tom Hickey's website." href="http://www.tomhickey.com">Tom Hickey</a>.<br />
      Clojure auto-documentation system by Tom Faulhaber.</div>
    </div>
    <!-- /AllContentContainer -->
  </body>

</html>