<html>
  <head>
    <title>pallet.resource API reference (pallet)</title>
    <link href="static/favicon.png" rel="icon" />
    <link href="static/favicon.png" rel="shortcut icon" />
    <link media="all" type="text/css" href="static/clojure.css" rel="stylesheet" />
    <link media="all" type="text/css" href="static/wiki.css" rel="stylesheet" />
    <link media="all" type="text/css" href="static/internal.css" rel="stylesheet" />
    <!-- TODO: are we using these (from clojure.org)? If so, add the files -->
    <script src="file/view/code_highlighter.js" type="text/javascript"></script>
    <script src="file/view/clojure.js" type="text/javascript"></script>
    <style>.menuWrapper{height: 36px;}</style>
    <!--[if lte IE 6]>
    <link rel="stylesheet" href="http://www.wikispaces.com/_/2009051601/s/internal_ie.css" type="text/css" />
    <![endif]-->
  </head>
<!--
This document was auto-generated from the source by the clojure autodoc system.
To report errors or ask questions about the overall documentation structure, formatting,
etc., contact Tom Faulhaber (google mail name: tomfaulhaber).
For errors in the documentation of a particular namespace, contact the author of that
namespace.
-->
  <body>
    <div id="AllContentContainer">
      <div id="Header">
	<a id="Logo" href="index.html"><img alt="Clojure" height="100" width="100" src="static/clojure-icon.gif" /></a>
	<h1><a title="page header title" id="page-header" href="index.html">pallet</a></h1>
      </div>
      <div id="leftcolumn"><div style="text-align: center;"></div>
<div class="menu">
  <div class="WikiCustomNav WikiElement wiki">
    <a class="wiki_link" href="index.html">Overview</a><br />
    <a class="wiki_link" href="api-index.html">API Index</a><br />
    <a class="wiki_link" href="#">Namespaces:</a>
    <ul id="left-sidebar-list">
      <li><a href="pallet.argument-api.html" class="wiki_link">pallet.argument</a></li><li><a href="pallet.blobstore-api.html" class="wiki_link">pallet.blobstore</a></li><li><a href="pallet.command-line-api.html" class="wiki_link">pallet.command-line</a></li><li><a href="pallet.command-script-api.html" class="wiki_link">pallet.command-script</a></li><li><a href="pallet.compute-api.html" class="wiki_link">pallet.compute</a></li><li><a href="pallet.configure-api.html" class="wiki_link">pallet.configure</a></li><li><a href="pallet.core-api.html" class="wiki_link">pallet.core</a></li><li><a href="pallet.enlive-api.html" class="wiki_link">pallet.enlive</a></li><li><a href="pallet.execute-api.html" class="wiki_link">pallet.execute</a></li><li><a href="pallet.heynote-api.html" class="wiki_link">pallet.heynote</a></li><li><a href="pallet.main-api.html" class="wiki_link">pallet.main</a></li><li><a href="pallet.main-invoker-api.html" class="wiki_link">pallet.main-invoker</a></li><li><a href="pallet.maven-api.html" class="wiki_link">pallet.maven</a></li><li><a href="pallet.md5crypt-api.html" class="wiki_link">pallet.md5crypt</a></li><li><a href="pallet.parameter-api.html" class="wiki_link">pallet.parameter</a></li><li><a href="pallet.repl-api.html" class="wiki_link">pallet.repl</a></li><li><a href="pallet.request-map-api.html" class="wiki_link">pallet.request-map</a></li><li><a href="pallet.resource-api.html" class="wiki_link">pallet.resource</a></li><li><a href="pallet.resource-build-api.html" class="wiki_link">pallet.resource-build</a></li><li><a href="pallet.script-api.html" class="wiki_link">pallet.script</a></li><li><a href="pallet.stevedore-api.html" class="wiki_link">pallet.stevedore</a></li><li><a href="pallet.strint-api.html" class="wiki_link">pallet.strint</a></li><li><a href="pallet.target-api.html" class="wiki_link">pallet.target</a></li><li><a href="pallet.task.containers-api.html" class="wiki_link">pallet.task.containers</a></li><li><a href="pallet.task.converge-api.html" class="wiki_link">pallet.task.converge</a></li><li><a href="pallet.task.describe-node-api.html" class="wiki_link">pallet.task.describe-node</a></li><li><a href="pallet.task.feedback-api.html" class="wiki_link">pallet.task.feedback</a></li><li><a href="pallet.task.help-api.html" class="wiki_link">pallet.task.help</a></li><li><a href="pallet.task.lift-api.html" class="wiki_link">pallet.task.lift</a></li><li><a href="pallet.task.new-project-api.html" class="wiki_link">pallet.task.new-project</a></li><li><a href="pallet.task.nodes-api.html" class="wiki_link">pallet.task.nodes</a></li><li><a href="pallet.task.providers-api.html" class="wiki_link">pallet.task.providers</a></li><li><a href="pallet.task.to-blob-api.html" class="wiki_link">pallet.task.to-blob</a></li><li><a href="pallet.task.version-api.html" class="wiki_link">pallet.task.version</a></li><li><a href="pallet.template-api.html" class="wiki_link">pallet.template</a></li><li><a href="pallet.thread-expr-api.html" class="wiki_link">pallet.thread-expr</a></li><li><a href="pallet.utils-api.html" class="wiki_link">pallet.utils</a></li>
    </ul>
  </div>
</div>
</div>
      <div id="rightcolumn">
	<div id="Content">
	  <div class="contentBox"><div class="innerContentBox">
              <div id="content_view" class="wiki wikiPage">
                <div id="right-sidebar"><div id="toc">
  <h1 class="nopad">Table of Contents</h1>
  <div style="margin-left: 1em;" class="toc-section">
    <a href="#toc0">Overview</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/after-phase">after-phase</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/as-local-resource">as-local-resource</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/as-local-resource*">as-local-resource*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/bound-invocations">bound-invocations</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/defaggregate">defaggregate</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/defcollect">defcollect</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/deflocal">deflocal</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/defresource">defresource</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/execute-after-phase">execute-after-phase</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/execute-commands">execute-commands</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/execute-pre-phase">execute-pre-phase</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/execute-resource">execute-resource</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/invocations-&gt;resource-fns">invocations-&gt;resource-fns</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/invoke-resource">invoke-resource</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/output-resources">output-resources</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/phase">phase</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/phase-list">phase-list</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/phase-list*">phase-list*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/pre-phase">pre-phase</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/produce-phase">produce-phase</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/resource-evaluate-fn">resource-evaluate-fn</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource/script-join">script-join</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.directory">pallet.resource.directory</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.directory/adjust-directory">adjust-directory</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.directory/directories">directories</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.directory/directories*">directories*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.directory/directory">directory</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.directory/directory*">directory*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.directory/make-directory">make-directory</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.directory/make-temp-dir">make-temp-dir</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.directory/mkdir">mkdir</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.directory/rmdir">rmdir</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.exec-script">pallet.resource.exec-script</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.file">pallet.resource.file</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.file/fifo">fifo</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.file/fifo*">fifo*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.file/file">file</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.file/file*">file*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.file/heredoc">heredoc</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.file/sed">sed</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.file/sed*">sed*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.file/symbolic-link">symbolic-link</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.file/symbolic-link*">symbolic-link*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.file/write-md5-for-file">write-md5-for-file</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.filesystem">pallet.resource.filesystem</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.filesystem/make-xfs-filesytem">make-xfs-filesytem</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.filesystem/mount">mount</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.filesystem-layout">pallet.resource.filesystem-layout</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.format">pallet.resource.format</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.format/name-values">name-values</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.format/sectioned-properties">sectioned-properties</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.hostinfo">pallet.resource.hostinfo</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.lib">pallet.resource.lib</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.package">pallet.resource.package</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/add-centos55-to-amzn-linux">add-centos55-to-amzn-linux</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/add-epel">add-epel</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/add-epel*">add-epel*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/add-jpackage">add-jpackage</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/add-rpmforge">add-rpmforge</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/add-rpmforge*">add-rpmforge*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/add-scope">add-scope</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/apply-package-manager">apply-package-manager</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/format-source">format-source</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/install-package">install-package</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/list-installed-packages">list-installed-packages</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/package">package</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/package*">package*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/package-manager">package-manager</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/package-manager*">package-manager*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/package-source">package-source</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/package-source*">package-source*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/package-source-aggregate">package-source-aggregate</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/packages">packages</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/purge-package">purge-package</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/remove-package">remove-package</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.package/update-package-list">update-package-list</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.remote-directory">pallet.resource.remote-directory</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.remote-directory/remote-directory">remote-directory</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.remote-directory/remote-directory*">remote-directory*</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.remote-file">pallet.resource.remote-file</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.remote-file/all-options">all-options</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.remote-file/content-options">content-options</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.remote-file/ownership-options">ownership-options</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.remote-file/remote-file">remote-file</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.remote-file/set-force-overwrite">set-force-overwrite</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.remote-file/set-install-new-files">set-install-new-files</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.remote-file/transfer-file">transfer-file</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.remote-file/version-options">version-options</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.remote-file/with-remote-file">with-remote-file</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.resource-when">pallet.resource.resource-when</a>
    
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.rsync">pallet.resource.rsync</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.rsync/rsync-directory">rsync-directory</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.service">pallet.resource.service</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.service/init-script">init-script</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.service/service">service</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.service/service*">service*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.service/with-restart">with-restart</a>
    </div>
    <br />
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#pallet.resource.user">pallet.resource.user</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.user/group">group</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.user/group*">group*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.user/user">user</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.user/user*">user*</a>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a href="#pallet.resource.user/user-combiner">user-combiner</a>
    </div>
    <br />
  </div>
</div>
</div>
                <div id="content-tag"><h1 id="overview">API for <span id="namespace-name">pallet.resource</span></h1>
by <span id="author">Unknown</span><br />
<br />Usage:
<pre>
(ns your-namespace
  (:require <span id="long-name">pallet.resource</span>))
</pre><pre>
</pre><h2>Overview</h2>
<pre id="namespace-docstr">Resources implement the conversion of phase functions to script and other
configuration code.</pre>
<br />
<h2>Public Variables and Functions</h2>
<div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.resource/after-phase">after-phase</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (after-phase phase)
</pre>
  <pre id="var-docstr">Calculate the name for the after-phase</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.resource/as-local-resource">as-local-resource</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (as-local-resource request f &amp; args)
</pre>
  <pre id="var-docstr">An adaptor for using a normal function as a local resource function</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.resource/as-local-resource*">as-local-resource*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (as-local-resource* request f &amp; args)
</pre>
  <pre id="var-docstr">An adaptor for using a normal function as a local resource function</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.resource/bound-invocations">bound-invocations</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (bound-invocations invocations)
</pre>
  <pre id="var-docstr">Configured resources for executions, binding args to methods.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.resource/defaggregate">defaggregate</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defaggregate name &amp; args)
</pre>
  <pre id="var-docstr">Shortcut for defining a resource-producing function with an
:execution of :aggregate. The option vector specifes the
backing function arguments.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.resource/defcollect">defcollect</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defcollect name &amp; args)
</pre>
  <pre id="var-docstr">Shortcut for defining a resource-producing function with an
:execution of :collect. The option vector specifes the
backing function arguments.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.resource/deflocal">deflocal</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (deflocal name &amp; args)
</pre>
  <pre id="var-docstr">Shortcut for defining a resource-producing function with an
:execution of :in-sequence. and ::type of :fn/clojure</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.resource/defresource">defresource</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (defresource name &amp; args)
</pre>
  <pre id="var-docstr">Defines a resource-producing functions.  Takes a name, a vector specifying
the symbol to bind the request to and an optional execution phase and backing
function arguments, the argument signature that the function exposes and the
body of the resource.

A "backing function" that will actually produce the resource is defined
with name*.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.resource/execute-after-phase">execute-after-phase</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (execute-after-phase request &amp; body)
</pre>
  <pre id="var-docstr">Specify the after phase for execution of resources.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.resource/execute-commands">execute-commands</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (execute-commands request fn-map)
</pre>
  <pre id="var-docstr">Execute commands by passing the evaluated resources to the function of the
correct type in fn-map.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.resource/execute-pre-phase">execute-pre-phase</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (execute-pre-phase request &amp; body)
</pre>
  <pre id="var-docstr">Specify the pre phase for execution of resources.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.resource/execute-resource">execute-resource</h2>
  <span id="var-type">multimethod</span><br />
  <pre id="var-usage">No usage documentation available</pre>
  <pre id="var-docstr">Execute a resource of the given type.  Returns [request result]</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.resource/invocations-&gt;resource-fns">invocations-&gt;resource-fns</h2>
  <span id="var-type">multimethod</span><br />
  <pre id="var-usage">No usage documentation available</pre>
  <pre id="var-docstr">Given an execution's invocations, will return a seq of
functions pre-processed appropriately for that execution.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.resource/invoke-resource">invoke-resource</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (invoke-resource request invoke-fn args)
       (invoke-resource request invoke-fn args execution)
       (invoke-resource request invoke-fn args execution resource-type)
</pre>
  <pre id="var-docstr">Registers a resource whose generation is defined by the specified
invocation function and arguments that will be applied to that fn
when the associated phase is applied to a node.

The invocation can be scheduled within one of two 'executions'
(conceptually, sub-phases):

:in-sequence - The generated resource will be applied to the node
     "in order", as it is defined lexically in the source crate.
     This is the default.
:aggregated - All aggregated resources are applied to the node
     in the order they are defined, but before all :in-sequence
     resources. Note that all of the arguments to any given
     invocation fn are gathered such that there is only ever one
     invocation of each fn within each phase.
:collected - All collected resources are applied to the node
     in the order they are defined, but after all :in-sequence
     resources. Note that all of the arguments to any given
     invocation fn are gathered such that there is only ever one
     invocation of each fn within each phase.

The resource-type determines how the invocation should be handled:

:script/bash - resource produce bash script for execution on remote machine
:fn/clojure  - resource is a function for local execution
:transfer/to-local - resource is a function specifying remote source
     and local destination.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.resource/output-resources">output-resources</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (output-resources resources)
</pre>
  <pre id="var-docstr">Build an execution list for the passed resources.  The result is a sequence
of [location type f] maps, where location is either :local or :remote, and f
returns a string for remote execution, or is a no argument function for local
execution.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.resource/phase">phase</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (phase &amp; body)
</pre>
  <pre id="var-docstr">Create a phase function from a sequence of crate invocations with
an ommited request parameter.

eg. (phase
      (file "/some-file")
      (file "/other-file"))

which generates a function with a request argument, that is thread
through the function calls. The example is thus equivalent to:

(fn [request] (-&gt; request
                (file "/some-file")
                (file "/other-file"))) </pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.resource/phase-list">phase-list</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (phase-list phases)
</pre>
  <pre id="var-docstr">Add default phases, pre and after phases.</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.resource/phase-list*">phase-list*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (phase-list* phases)
</pre>
  <pre id="var-docstr">Add pre and after phases</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.resource/pre-phase">pre-phase</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (pre-phase phase)
</pre>
  <pre id="var-docstr">Calculate the name for the pre-phase</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.resource/produce-phase">produce-phase</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (produce-phase request)
</pre>
  <pre id="var-docstr">Produce the :phase phase from the :invocations</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.resource/resource-evaluate-fn">resource-evaluate-fn</h2>
  <span id="var-type">multimethod</span><br />
  <pre id="var-usage">No usage documentation available</pre>
  <pre id="var-docstr">Create a resource evaluation function that combines the evaluation</pre>
  
</div><div id="var-entry">
  <br />
  <hr />
  <h2 id="pallet.resource/script-join">script-join</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (script-join scripts)
</pre>
  <pre id="var-docstr">Concatenate multiple scripts, removing blank lines</pre>
  
</div>
<h2 id="namespace-name">pallet.resource.directory</h2>
<pre id="namespace-docstr">A directory manipulation resource, to create and remove directories
with given ownership and mode.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.directory/adjust-directory">adjust-directory</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (adjust-directory path opts)
</pre>
  <pre id="var-docstr">Script to set the ownership and mode of a directory.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.directory/directories">directories</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (directories request paths &amp; options)
</pre>
  <pre id="var-docstr">Directory management of multiple directories with the same
owner/group/permissions.

`options` are as for `directory` and are applied to each directory in
`paths`</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.directory/directories*">directories*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (directories* request paths &amp; options)
</pre>
  <pre id="var-docstr">Directory management of multiple directories with the same
owner/group/permissions.

`options` are as for `directory` and are applied to each directory in
`paths`</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.directory/directory">directory</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (directory request path &amp; {:keys [action], :or {action :create}, :as options})
</pre>
  <pre id="var-docstr">Directory management.

For :create and :touch, all components of path are effected.

Options are:
 - :action     One of :create, :touch, :delete
 - :recursive  Flag for recursive delete
 - :force      Flag for forced delete</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.directory/directory*">directory*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (directory* request path &amp; {:keys [action], :or {action :create}, :as options})
</pre>
  <pre id="var-docstr">Directory management.

For :create and :touch, all components of path are effected.

Options are:
 - :action     One of :create, :touch, :delete
 - :recursive  Flag for recursive delete
 - :force      Flag for forced delete</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.directory/make-directory">make-directory</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (make-directory path opts)
</pre>
  <pre id="var-docstr">Script to create a directory.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.directory/make-temp-dir">make-temp-dir</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (make-temp-dir pattern &amp; options)
</pre>
  <pre id="var-docstr">Create a temporary directory</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.directory/mkdir">mkdir</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (mkdir directory &amp; options)
</pre>
  <pre id="var-docstr">Create the specified directory</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.directory/rmdir">rmdir</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (rmdir directory &amp; options)
</pre>
  <pre id="var-docstr">Remove the specified directory</pre>
  
</div>
<h2 id="namespace-name">pallet.resource.exec-script</h2>
<pre id="namespace-docstr">Script execution. script generation is delayed until resource application
time, so that it occurs wirh the correct target.</pre>
<br />

<h2 id="namespace-name">pallet.resource.file</h2>
<pre id="namespace-docstr">File manipulation.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.file/fifo">fifo</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (fifo request path &amp; {:keys [action], :or {action :create}, :as options})
</pre>
  <pre id="var-docstr">FIFO pipe management.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.file/fifo*">fifo*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (fifo* request path &amp; {:keys [action], :or {action :create}, :as options})
</pre>
  <pre id="var-docstr">FIFO pipe management.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.file/file">file</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (file request path &amp; {:keys [action owner group mode force], :or {action :create}, :as options})
</pre>
  <pre id="var-docstr">File management.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.file/file*">file*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (file* request path &amp; {:keys [action owner group mode force], :or {action :create}, :as options})
</pre>
  <pre id="var-docstr">File management.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.file/heredoc">heredoc</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (heredoc path content &amp; options)
</pre>
  <pre id="var-docstr">Generates a heredoc. Options:
:literal boolean  - if true, prevents shell expansion of contents</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.file/sed">sed</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (sed request path exprs-map &amp; {:keys [seperator no-md5], :as options})
</pre>
  <pre id="var-docstr">Execute sed on a file.  Takes a path and a map for expr to replacement.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.file/sed*">sed*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (sed* request path exprs-map &amp; {:keys [seperator no-md5], :as options})
</pre>
  <pre id="var-docstr">Execute sed on a file.  Takes a path and a map for expr to replacement.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.file/symbolic-link">symbolic-link</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (symbolic-link request from name &amp; {:keys [action owner group mode force], :or {action :create, force true}})
</pre>
  <pre id="var-docstr">Symbolic link management.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.file/symbolic-link*">symbolic-link*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (symbolic-link* request from name &amp; {:keys [action owner group mode force], :or {action :create, force true}})
</pre>
  <pre id="var-docstr">Symbolic link management.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.file/write-md5-for-file">write-md5-for-file</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (write-md5-for-file path md5-path)
</pre>
  <pre id="var-docstr">Create a .md5 file for the specified input file</pre>
  
</div>
<h2 id="namespace-name">pallet.resource.filesystem</h2>
<pre id="namespace-docstr">Filesystem resource</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.filesystem/make-xfs-filesytem">make-xfs-filesytem</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (make-xfs-filesytem request device)
</pre>
  <pre id="var-docstr">Format a device as an XFS filesystem.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.filesystem/mount">mount</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (mount request device mount-point &amp; {:keys [device-type automount no-automount dump-frequency boot-check-pass], :or {dump-frequency 0, boot-check-pass 0}, :as options})
</pre>
  <pre id="var-docstr">Mount a device.</pre>
  
</div>
<h2 id="namespace-name">pallet.resource.filesystem-layout</h2>
<pre id="namespace-docstr">Functions to return distribution specific paths.

These script functions are meant to help build distribution agnostic crates.


* Links
 - man 7 hier
 - http://www.pathname.com/fhs/
 - <a href="http://wiki.apache.org/httpd/DistrosDefaultLayout">http://wiki.apache.org/httpd/DistrosDefaultLayout</a></pre>
<br />

<h2 id="namespace-name">pallet.resource.format</h2>
<pre id="namespace-docstr">Some standard file formating.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.format/name-values">name-values</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (name-values m &amp; {:keys [separator], :or {separator  }})
</pre>
  <pre id="var-docstr">A property file.
The properties are written "key value", one per line.
  m                   a key-value map
  :seperator chars    seperator to use between key and value
                      (default is a single space)</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.format/sectioned-properties">sectioned-properties</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (sectioned-properties m)
</pre>
  <pre id="var-docstr">A sectioned property file.
This is modeled as vector of maps. The keys of the outer map are the section
names.  The inner maps are keyword value maps.</pre>
  
</div>
<h2 id="namespace-name">pallet.resource.hostinfo</h2>
<pre id="namespace-docstr">Host information.</pre>
<br />

<h2 id="namespace-name">pallet.resource.lib</h2>
<pre id="namespace-docstr">Routines that can be used in other resources</pre>
<br />

<h2 id="namespace-name">pallet.resource.package</h2>
<pre id="namespace-docstr">Package management resource.

`package` is used to install or remove a package.

`package-source` is used to specify a non-standard source for packages.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/add-centos55-to-amzn-linux">add-centos55-to-amzn-linux</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-centos55-to-amzn-linux request)
</pre>
  <pre id="var-docstr">Add the centos 5.5 repository to Amazon Linux. Ensure that it has a lower
than default priority.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/add-epel">add-epel</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-epel request &amp; {:keys [version], :or {version 5-4}})
</pre>
  <pre id="var-docstr">Add the EPEL repository</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/add-epel*">add-epel*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-epel* request args)
</pre>
  <pre id="var-docstr">Add the EPEL repository</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/add-jpackage">add-jpackage</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-jpackage request &amp; {:keys [version component releasever], :or {component redhat-el, releasever $releasever, version 5.0}})
</pre>
  <pre id="var-docstr">Add the jpackage repository.  component should be one of:
  fedora
  redhat-el

Installs the jpackage-utils package from the base repos at a
pritority of 25.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/add-rpmforge">add-rpmforge</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-rpmforge request &amp; {:keys [version distro arch], :or {version 0.5.2-2, distro el5, arch i386}})
</pre>
  <pre id="var-docstr">Add the rpmforge repository</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/add-rpmforge*">add-rpmforge*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-rpmforge* request args)
</pre>
  <pre id="var-docstr">Add the rpmforge repository</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/add-scope">add-scope</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (add-scope type scope file)
</pre>
  <pre id="var-docstr">Add a scope to all the existing package sources. Aptitude specific.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/apply-package-manager">apply-package-manager</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (apply-package-manager request package-manager-args)
</pre>
  <pre id="var-docstr">Package manager controls.

`action` is one of the following:
  :update            - update the list of available packages
  :list-installed    - output a list of the installed packages
  :multiverse        - enable multiverse
  :update            - update the package manager</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/format-source">format-source</h2>
  <span id="var-type">multimethod</span><br />
  <pre id="var-usage">No usage documentation available</pre>
  <pre id="var-docstr">Format a package source definition</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/install-package">install-package</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (install-package name &amp; options)
</pre>
  <pre id="var-docstr">Install the specified package.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/list-installed-packages">list-installed-packages</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (list-installed-packages &amp; options)
</pre>
  <pre id="var-docstr">List the installed packages</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/package">package</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (package request package-name &amp; {:keys [action y force purge enable disable priority], :or {action :install, y true, priority 50}, :as options})
</pre>
  <pre id="var-docstr">Install or remove a package.

Options
 - :action [:install | :remove | :upgrade]
 - :purge [true|false]         when removing, whether to remove all config
 - :enable [repo|(seq repo)]   enable specific repository
 - :disable [repo|(seq repo)]  disable specific repository
 - :priority n                 priority (0-100, default 50)

Package management occurs in one shot, so that the package manager can
maintain a consistent view.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/package*">package*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (package* request args)
</pre>
  <pre id="var-docstr">Install or remove a package.

Options
 - :action [:install | :remove | :upgrade]
 - :purge [true|false]         when removing, whether to remove all config
 - :enable [repo|(seq repo)]   enable specific repository
 - :disable [repo|(seq repo)]  disable specific repository
 - :priority n                 priority (0-100, default 50)

Package management occurs in one shot, so that the package manager can
maintain a consistent view.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/package-manager">package-manager</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (package-manager request action &amp; options)
</pre>
  <pre id="var-docstr">Package manager controls.

`action` is one of the following:
  :update            - update the list of available packages
  :list-installed    - output a list of the installed packages
  :multiverse        - enable multiverse
  :update            - update the package manager</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/package-manager*">package-manager*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (package-manager* request action &amp; options)
</pre>
  <pre id="var-docstr">Package management.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/package-source">package-source</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (package-source request name &amp; {:as options})
</pre>
  <pre id="var-docstr">Control package sources.
Options are the package manager keywords, each specifying a map of
packager specific options.

:aptitude
  - :source-type string   - source type (deb)
  - :url url              - repository url
  - :scopes seq           - scopes to enable for repository
  - :key-url url          - url for key
  - :key-id id            - id for key to look it up from keyserver

:yum
  - :name                 - repository name
  - :url url          - repository base url
  - :gpgkey url           - gpg key url for repository

Example
    (package-source "Partner"
      :aptitude {:url "http://archive.canonical.com/"
                 :scopes ["partner"]})</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/package-source*">package-source*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (package-source* request name &amp; {:as options})
</pre>
  <pre id="var-docstr">Add a packager source.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/package-source-aggregate">package-source-aggregate</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (package-source-aggregate request args)
</pre>
  <pre id="var-docstr">Control package sources.
Options are the package manager keywords, each specifying a map of
packager specific options.

:aptitude
  - :source-type string   - source type (deb)
  - :url url              - repository url
  - :scopes seq           - scopes to enable for repository
  - :key-url url          - url for key
  - :key-id id            - id for key to look it up from keyserver

:yum
  - :name                 - repository name
  - :url url          - repository base url
  - :gpgkey url           - gpg key url for repository

Example
    (package-source "Partner"
      :aptitude {:url "http://archive.canonical.com/"
                 :scopes ["partner"]})</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/packages">packages</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (packages request &amp; {:keys [yum aptitude pacman brew], :as options})
</pre>
  <pre id="var-docstr">Install a list of packages keyed on packager.
(packages request
  :yum ["git" "git-email"]
  :aptitude ["git-core" "git-email"])</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/purge-package">purge-package</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (purge-package name &amp; options)
</pre>
  <pre id="var-docstr">Uninstall the specified package, removing the configuration files if
possible.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/remove-package">remove-package</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (remove-package name &amp; options)
</pre>
  <pre id="var-docstr">Uninstall the specified package, leaving the configuration files if
possible.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.package/update-package-list">update-package-list</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (update-package-list &amp; options)
</pre>
  <pre id="var-docstr">Update the list of packages available to the package manager from the
declared package sources.</pre>
  
</div>
<h2 id="namespace-name">pallet.resource.remote-directory</h2>
<pre id="namespace-docstr">Resource to specify the content of a remote directory.  At present the
content can come from a downloaded tar or zip file.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.remote-directory/remote-directory">remote-directory</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (remote-directory request path &amp; {:keys [action url unpack tar-options unzip-options strip-components md5 md5-url owner group recursive], :or {action :create, tar-options xz, unzip-options -o, strip-components 1}, :as options})
</pre>
  <pre id="var-docstr">Specify the contents of remote directory.

Options:
 - :url              - a url to download content from
 - :unpack           - how download should be extracts (default :tar)
 - :tar-options      - options to pass to tar (default "xz")
 - :unzip-options    - options to pass to unzip (default "-o")
 - :strip-components - number of path compnents to remove when unpacking
 - :md5              - md5 of file to unpack
 - :md5-url          - url of md5 file for file to unpack

Ownership options:
 - :owner            - owner of files
 - :group            - group of files
 - :recursive        - flag to recursively set owner and group

To install the content of an url pointing at a tar file, specify the :url
option.
    (remote-directory request path
       :url "http://a.com/path/file.tgz")

If there is an md5 url with the tar file's md5, you can specify that as well,
to prevent unecessary downloads and verify the content.
    (remote-directory request path
       :url "http://a.com/path/file.tgz"
       :md5-url "http://a.com/path/file.md5")

To install the content of an url pointing at a zip file, specify the :url
option and :unpack :unzip.
    (remote-directory request path
       :url "http://a.com/path/file."
       :unpack :unzip)</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.remote-directory/remote-directory*">remote-directory*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (remote-directory* request path &amp; {:keys [action url unpack tar-options unzip-options strip-components md5 md5-url owner group recursive], :or {action :create, tar-options xz, unzip-options -o, strip-components 1}, :as options})
</pre>
  <pre id="var-docstr">Specify the contents of remote directory.

Options:
 - :url              - a url to download content from
 - :unpack           - how download should be extracts (default :tar)
 - :tar-options      - options to pass to tar (default "xz")
 - :unzip-options    - options to pass to unzip (default "-o")
 - :strip-components - number of path compnents to remove when unpacking
 - :md5              - md5 of file to unpack
 - :md5-url          - url of md5 file for file to unpack

Ownership options:
 - :owner            - owner of files
 - :group            - group of files
 - :recursive        - flag to recursively set owner and group

To install the content of an url pointing at a tar file, specify the :url
option.
    (remote-directory request path
       :url "http://a.com/path/file.tgz")

If there is an md5 url with the tar file's md5, you can specify that as well,
to prevent unecessary downloads and verify the content.
    (remote-directory request path
       :url "http://a.com/path/file.tgz"
       :md5-url "http://a.com/path/file.md5")

To install the content of an url pointing at a zip file, specify the :url
option and :unpack :unzip.
    (remote-directory request path
       :url "http://a.com/path/file."
       :unpack :unzip)</pre>
  
</div>
<h2 id="namespace-name">pallet.resource.remote-file</h2>
<pre id="namespace-docstr">Resource to specify remote file content.

`remote-file` has many options for the content of remote files.  Ownership
and mode can of course be specified. By default the remote file is versioned,
and multiple versions are kept.

Modification of remote files outside of pallet cause an error to be raised
by default.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.remote-file/all-options">all-options</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">A vector of the options accepted by remote-file.  Can be used for option
forwarding when calling remote-file from other crates.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.remote-file/content-options">content-options</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">A vector of the options accepted by remote-file.  Can be used for option
forwarding when calling remote-file from other crates.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.remote-file/ownership-options">ownership-options</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">A vector of options for controlling ownership. Can be used for option
forwarding when calling remote-file from other crates.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.remote-file/remote-file">remote-file</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (remote-file request path &amp; {:keys [action url local-file remote-file link content literal template values md5 md5-url owner group mode force blob blobstore overwrite-changes no-versioning max-versions flag-on-changed], :as options})
</pre>
  <pre id="var-docstr">Remote file content management.

The `remote-file` resource can specify the content of a remote file in a number
different ways.

By default, the remote-file is versioned, and 5 versions are kept.

The remote content is also verified against it's md5 hash.  If the contents
of the remote file have changed (e.g. have been edited on the remote machine)
then by default the file will not be overwritten, and an error will be raised.
To force overwrite, call `set-force-overwrite` before running `converge` or
`lift`.

Options for specifying the file's content are:
  :url url          - download the specified url to the given filepath
  :content string   - use the specified content directly
  :local-file path  - use the file on the local machine at the given path
  :remote-file path - use the file on the remote machine at the given path
  :link             - file to link to
  :literal          - prevent shell expansion on content
  :md5              - md5 for file
  :md5-url          - a url containing file's md5
  :template         - specify a template to be interpolated
  :values           - values for interpolation
  :blob             - map of :container, :path
  :blobstore        - a jclouds blobstore object (override blobstore in request)

Options for version control are:
  :overwrite-changes - flag to force overwriting of locally modified content
  :no-versioning    - do not version the file
  :max-versions     - specfy the number of versions to keep (default 5)
  :flag-on-changed  - flag to set if file is changed

Options for specifying the file's permissions are:
  :owner user-name
  :group group-name
  :mode  file-mode

To copy the content of a local file to a remote file:
    (remote-file request "remote/path" :local-file "local/path")

To copy the content of one remote file to another remote file:
    (remote-file request "remote/path" :remote-file "remote/source/path")

To link one remote file to another remote file:
    (remote-file request "remote/path" :link "remote/source/path")

To download a url to a remote file:
    (remote-file request "remote/path" :url "http://a.com/path")

If a url to a md5 file is also available, then it can be specified to prevent
unnecessary downloads and to verify the download.
    (remote-file request "remote/path"
      :url "http://a.com/path"
      :md5-url "http://a.com/path.md5")

If the md5 of the file to download, it can be specified to prevent unnecessary
downloads and to verify the download.
    (remote-file request "remote/path"
      :url "http://a.com/path"
      :md5 "6de9439834c9147569741d3c9c9fc010")

Content can also be copied from a blobstore.
    (remote-file request "remote/path"
      :blob {:container "container" :path "blob"})</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.remote-file/set-force-overwrite">set-force-overwrite</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (set-force-overwrite flag)
</pre>
  <pre id="var-docstr">Globally force installation of new files, even if content on node has
changed.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.remote-file/set-install-new-files">set-install-new-files</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (set-install-new-files flag)
</pre>
  <pre id="var-docstr">Set boolean flag to control installation of new files</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.remote-file/transfer-file">transfer-file</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (transfer-file request local-path remote-path)
</pre>
  <pre id="var-docstr">Function to transfer a local file.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.remote-file/version-options">version-options</h2>
  <span id="var-type">var</span><br />
  <pre id="var-usage"></pre>
  <pre id="var-docstr">A vector of options for controlling versions. Can be used for option
forwarding when calling remote-file from other crates.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.remote-file/with-remote-file">with-remote-file</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (with-remote-file request f path &amp; args)
</pre>
  <pre id="var-docstr">Function to call f with a local copy of the requested remote path.
f should be a function taking [request local-path &amp; _], where local-path will
be a File with a copy of the remote file (which will be unlinked after
calling f.</pre>
  
</div>
<h2 id="namespace-name">pallet.resource.resource-when</h2>
<pre id="namespace-docstr">Conditional resource execution.</pre>
<br />

<h2 id="namespace-name">pallet.resource.rsync</h2>
<pre id="namespace-docstr"></pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.rsync/rsync-directory">rsync-directory</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (rsync-directory request from to &amp; {:keys [owner group mode port], :as options})
</pre>
  <pre id="var-docstr">Rsync from a local directory to a remote directory.</pre>
  
</div>
<h2 id="namespace-name">pallet.resource.service</h2>
<pre id="namespace-docstr">Service control.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.service/init-script">init-script</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (init-script request name &amp; {:keys [action url local-file remote-file link content literal template values md5 md5-url force], :or {action :create}, :as options})
</pre>
  <pre id="var-docstr">Install an init script.  Sources as for remote-file.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.service/service">service</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (service request service-name &amp; {:keys [action if-flag], :or {action :start}, :as options})
</pre>
  <pre id="var-docstr">Control serives.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.service/service*">service*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (service* request service-name &amp; {:keys [action if-flag], :or {action :start}, :as options})
</pre>
  <pre id="var-docstr">Control serives.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.service/with-restart">with-restart</h2>
  <span id="var-type">macro</span><br />
  <pre id="var-usage">Usage: (with-restart request service-name &amp; body)
</pre>
  <pre id="var-docstr">Stop the given service, execute the body, and then restart.</pre>
  
</div>
<h2 id="namespace-name">pallet.resource.user</h2>
<pre id="namespace-docstr">User management resource.</pre>
<br />
<div id="var-entry">
  <hr />
  <h2 id="pallet.resource.user/group">group</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (group request groupname &amp; {:keys [action system gid password], :or {action :manage}, :as options})
</pre>
  <pre id="var-docstr">User Group Management.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.user/group*">group*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (group* request groupname &amp; {:keys [action system gid password], :or {action :manage}, :as options})
</pre>
  <pre id="var-docstr">User Group Management.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.user/user">user</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (user request username &amp; {:keys [action shell base-dir home system create-home password shell comment groups remove force], :or {action :manage}, :as options})
</pre>
  <pre id="var-docstr">User management.</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.user/user*">user*</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (user* request username &amp; {:keys [action shell base-dir home system create-home password shell comment groups remove force], :or {action :manage}, :as options})
</pre>
  <pre id="var-docstr">Require a user</pre>
  
</div><div id="var-entry">
  <hr />
  <h2 id="pallet.resource.user/user-combiner">user-combiner</h2>
  <span id="var-type">function</span><br />
  <pre id="var-usage">Usage: (user-combiner request user-args)
</pre>
  <pre id="var-docstr">User management.</pre>
  
</div>


</div>
              </div>
            </div>
          </div>
	</div>
	<div id="foot">
	  <div style="text-align: center;" id="copyright">Copyright (c) 2010 Hugo Duncan</div>
	</div>
      </div>
      <div id="DesignedBy">Logo &amp; site design by <a title="Visit Tom Hickey's website." href="http://www.tomhickey.com">Tom Hickey</a>.<br />
      Clojure auto-documentation system by Tom Faulhaber.</div>
    </div>
    <!-- /AllContentContainer -->
  </body>

</html>