<!doctype html>
<html lang="en">
  
  
<head>
  <meta charset="utf-8" />
  <title>FAQ - PalletOps</title>
    <link rel="stylesheet" href="http://67516654d2ef99c3042d-b9d92f522aee852c07f26ce9d1459c9c.r8.cf1.rackcdn.com/20140624-01/css/bootstrap.min.css">
  <link rel="stylesheet" href="http://67516654d2ef99c3042d-b9d92f522aee852c07f26ce9d1459c9c.r8.cf1.rackcdn.com/20140624-01/css/pallet.css">
  <link rel="stylesheet" href="http://67516654d2ef99c3042d-b9d92f522aee852c07f26ce9d1459c9c.r8.cf1.rackcdn.com/20140624-01/css/social-buttons-3.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="http://67516654d2ef99c3042d-b9d92f522aee852c07f26ce9d1459c9c.r8.cf1.rackcdn.com/20140624-01/css/css.css">
  <link rel="stylesheet" href="http://67516654d2ef99c3042d-b9d92f522aee852c07f26ce9d1459c9c.r8.cf1.rackcdn.com/20140624-01/css/highlight.css">

  
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="alternate" type="application/rss+xml" title="RSS"
        href="atom.xml">
  
  
    
      <meta name="description" content="Pallet is a platform for agile and programmatic automation of infrastructure in the cloud, on server racks or directly on virtual machines." />
    
  
</head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#topbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">PalletOps</a>
    </div> <!-- /.navbar-header -->
    <div class="collapse navbar-collapse" id="topbar-collapse">
      <ul class="nav navbar-nav">
	            
              
            
              
            
              
                
                
                
                   
                
                  <li class="active " >
                  <a href="/pallet/doc">
                    Documentation
                    </a>
                </li>
              
            
              
            
              
                
                
                
                  <li class=" " >
                  <a href="/blog">
                    Blog
                    </a>
                </li>
              
            
              
                
                
                
                  <li class=" " >
                  <a href="/services">
                    Services
                    </a>
                </li>
              
            
              
                
                
                
                  <li class=" hidden-sm hidden-xm" >
                  <a href="/support">
                    Support
                    </a>
                </li>
              
            
              
                
                
                
                  <li class=" hidden-sm hidden-xm" >
                  <a href="/contact">
                    Contact
                    </a>
                </li>
              
            
              
                
                
                
                  <li class=" hidden-sm hidden-xs" >
                  <a href="https://github.com/pallet/pallet">
                    Code
                    </a>
                </li>
              
            
              
            
              
            

      </ul>
      <form class="navbar-form navbar-right" role="search"
        method="get" action="http://www.google.com/search">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Search"
		 name="q" maxlength="255">
	  <input name="sitesearch" type="hidden" value="palletops.com">
        </div> <!-- /.form-group -->
      </form> 
    </div> <!-- /#topbar-collapse -->
  </div> <!-- /.container -->
</nav>

    <div class="post">
      <div class="container">
        <div class="row">
          <div class="col-md-9 content">
            <div class="page-header">
              <h1 class="title"> FAQ </h1>
            </div>
            
            
            <ul>
              <li><a href="#1"> FAQ Using AWS with the jclouds provider </a></li>
            </ul>
            
            
            
            <h2><a name="1"/>
              <a href="/pallet/doc/faq/jclouds-aws/">
                FAQ Using AWS with the jclouds provider</a></h2>
            <h1>How do I run a node on an availability zone or region outside of us-east-1?</h1>

<p>To run a node outside of us-east-1, you will need to specify a <code>:location-id</code> in
your node-spec. You will also need to ensure that your AMI is available in the
specified location.</p>
<div class="highlight"><pre><code class="language-clojure" data-lang="clojure"><span class="ss">:image</span> <span class="p">{</span><span class="ss">:image-id</span> <span class="s">&quot;us-east-1/ami-1aad5273&quot;</span><span class="p">}</span>
<span class="ss">:location</span> <span class="p">{</span><span class="ss">:location-id</span> <span class="s">&quot;us-east-1a&quot;</span><span class="p">}</span>
</code></pre></div>
<h1>How do I run a node in a VPC?</h1>

<p>To run a node inside a VPC, you will need to specify a <code>:subnet-id</code> in
your node-spec.</p>
<div class="highlight"><pre><code class="language-clojure" data-lang="clojure"><span class="ss">:location</span> <span class="p">{</span><span class="ss">:subnet-id</span> <span class="s">&quot;subxxxx&quot;</span><span class="p">}</span>
</code></pre></div>
<h1>Why does it take 20mins to list images?</h1>

<p>When jclouds starts, it requests a list of images from the provider. On AWS,
this list is very long.  If you have DEBUG level logging to the console for
jclouds.wire, then this takes a very long time. The solutions is to set the log
level for jclouds.wire to INFO or WARN.</p>

<h1>How can I make jclouds see my AMIs?</h1>

<p>Since AWS has a very long list of images, jclouds filters the image lists by
owner in order to improve performance. You can add your owner id to the list of
owners it uses, by specifying it in your service configuration in
<code>~/.pallet/config.clj</code> or <code>~/.pallet/services/*</code>, or when calling
<code>pallet.compute/compute-service</code>.</p>
<div class="highlight"><pre><code class="language-clojure" data-lang="clojure"><span class="ss">:jclouds.ec2.ami-query</span> <span class="s">&quot;owner-id=137112412989&quot;</span>
</code></pre></div>
<h1>How do I run my node in previously existing security groups?</h1>
<div class="highlight"><pre><code class="language-clojure" data-lang="clojure"><span class="ss">:network</span> <span class="p">{</span><span class="ss">:security-groups</span> <span class="p">[</span><span class="s">&quot;my-security-group&quot;</span><span class="p">]}</span>
</code></pre></div>
<h1>How do I turn on Cloudwatch Monitoring when creating a node?</h1>
<div class="highlight"><pre><code class="language-clojure" data-lang="clojure"><span class="ss">:qos</span> <span class="p">{</span><span class="ss">:enable-monitoring</span> <span class="nv">true</span><span class="p">}</span>
</code></pre></div>
<p>See also
<a href="http://www.jclouds.org/documentation/userguide/using-ec2/">Image Filters</a>.</p>

<h1>How can I tell jclouds which credentials to use on bootstrap?</h1>

<p>Normally jclouds can find the login credentials based on the information
provided in the AMI image.  For less frequently used images, it sometimes fails
to determine the image&#39;s login credentials, and you have to supply the relevant
information in the template.</p>
<div class="highlight"><pre><code class="language-clojure" data-lang="clojure"><span class="p">(</span><span class="nf">node-spec</span> <span class="nv">....</span> <span class="ss">:image</span> <span class="p">{</span><span class="nv">...</span> <span class="ss">:override-login-user</span> <span class="s">&quot;ubuntu&quot;</span><span class="p">})</span>
</code></pre></div>
<p>Simple options here are <code>:override-login-user</code>, <code>:override-login-password</code>,
<code>:override-login-private-key</code>, and <code>:override-authenticate-sudo</code>.</p>

<p>Alternatively, you can pass a <code>org.jclouds.domain.LoginCredentials</code> object with
<code>:override-login-credentials</code> to set all of the above at once.  See
<code>org.jclouds.domain.LoginCredentials/builder</code> to construct an instance.</p>

<h1>How can I mount EBS volumes?</h1>

<p>EBS volumes can be mounted using the <code>:block-device-mappings</code> argument in your
<code>node-spec</code> under the <code>:hardware</code> key.  The argument is a sequence of jcloud&#39;s
BlockDeviceMapping objects.  At the moment, there is no clojure wrapper for
creating these, but you can use the following jcloud&#39;s constructors, which are
static classes nested in <code>org.jclouds.ec2.domain.BlockDeviceMapping</code>:</p>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="k">new</span> <span class="nf">MapEBSSnapshotToDevice</span><span class="o">(</span><span class="n">deviceName</span><span class="o">,</span> <span class="n">snapshotId</span><span class="o">,</span> <span class="n">sizeInGib</span><span class="o">,</span>
                           <span class="n">deleteOnTermination</span><span class="o">)</span>
<span class="k">new</span> <span class="nf">MapNewVolumeToDevice</span><span class="o">(</span><span class="n">deviceName</span><span class="o">,</span> <span class="n">sizeInGib</span><span class="o">,</span> <span class="n">deleteOnTermination</span><span class="o">)</span>
<span class="k">new</span> <span class="nf">MapEphemeralDeviceToDevice</span><span class="o">(</span><span class="n">deviceName</span><span class="o">,</span> <span class="n">virtualName</span><span class="o">)</span>
<span class="k">new</span> <span class="nf">UnmapDeviceNamed</span><span class="o">(</span><span class="n">deviceName</span><span class="o">)</span>
</code></pre></div>
<h1>See also</h1>

<ul>
<li><a href="http://www.jclouds.org/documentation/userguide/using-ec2/">jclouds EC2 User Guide</a></li>
<li><a href="http://www.jclouds.org/documentation/faqs/ec2-faq/">jclouds EC2 FAQ</a></li>
</ul>

            
            
          </div>
          <div class="col-md-3 col-xs-12 sidebar">
            

<h3>Connect with us:</h3>
<div class="pull-center">
<a href="https://twitter.com/intent/user?screen_name=PalletOps" target="_blank">
  <button class="btn btn-sm btn-twitter"><i class="fa fa-twitter">
    </i> | Connect with Twitter</button><br>
</a>
</div>

<!-- Begin MailChimp Signup Form -->
<div id="mc_embed_signup">
<form action="http://palletops.us8.list-manage.com/subscribe/post?u=2e50ddbe95bbf8b6396a32ac6&amp;id=37bb0298a7"
      method="post" id="mc-embedded-subscribe-form"
      name="mc-embedded-subscribe-form" class="validate"
      target="_blank" novalidate>
  <div class="form-group">
    <label for="mce-EMAIL">Subscribe to our mailing list:</label>
    <input type="email" value="" name="EMAIL" class="form-control required email" id="mce-EMAIL"
	   placeholder="your@email.com">
  </div> <!-- /.form-group -->
  <div id="mce-responses">
    <div class="response" id="mce-error-response" style="display:none"></div>
    <div class="response" id="mce-success-response" style="display:none"></div>
  </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
  <div style="position: absolute; left: -5000px;">
    <input  type="text" name="b_2e50ddbe95bbf8b6396a32ac6_37bb0298a7" tabindex="-1" value=""></div>
  <div><input type="submit" value="Subscribe" name="subscribe" 
	      id="mc-embedded-subscribe" class="btn btn-sm btn-default"></div> 
</form>
</div>

<!--End mc_embed_signup-->


          </div>
        </div> <!-- row -->
      </div> <!-- container -->   
      <footer class="footer">
  <div class="container">
    

    <div class="row">
      <div class="col-md-5">
        <h4>About</h4>
            <p>Pallet is an open source DevOps library for the JVM,
            built on Clojure, with native support for clusters, node
              dependencies and agile development.</p>
            <p></p>
        <p>Infrastructure generously provided by:</p>
        <p>
          <a href="http://rackspace.com">
            <img src="http://67516654d2ef99c3042d-b9d92f522aee852c07f26ce9d1459c9c.r8.cf1.rackcdn.com/20140624-01/images/rackspace-logo.png" alt="Rackspace Logo"></img>
            </a></p>
      </div>
      <div class="col-md-3  col-xs-6 col-md-offset-1">
        <h4>Site Map</h4>
        <ul>
                      
              
            
              
            
              
                
                
                
                   
                
                  <li class="active " >
                  <a href="/pallet/doc">
                    Documentation
                    </a>
                </li>
              
            
              
            
              
                
                
                
                  <li class=" " >
                  <a href="/blog">
                    Blog
                    </a>
                </li>
              
            
              
                
                
                
                  <li class=" " >
                  <a href="/services">
                    Services
                    </a>
                </li>
              
            
              
                
                
                
                  <li class=" hidden-sm hidden-xm" >
                  <a href="/support">
                    Support
                    </a>
                </li>
              
            
              
                
                
                
                  <li class=" hidden-sm hidden-xm" >
                  <a href="/contact">
                    Contact
                    </a>
                </li>
              
            
              
                
                
                
                  <li class=" hidden-sm hidden-xs" >
                  <a href="https://github.com/pallet/pallet">
                    Code
                    </a>
                </li>
              
            
              
            
              
            

          </ul>
      </div>
      <div class="col-md-3 col-xs-6">
        <h4>Contact</h4>
        <ul>
        <li><a href="/contact">Contact Form</a></li>
        <li><a href="/support">Get Support</a></li>
        <li><a href="mailto:contact@palletops.com">email</a></li>
	<li><a href="https://twitter.com/intent/user?screen_name=PalletOps" target="_blank"><i class="fa fa-twitter"></i>twitter</a></li>
        </ul>
      </div>
    </div> <!-- row -->
    <div class="row footer-footer">
      <div class="col-sm-6">
	<p>
	  Copyright &copy; 2014 Hugo Duncan and Antoni Batchelli
	</p>
      </div>
      <div class="col-sm-6">
	<div class="pull-right">
	  <p class="text-muted">
	    <small>Built with <a target="_blank" href="http://jekyllrb.com">Jekyll</a> and
	    <a target="_blank" href="http://getbootstrap.com">Bootstrap</a> on
	    Tue, 24 Jun 2014 21:18:49 +0000</small></p>
	</div>
      </div>
    </div> <!-- /.row -->
  </div>
</footer>

<!-- Latest compiled and minified JavaScript -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19685457-1', 'palletops.com');
  ga('send', 'pageview');

</script>

<script type="text/javascript">
         var disqus_shortname = 'palletops'; // required: replace example with your forum shortname
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
</script>

<!-- begin olark code -->
<script data-cfasync="false" type='text/javascript'>/*<![CDATA[*/window.olark||(function(c){var f=window,d=document,l=f.location.protocol=="https:"?"https:":"http:",z=c.name,r="load";var nt=function(){
f[z]=function(){
(a.s=a.s||[]).push(arguments)};var a=f[z]._={
},q=c.methods.length;while(q--){(function(n){f[z][n]=function(){
f[z]("call",n,arguments)}})(c.methods[q])}a.l=c.loader;a.i=nt;a.p={
0:+new Date};a.P=function(u){
a.p[u]=new Date-a.p[0]};function s(){
a.P(r);f[z](r)}f.addEventListener?f.addEventListener(r,s,false):f.attachEvent("on"+r,s);var ld=function(){function p(hd){
hd="head";return["<",hd,"></",hd,"><",i,' onl' + 'oad="var d=',g,";d.getElementsByTagName('head')[0].",j,"(d.",h,"('script')).",k,"='",l,"//",a.l,"'",'"',"></",i,">"].join("")}var i="body",m=d[i];if(!m){
return setTimeout(ld,100)}a.P(1);var j="appendChild",h="createElement",k="src",n=d[h]("div"),v=n[j](d[h](z)),b=d[h]("iframe"),g="document",e="domain",o;n.style.display="none";m.insertBefore(n,m.firstChild).id=z;b.frameBorder="0";b.id=z+"-loader";if(/MSIE[ ]+6/.test(navigator.userAgent)){
b.src="javascript:false"}b.allowTransparency="true";v[j](b);try{
b.contentWindow[g].open()}catch(w){
c[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";b[k]=o+"void(0);"}try{
var t=b.contentWindow[g];t.write(p());t.close()}catch(x){
b[k]=o+'d.write("'+p().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}a.P(2)};ld()};nt()})({
loader: "static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]});
/* custom configuration goes here (www.olark.com/documentation) */
olark.identify('9249-736-10-9825');/*]]>*/</script><noscript><a href="https://www.olark.com/site/9249-736-10-9825/contact" title="Contact us" target="_blank">Questions? Feedback?</a> powered by <a href="http://www.olark.com?welcome" title="Olark live chat software">Olark live chat software</a></noscript>
<!-- end olark code -->



  </body>
</html>
