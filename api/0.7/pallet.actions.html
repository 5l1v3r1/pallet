<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>pallet.actions documentation</title></head><body><div id="header"><h1><a href="index.html">Pallet 0.7.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3>Namespaces</h3><ul><li><a href="pallet.action.html">pallet.action</a></li><li><a href="pallet.action-impl.html">pallet.action-impl</a></li><li><a href="pallet.action-plan.html">pallet.action-plan</a></li><li class="current"><a href="pallet.actions.html">pallet.actions</a></li><li><a href="pallet.actions.direct.html">pallet.actions.direct</a></li><li><a href="pallet.actions.direct.conditional.html">pallet.actions.direct.conditional</a></li><li><a href="pallet.actions.direct.directory.html">pallet.actions.direct.directory</a></li><li><a href="pallet.actions.direct.exec-script.html">pallet.actions.direct.exec-script</a></li><li><a href="pallet.actions.direct.file.html">pallet.actions.direct.file</a></li><li><a href="pallet.actions.direct.package.html">pallet.actions.direct.package</a></li><li><a href="pallet.actions.direct.remote-directory.html">pallet.actions.direct.remote-directory</a></li><li><a href="pallet.actions.direct.remote-file.html">pallet.actions.direct.remote-file</a></li><li><a href="pallet.actions.direct.retry.html">pallet.actions.direct.retry</a></li><li><a href="pallet.actions.direct.rsync.html">pallet.actions.direct.rsync</a></li><li><a href="pallet.actions.direct.service.html">pallet.actions.direct.service</a></li><li><a href="pallet.actions.direct.user.html">pallet.actions.direct.user</a></li><li><a href="pallet.actions-impl.html">pallet.actions-impl</a></li><li><a href="pallet.argument.html">pallet.argument</a></li><li><a href="pallet.blobstore.html">pallet.blobstore</a></li><li><a href="pallet.blobstore.implementation.html">pallet.blobstore.implementation</a></li><li><a href="pallet.blobstore.jclouds.html">pallet.blobstore.jclouds</a></li><li><a href="pallet.blobstore.url-blobstore.html">pallet.blobstore.url-blobstore</a></li><li><a href="pallet.cache.html">pallet.cache</a></li><li><a href="pallet.cache.impl.html">pallet.cache.impl</a></li><li><a href="pallet.command-line.html">pallet.command-line</a></li><li><a href="pallet.component.html">pallet.component</a></li><li><a href="pallet.compute.html">pallet.compute</a></li><li><a href="pallet.compute.hybrid.html">pallet.compute.hybrid</a></li><li><a href="pallet.compute.implementation.html">pallet.compute.implementation</a></li><li><a href="pallet.compute.jclouds.html">pallet.compute.jclouds</a></li><li><a href="pallet.compute.jvm.html">pallet.compute.jvm</a></li><li><a href="pallet.compute.mccloud.html">pallet.compute.mccloud</a></li><li><a href="pallet.compute.node-list.html">pallet.compute.node-list</a></li><li><a href="pallet.compute.vmfest.html">pallet.compute.vmfest</a></li><li><a href="pallet.config-file.format.html">pallet.config-file.format</a></li><li><a href="pallet.configure.html">pallet.configure</a></li><li><a href="pallet.context.html">pallet.context</a></li><li><a href="pallet.core.html">pallet.core</a></li><li><a href="pallet.crate.automated-admin-user.html">pallet.crate.automated-admin-user</a></li><li><a href="pallet.crate.crontab.html">pallet.crate.crontab</a></li><li><a href="pallet.crate.environment.html">pallet.crate.environment</a></li><li><a href="pallet.crate.etc-default.html">pallet.crate.etc-default</a></li><li><a href="pallet.crate.etc-hosts.html">pallet.crate.etc-hosts</a></li><li><a href="pallet.crate.filesystem.html">pallet.crate.filesystem</a></li><li><a href="pallet.crate.network-service.html">pallet.crate.network-service</a></li><li><a href="pallet.crate.package.centos.html">pallet.crate.package.centos</a></li><li><a href="pallet.crate.package.debian-backports.html">pallet.crate.package.debian-backports</a></li><li><a href="pallet.crate.package.epel.html">pallet.crate.package.epel</a></li><li><a href="pallet.crate.package.jpackage.html">pallet.crate.package.jpackage</a></li><li><a href="pallet.crate.package.rpmforge.html">pallet.crate.package.rpmforge</a></li><li><a href="pallet.crate.ssh-key.html">pallet.crate.ssh-key</a></li><li><a href="pallet.crate.sudoers.html">pallet.crate.sudoers</a></li><li><a href="pallet.debug.html">pallet.debug</a></li><li><a href="pallet.echo.execute.html">pallet.echo.execute</a></li><li><a href="pallet.enlive.html">pallet.enlive</a></li><li><a href="pallet.environment.html">pallet.environment</a></li><li><a href="pallet.event.html">pallet.event</a></li><li><a href="pallet.execute.html">pallet.execute</a></li><li><a href="pallet.executors.html">pallet.executors</a></li><li><a href="pallet.futures.html">pallet.futures</a></li><li><a href="pallet.local.execute.html">pallet.local.execute</a></li><li><a href="pallet.main.html">pallet.main</a></li><li><a href="pallet.main-invoker.html">pallet.main-invoker</a></li><li><a href="pallet.map-merge.html">pallet.map-merge</a></li><li><a href="pallet.maven.html">pallet.maven</a></li><li><a href="pallet.md5crypt.html">pallet.md5crypt</a></li><li><a href="pallet.monad.html">pallet.monad</a></li><li><a href="pallet.monad.state-accessors.html">pallet.monad.state-accessors</a></li><li><a href="pallet.node.html">pallet.node</a></li><li><a href="pallet.node-value.html">pallet.node-value</a></li><li><a href="pallet.parameter.html">pallet.parameter</a></li><li><a href="pallet.phase.html">pallet.phase</a></li><li><a href="pallet.plugin.html">pallet.plugin</a></li><li><a href="pallet.repl.html">pallet.repl</a></li><li><a href="pallet.request-map.html">pallet.request-map</a></li><li><a href="pallet.script.lib.html">pallet.script.lib</a></li><li><a href="pallet.script-builder.html">pallet.script-builder</a></li><li><a href="pallet.script-exec.html">pallet.script-exec</a></li><li><a href="pallet.session.html">pallet.session</a></li><li><a href="pallet.session-verify.html">pallet.session-verify</a></li><li><a href="pallet.shell.html">pallet.shell</a></li><li><a href="pallet.ssh.execute.html">pallet.ssh.execute</a></li><li><a href="pallet.strint.html">pallet.strint</a></li><li><a href="pallet.target.html">pallet.target</a></li><li><a href="pallet.task.add-service.html">pallet.task.add-service</a></li><li><a href="pallet.task.containers.html">pallet.task.containers</a></li><li><a href="pallet.task.converge.html">pallet.task.converge</a></li><li><a href="pallet.task.converge-cluster.html">pallet.task.converge-cluster</a></li><li><a href="pallet.task.describe-node.html">pallet.task.describe-node</a></li><li><a href="pallet.task.destroy-cluster.html">pallet.task.destroy-cluster</a></li><li><a href="pallet.task.help.html">pallet.task.help</a></li><li><a href="pallet.task.images.html">pallet.task.images</a></li><li><a href="pallet.task.lift.html">pallet.task.lift</a></li><li><a href="pallet.task.new-project.html">pallet.task.new-project</a></li><li><a href="pallet.task.nodes.html">pallet.task.nodes</a></li><li><a href="pallet.task.providers.html">pallet.task.providers</a></li><li><a href="pallet.task.to-blob.html">pallet.task.to-blob</a></li><li><a href="pallet.task.version.html">pallet.task.version</a></li><li><a href="pallet.task.vmfest-script.html">pallet.task.vmfest-script</a></li><li><a href="pallet.template.html">pallet.template</a></li><li><a href="pallet.template.properties.html">pallet.template.properties</a></li><li><a href="pallet.utils.html">pallet.utils</a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="pallet.actions.html#var-add-rpm">add-rpm</a></li><li><a href="pallet.actions.html#var-all-options">all-options</a></li><li><a href="pallet.actions.html#var-content-options">content-options</a></li><li><a href="pallet.actions.html#var-delete-local-path">delete-local-path</a></li><li><a href="pallet.actions.html#var-directories">directories</a></li><li><a href="pallet.actions.html#var-directory">directory</a></li><li><a href="pallet.actions.html#var-exec-checked-script">exec-checked-script</a></li><li><a href="pallet.actions.html#var-exec-script">exec-script</a></li><li><a href="pallet.actions.html#var-exec-script*">exec-script*</a></li><li><a href="pallet.actions.html#var-fifo">fifo</a></li><li><a href="pallet.actions.html#var-file">file</a></li><li><a href="pallet.actions.html#var-group">group</a></li><li><a href="pallet.actions.html#var-init-script">init-script</a></li><li><a href="pallet.actions.html#var-minimal-packages">minimal-packages</a></li><li><a href="pallet.actions.html#var-ownership-options">ownership-options</a></li><li><a href="pallet.actions.html#var-package">package</a></li><li><a href="pallet.actions.html#var-package-manager">package-manager</a></li><li><a href="pallet.actions.html#var-package-source">package-source</a></li><li><a href="pallet.actions.html#var-packages">packages</a></li><li><a href="pallet.actions.html#var-pipeline-when">pipeline-when</a></li><li><a href="pallet.actions.html#var-pipeline-when-not">pipeline-when-not</a></li><li><a href="pallet.actions.html#var-remote-directory">remote-directory</a></li><li><a href="pallet.actions.html#var-remote-file">remote-file</a></li><li><a href="pallet.actions.html#var-remote-file-content">remote-file-content</a></li><li><a href="pallet.actions.html#var-retry-until">retry-until</a></li><li><a href="pallet.actions.html#var-rsync">rsync</a></li><li><a href="pallet.actions.html#var-rsync-directory">rsync-directory</a></li><li><a href="pallet.actions.html#var-sed">sed</a></li><li><a href="pallet.actions.html#var-service">service</a></li><li><a href="pallet.actions.html#var-set-force-overwrite">set-force-overwrite</a></li><li><a href="pallet.actions.html#var-set-install-new-files">set-install-new-files</a></li><li><a href="pallet.actions.html#var-symbolic-link">symbolic-link</a></li><li><a href="pallet.actions.html#var-transfer-file">transfer-file</a></li><li><a href="pallet.actions.html#var-transfer-file-to-local">transfer-file-to-local</a></li><li><a href="pallet.actions.html#var-user">user</a></li><li><a href="pallet.actions.html#var-version-options">version-options</a></li><li><a href="pallet.actions.html#var-with-remote-file">with-remote-file</a></li><li><a href="pallet.actions.html#var-with-service-restart">with-service-restart</a></li></ul></div><div class="namespace-docs" id="content"><h2>pallet.actions documentation</h2><pre class="doc">Pallet's action primitives.
</pre><div class="public" id="var-add-rpm"><h3>add-rpm</h3><div class="usage"><code>(add-rpm rpm-name &amp; {:as options})</code></div><pre class="doc">Add an rpm.  Source options are as for remote file.
</pre></div><div class="public" id="var-all-options"><h3>all-options</h3><div class="usage"></div><pre class="doc">A vector of the options accepted by remote-file.  Can be used for
option forwarding when calling remote-file from other crates.</pre></div><div class="public" id="var-content-options"><h3>content-options</h3><div class="usage"></div><pre class="doc">A vector of the options accepted by remote-file.  Can be used for
option forwarding when calling remote-file from other crates.</pre></div><div class="public" id="var-delete-local-path"><h3>delete-local-path</h3><div class="usage"><code>(delete-local-path local-path)</code></div><pre class="doc">Function to delete a local path.
</pre></div><div class="public" id="var-directories"><h3>directories</h3><div class="usage"><code>(directories paths &amp; options)</code></div><pre class="doc">Directory management of multiple directories with the same
owner/group/permissions.

`options` are as for `directory` and are applied to each directory in
`paths`</pre></div><div class="public" id="var-directory"><h3>directory</h3><div class="usage"><code>(directory dir-path &amp; {:keys [action recursive force path mode verbose owner group], :or {action :create, recursive true, force true, path true}})</code></div><pre class="doc">Directory management.

For :create and :touch, all components of path are effected.

Options are:
 - :action     One of :create, :touch, :delete
 - :recursive  Flag for recursive delete
 - :force      Flag for forced delete
 - :path       flag to create all path elements
 - :owner      set owner
 - :group      set group
 - :mode       set mode</pre></div><div class="public" id="var-exec-checked-script"><h3>exec-checked-script</h3><div class="usage"><code>(exec-checked-script script-name &amp; script)</code></div><pre class="doc">Execute a bash script remotely, throwing if any element of the
script fails. The script is expressed in stevedore.</pre></div><div class="public" id="var-exec-script"><h3>exec-script</h3><div class="usage"><code>(exec-script &amp; script)</code></div><pre class="doc">Execute a bash script remotely. The script is expressed in stevedore.
</pre></div><div class="public" id="var-exec-script*"><h3>exec-script*</h3><div class="usage"><code>(exec-script* script)</code></div><pre class="doc">Execute script on the target node. The script is a plain string.
</pre></div><div class="public" id="var-fifo"><h3>fifo</h3><div class="usage"><code>(fifo path &amp; {:keys [action owner group mode force], :or {action :create}})</code></div><pre class="doc">FIFO pipe management.

- :action    one of :create, :delete
- :owner     user name or id for owner of fifo
- :group     user name or id for group of fifo
- :mode      fifo permissions
- :force     when deleting, try and force removal</pre></div><div class="public" id="var-file"><h3>file</h3><div class="usage"><code>(file path &amp; {:keys [action owner group mode force], :or {action :create, force true}})</code></div><pre class="doc">Touch or remove a file. Can also set owner and permissions.

- :action    one of :create, :delete, :touch
- :owner     user name or id for owner of file
- :group     user name or id for group of file
- :mode      file permissions
- :force     when deleting, try and force removal</pre></div><div class="public" id="var-group"><h3>group</h3><div class="usage"><code>(group groupname &amp; {:keys [action system gid password], :or {action :manage}, :as options})</code></div><pre class="doc">User Group Management.
</pre></div><div class="public" id="var-init-script"><h3>init-script</h3><div class="usage"><code>(init-script service-name &amp; {:keys [action url local-file remote-file link content literal template values md5 md5-url force], :or {action :create}, :as options})</code></div><pre class="doc">Install an init script.  Sources as for remote-file.
</pre></div><div class="public" id="var-minimal-packages"><h3>minimal-packages</h3><div class="usage"><code>(minimal-packages)</code></div><pre class="doc">Add minimal packages for pallet to function
</pre></div><div class="public" id="var-ownership-options"><h3>ownership-options</h3><div class="usage"></div><pre class="doc">A vector of options for controlling ownership. Can be used for option
forwarding when calling remote-file from other crates.</pre></div><div class="public" id="var-package"><h3>package</h3><div class="usage"><code>(package package-name &amp; {:keys [action y force purge enable disable priority], :or {action :install, y true, priority 50}})</code></div><pre class="doc">Install or remove a package.

Options
 - :action [:install | :remove | :upgrade]
 - :purge [true|false]         when removing, whether to remove all config
 - :enable [repo|(seq repo)]   enable specific repository
 - :disable [repo|(seq repo)]  disable specific repository
 - :priority n                 priority (0-100, default 50)

Package management occurs in one shot, so that the package manager can
maintain a consistent view.</pre></div><div class="public" id="var-package-manager"><h3>package-manager</h3><div class="usage"><code>(package-manager action &amp; options)</code></div><pre class="doc">Package manager controls.

`action` is one of the following:
- :update          - update the list of available packages
- :list-installed  - output a list of the installed packages
- :add-scope       - enable a scope (eg. multiverse, non-free)

To refresh the list of packages known to the pakage manager:
    (package-manager session :update)

To enable multiverse on ubuntu:
    (package-manager session :add-scope :scope :multiverse)

To enable non-free on debian:
    (package-manager session :add-scope :scope :non-free)</pre></div><div class="public" id="var-package-source"><h3>package-source</h3><div class="usage"><code>(package-source name &amp; {:keys [aptitude yum]})</code></div><pre class="doc">Control package sources.
Options are the package manager keywords, each specifying a map of
packager specific options.

:aptitude
  - :source-type string   - source type (deb)
  - :url url              - repository url
  - :scopes seq           - scopes to enable for repository
  - :key-url url          - url for key
  - :key-id id            - id for key to look it up from keyserver

:yum
  - :name                 - repository name
  - :url url          - repository base url
  - :gpgkey url           - gpg key url for repository

Example
    (package-source &quot;Partner&quot;
      :aptitude {:url &quot;http://archive.canonical.com/&quot;
                 :scopes [&quot;partner&quot;]})</pre></div><div class="public" id="var-packages"><h3>packages</h3><div class="usage"><code>(packages &amp; {:keys [yum aptitude pacman brew], :as options})</code></div><pre class="doc">Install a list of packages keyed on packager.
(packages session
  :yum [&quot;git&quot; &quot;git-email&quot;]
  :aptitude [&quot;git-core&quot; &quot;git-email&quot;])</pre></div><div class="public" id="var-pipeline-when"><h3>pipeline-when</h3><div class="usage"><code>(pipeline-when condition &amp; crate-fns-or-actions)</code></div><pre class="doc">Execute the crate-fns-or-actions, only when condition is true.
</pre></div><div class="public" id="var-pipeline-when-not"><h3>pipeline-when-not</h3><div class="usage"><code>(pipeline-when-not condition &amp; crate-fns-or-actions)</code></div><pre class="doc">Execute the crate-fns-or-actions, only when condition is false.
</pre></div><div class="public" id="var-remote-directory"><h3>remote-directory</h3><div class="usage"><code>(remote-directory path &amp; {:keys [action url local-file remote-file unpack tar-options unzip-options jar-options strip-components md5 md5-url owner group recursive force-overwrite local-file-options], :or {action :create, tar-options &quot;xz&quot;, unzip-options &quot;-o&quot;, jar-options &quot;xf&quot;, strip-components 1, recursive true}, :as options})</code></div><pre class="doc">Specify the contents of remote directory.

Options:
 - :url              - a url to download content from
 - :unpack           - how download should be extracts (default :tar)
 - :tar-options      - options to pass to tar (default &quot;xz&quot;)
 - :unzip-options    - options to pass to unzip (default &quot;-o&quot;)
 - :jar-options      - options to pass to unzip (default &quot;xf&quot;)
                       jar does not support stripping path components
 - :strip-components - number of path compnents to remove when unpacking
 - :md5              - md5 of file to unpack
 - :md5-url          - url of md5 file for file to unpack

Ownership options:
 - :owner            - owner of files
 - :group            - group of files
 - :recursive        - flag to recursively set owner and group

To install the content of an url pointing at a tar file, specify the :url
option.
    (remote-directory session path
       :url &quot;http://a.com/path/file.tgz&quot;)

If there is an md5 url with the tar file's md5, you can specify that as well,
to prevent unecessary downloads and verify the content.
    (remote-directory session path
       :url &quot;http://a.com/path/file.tgz&quot;
       :md5-url &quot;http://a.com/path/file.md5&quot;)

To install the content of an url pointing at a zip file, specify the :url
option and :unpack :unzip.
    (remote-directory session path
       :url &quot;http://a.com/path/file.&quot;
       :unpack :unzip)</pre></div><div class="public" id="var-remote-file"><h3>remote-file</h3><div class="usage"><code>(remote-file path &amp; {:keys [action url local-file remote-file link content literal template values md5 md5-url owner group mode force blob blobstore install-new-files overwrite-changes no-versioning max-versions flag-on-changed local-file-options], :as options})</code></div><pre class="doc">Remote file content management.

The `remote-file` action can specify the content of a remote file in a number
different ways.

By default, the remote-file is versioned, and 5 versions are kept.

The remote content is also verified against it's md5 hash.  If the contents
of the remote file have changed (e.g. have been edited on the remote machine)
then by default the file will not be overwritten, and an error will be raised.
To force overwrite, call `set-force-overwrite` before running `converge` or
`lift`.

Options for specifying the file's content are:
  :url url          - download the specified url to the given filepath
  :content string   - use the specified content directly
  :local-file path  - use the file on the local machine at the given path
  :remote-file path - use the file on the remote machine at the given path
  :link             - file to link to
  :literal          - prevent shell expansion on content
  :md5              - md5 for file
  :md5-url          - a url containing file's md5
  :template         - specify a template to be interpolated
  :values           - values for interpolation
  :blob             - map of :container, :path
  :blobstore        - a jclouds blobstore object (override blobstore in session)
  :insecure         - boolean to specify ignoring of SLL certs

Options for version control are:
  :overwrite-changes - flag to force overwriting of locally modified content
  :no-versioning    - do not version the file
  :max-versions     - specfy the number of versions to keep (default 5)
  :flag-on-changed  - flag to set if file is changed

Options for specifying the file's permissions are:
  :owner user-name
  :group group-name
  :mode  file-mode

To copy the content of a local file to a remote file:
    (remote-file session &quot;remote/path&quot; :local-file &quot;local/path&quot;)

To copy the content of one remote file to another remote file:
    (remote-file session &quot;remote/path&quot; :remote-file &quot;remote/source/path&quot;)

To link one remote file to another remote file:
    (remote-file session &quot;remote/path&quot; :link &quot;remote/source/path&quot;)

To download a url to a remote file:
    (remote-file session &quot;remote/path&quot; :url &quot;http://a.com/path&quot;)

If a url to a md5 file is also available, then it can be specified to prevent
unnecessary downloads and to verify the download.
    (remote-file session &quot;remote/path&quot;
      :url &quot;http://a.com/path&quot;
      :md5-url &quot;http://a.com/path.md5&quot;)

If the md5 of the file to download, it can be specified to prevent unnecessary
downloads and to verify the download.
    (remote-file session &quot;remote/path&quot;
      :url &quot;http://a.com/path&quot;
      :md5 &quot;6de9439834c9147569741d3c9c9fc010&quot;)

Content can also be copied from a blobstore.
    (remote-file session &quot;remote/path&quot;
      :blob {:container &quot;container&quot; :path &quot;blob&quot;})</pre></div><div class="public" id="var-remote-file-content"><h3>remote-file-content</h3><div class="usage"><code>(remote-file-content path)</code></div><pre class="doc">Return the content of a file.
</pre></div><div class="public" id="var-retry-until"><h3>retry-until</h3><div class="usage"><code>(retry-until {:keys [max-retries standoff service-name], :or {max-retries 5, standoff 2}} condition)</code></div><pre class="doc">Repeat an action until it succeeds
</pre></div><div class="public" id="var-rsync"><h3>rsync</h3><div class="usage"><code>(rsync local-path remote-path {:keys [port]})</code></div><pre class="doc">Use rsync to copy files from local-path to remote-path
</pre></div><div class="public" id="var-rsync-directory"><h3>rsync-directory</h3><div class="usage"><code>(rsync-directory from to &amp; {:keys [owner group mode port], :as options})</code></div><pre class="doc">Rsync from a local directory to a remote directory.
</pre></div><div class="public" id="var-sed"><h3>sed</h3><div class="usage"><code>(sed path exprs-map &amp; {:keys [separator no-md5 restriction]})</code></div><pre class="doc">Execute sed on the file at path.  Takes a map of expr to replacement.
- :separator     the separator to use in generated sed expressions. This
                 will be inferred if not specified.
- :no-md5        prevent md5 generation for the modified file
- :restriction   restrict the sed expressions to a particular context.</pre></div><div class="public" id="var-service"><h3>service</h3><div class="usage"><code>(service service-name &amp; {:keys [action if-flag if-stopped], :or {action :start}, :as options})</code></div><pre class="doc">Control services.

- :action  accepts either startstop, restart, enable or disable keywords.
- :if-flag  makes start, stop, and restart confitional on the specified flag
            as set, for example, by remote-file :flag-on-changed
- :sequence-start  a sequence of [sequence-number level level ...], where
                   sequence number determines the order in which services
                   are started within a level.</pre></div><div class="public" id="var-set-force-overwrite"><h3>set-force-overwrite</h3><div class="usage"><code>(set-force-overwrite flag)</code></div><pre class="doc">Globally force installation of new files, even if content on node has
changed.</pre></div><div class="public" id="var-set-install-new-files"><h3>set-install-new-files</h3><div class="usage"><code>(set-install-new-files flag)</code></div><pre class="doc">Set boolean flag to control installation of new files
</pre></div><div class="public" id="var-symbolic-link"><h3>symbolic-link</h3><div class="usage"><code>(symbolic-link from name &amp; {:keys [action owner group mode force], :or {action :create, force true}})</code></div><pre class="doc">Symbolic link management.

- :action    one of :create, :delete
- :owner     user name or id for owner of symlink
- :group     user name or id for group of symlink
- :mode      symlink permissions
- :force     when deleting, try and force removal</pre></div><div class="public" id="var-transfer-file"><h3>transfer-file</h3><div class="usage"><code>(transfer-file local-path remote-path)</code></div><pre class="doc">Function to transfer a local file to a remote path.
</pre></div><div class="public" id="var-transfer-file-to-local"><h3>transfer-file-to-local</h3><div class="usage"><code>(transfer-file-to-local remote-path local-path)</code></div><pre class="doc">Function to transfer a remote file to a local path.
</pre></div><div class="public" id="var-user"><h3>user</h3><div class="usage"><code>(user username &amp; {:keys [action shell base-dir home system create-home password shell comment groups remove force append], :or {action :manage}, :as options})</code></div><pre class="doc">User management.
</pre></div><div class="public" id="var-version-options"><h3>version-options</h3><div class="usage"></div><pre class="doc">A vector of options for controlling versions. Can be used for option
forwarding when calling remote-file from other crates.</pre></div><div class="public" id="var-with-remote-file"><h3>with-remote-file</h3><div class="usage"><code>(with-remote-file f path &amp; args)</code></div><pre class="doc">Function to call f with a local copy of the sessioned remote path.
f should be a function taking [session local-path &amp; _], where local-path will
be a File with a copy of the remote file (which will be unlinked after
calling f.</pre></div><div class="public" id="var-with-service-restart"><h3>with-service-restart</h3><div class="usage"><code>(with-service-restart service-name &amp; body)</code></div><pre class="doc">Stop the given service, execute the body, and then restart.
</pre></div></div></body></html>