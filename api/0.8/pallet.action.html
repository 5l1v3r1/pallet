<html lang="en">
  <head>
    <title>pallet.action documentation</title>
    <link href="css/default.css" type="text/css" rel="stylesheet" />
    <link href="css/codox-md.css" type="text/css" rel="stylesheet" />
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/page_effects.js"></script>
  </head>
  <body>
    <header>
    <div data-scrollspy="scrollspy" class="topbar">
      <div class="topbar-inner">
        <div class="container">
          <a href="/" class="brand">Pallet</a>
          <ul class="nav">
            <li class=""><a href="/doc">Documentation</a></li>
            <li class=""><a href="/news">News</a></li>
            <li class=""><a href="/blog">Blog</a></li>
            <li class=""><a href="https://github.com/pallet/pallet">Code</a></li>
            <li class=""><a href="/services">Services</a></li>
            <li class=""><a href="/support">Support</a></li>
            <li class=""><a href="/contact">Contact</a></li>
          </ul>
          <form action="http://www.google.com/search" method="get" class="pull-right">
            <input placeholder="Search" value="" maxlength="255" name="q" type="text" />
            <input value="palletops.com" type="hidden" name="sitesearch" />
          </form>
        </div>
      </div>
    </div>
      <div id="header">
        <h1><a href="http://palletops.com"><span class="project-title">Pallet 0.8.0-RC.2 API documentation</span></a></h1>
      </div>
    </header>
    <navigation>
      <div id="namespaces" class="sidebar">
        <h3>Namespaces</h3>
        <ul class="ns-links">
          <li class="ns-list"><a class="ns-link ns-name" href="cfg.current.html">cfg.current</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.action.html">pallet.action</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.action-impl.html">pallet.action-impl</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.action-plan.html">pallet.action-plan</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.html">pallet.actions</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.direct.html">pallet.actions.direct</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.direct.conditional.html">pallet.actions.direct.conditional</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.direct.directory.html">pallet.actions.direct.directory</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.direct.exec-script.html">pallet.actions.direct.exec-script</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.direct.file.html">pallet.actions.direct.file</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.direct.package.html">pallet.actions.direct.package</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.direct.remote-directory.html">pallet.actions.direct.remote-directory</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.direct.remote-file.html">pallet.actions.direct.remote-file</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.direct.retry.html">pallet.actions.direct.retry</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.direct.rsync.html">pallet.actions.direct.rsync</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.direct.service.html">pallet.actions.direct.service</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.direct.settings.html">pallet.actions.direct.settings</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.direct.user.html">pallet.actions.direct.user</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions-impl.html">pallet.actions-impl</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.api.html">pallet.api</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.argument.html">pallet.argument</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.blobstore.html">pallet.blobstore</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.blobstore.implementation.html">pallet.blobstore.implementation</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.blobstore.url-blobstore.html">pallet.blobstore.url-blobstore</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.command-line.html">pallet.command-line</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.compute.html">pallet.compute</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.compute.hybrid.html">pallet.compute.hybrid</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.compute.implementation.html">pallet.compute.implementation</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.compute.jvm.html">pallet.compute.jvm</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.compute.localhost.html">pallet.compute.localhost</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.compute.node-list.html">pallet.compute.node-list</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.config-file.format.html">pallet.config-file.format</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.configure.html">pallet.configure</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.context.html">pallet.context</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.contracts.html">pallet.contracts</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.core.html">pallet.core</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.core.api.html">pallet.core.api</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.core.api-impl.html">pallet.core.api-impl</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.core.data-api.html">pallet.core.data-api</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.core.operations.html">pallet.core.operations</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.core.plan-state.html">pallet.core.plan-state</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.core.primitives.html">pallet.core.primitives</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.core.session.html">pallet.core.session</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.core.thread-local.html">pallet.core.thread-local</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.core.user.html">pallet.core.user</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.core.version-dispatch.html">pallet.core.version-dispatch</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.html">pallet.crate</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.automated-admin-user.html">pallet.crate.automated-admin-user</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.crontab.html">pallet.crate.crontab</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.environment.html">pallet.crate.environment</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.etc-default.html">pallet.crate.etc-default</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.etc-hosts.html">pallet.crate.etc-hosts</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.filesystem.html">pallet.crate.filesystem</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.initd.html">pallet.crate.initd</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.limits-conf.html">pallet.crate.limits-conf</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.network-service.html">pallet.crate.network-service</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.nohup.html">pallet.crate.nohup</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.os.html">pallet.crate.os</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.package.centos.html">pallet.crate.package.centos</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.package.debian-backports.html">pallet.crate.package.debian-backports</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.package.epel.html">pallet.crate.package.epel</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.package.jpackage.html">pallet.crate.package.jpackage</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.package.rpmforge.html">pallet.crate.package.rpmforge</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.package-repo.html">pallet.crate.package-repo</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.service.html">pallet.crate.service</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.ssh-key.html">pallet.crate.ssh-key</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.sudoers.html">pallet.crate.sudoers</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate-install.html">pallet.crate-install</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.debug.html">pallet.debug</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.echo.execute.html">pallet.echo.execute</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.enlive.html">pallet.enlive</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.environment.html">pallet.environment</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.environment-impl.html">pallet.environment-impl</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.event.html">pallet.event</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.execute.html">pallet.execute</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.executors.html">pallet.executors</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.feature.html">pallet.feature</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.futures.html">pallet.futures</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.local.execute.html">pallet.local.execute</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.main.html">pallet.main</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.main-invoker.html">pallet.main-invoker</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.md5crypt.html">pallet.md5crypt</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.node.html">pallet.node</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.node-value.html">pallet.node-value</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.phase.html">pallet.phase</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.plugin.html">pallet.plugin</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.project.html">pallet.project</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.project.load.html">pallet.project.load</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.project.loader.html">pallet.project.loader</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.script.lib.html">pallet.script.lib</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.script-builder.html">pallet.script-builder</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.script-exec.html">pallet.script-exec</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.session.action-plan.html">pallet.session.action-plan</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.session.verify.html">pallet.session.verify</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.ssh.credentials.html">pallet.ssh.credentials</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.ssh.execute.html">pallet.ssh.execute</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.strint.html">pallet.strint</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.html">pallet.task</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.add-service.html">pallet.task.add-service</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.bootstrap.html">pallet.task.bootstrap</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.config.html">pallet.task.config</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.containers.html">pallet.task.containers</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.converge.html">pallet.task.converge</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.describe-node.html">pallet.task.describe-node</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.down.html">pallet.task.down</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.help.html">pallet.task.help</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.images.html">pallet.task.images</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.lift.html">pallet.task.lift</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.nodes.html">pallet.task.nodes</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.project-init.html">pallet.task.project-init</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.providers.html">pallet.task.providers</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.to-blob.html">pallet.task.to-blob</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.up.html">pallet.task.up</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.version.html">pallet.task.version</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task-utils.html">pallet.task-utils</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.template.html">pallet.template</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.template.properties.html">pallet.template.properties</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.utils.html">pallet.utils</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.version-dispatch.html">pallet.version-dispatch</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.versions.html">pallet.versions</a></li>
        </ul>
      </div>
      <div id="vars" class="sidebar">
        <h3>Public Vars</h3>
        <ul class="ns-var-links">
          <li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action.html#var-action-fn">action-fn</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action.html#var-action-options">action-options</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action.html#var-assoc-action-options">assoc-action-options</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action.html#var-clj-action">clj-action</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action.html#var-clj-action-fn">clj-action-fn</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action.html#var-declare-action">declare-action</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action.html#var-declare-aggregated-crate-action">declare-aggregated-crate-action</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action.html#var-declare-collected-crate-action">declare-collected-crate-action</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action.html#var-declare-delayed-crate-action">declare-delayed-crate-action</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action.html#var-defaction">defaction</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action.html#var-enter-scope">enter-scope</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action.html#var-get-action-options">get-action-options</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action.html#var-implement-action">implement-action</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action.html#var-implement-action*">implement-action*</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action.html#var-implementation">implementation</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action.html#var-insert-action">insert-action</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action.html#var-leave-scope">leave-scope</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action.html#var-update-action-options">update-action-options</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action.html#var-with-action-options">with-action-options</a></li>
        </ul>
      </div>
    </navigation>
    <article>
      <div id="content" class="namespace-docs">
        <h2 class="namespace-title">pallet.action documentation</h2>
        <div class="doc"><p>Actions are the primitives that are called by crate functions.</p>

<p>Actions can have multiple implementations, but by default most are
implemented as script to be executed on the remote node.</p>

<p>An action has an :execution, which is one of :aggregated, :in-sequence,
:collected, :delayed-crate-fn or :aggregated-crate-fn.</p>

<p>Calls to :aggregated actions will be grouped, and run before
:in-sequence actions. Calls to :collected actions will be grouped, and run
after :in-sequence actions.</p>

<p>Calls to :delayed-crate-fn and :aggregated-crate-fn actions are evaluated
at action plan translation time, which provides a mechanism for calling
crate functions after all other crate functions have been called.</p>
</div>
        <div class="ns-vars">
          <div class="public">
            <h3><a id="var-action-fn" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action.clj#L266">action-fn</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[action-inserter dispatch-val]</div>
            
            
            <div class="doc"><p>Returns the function for an implementation of an action from an action
inserter.</p>
</div>
          </div><div class="public">
            <h3><a id="var-action-options" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action.clj#L39">action-options</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[session]</div>
            
            
            <div class="doc"><p>Return any action-options currently defined on the session.</p>
</div>
          </div><div class="public">
            <h3><a id="var-assoc-action-options" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action.clj#L54">assoc-action-options</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[m]</div>
            
            
            <div class="doc"><p>Set precedence modifiers defined on the session.</p>
</div>
          </div><div class="public">
            <h3><a id="var-clj-action" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action.clj#L318">clj-action</a></h3>
            <h4 class="var-type macro" id="var-type">macro</h4>
            <div class="usage">[args &amp; impl]</div>
            
            
            <div class="doc"><p>Creates a clojure action with a :direct implementation.</p>
</div>
          </div><div class="public">
            <h3><a id="var-clj-action-fn" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action.clj#L305">clj-action-fn</a></h3>
            <h4 class="var-type macro" id="var-type">macro</h4>
            <div class="usage">[args &amp; impl]</div>
            
            
            <div class="doc"><p>Creates a clojure action with a :direct implementation. The first argument
will be the session. The clojure code can not return a modified session (use a
full action to do that.</p>
</div>
          </div><div class="public">
            <h3><a id="var-declare-action" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action.clj#L124">declare-action</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[action-symbol metadata]</div>
            
            
            <div class="doc"><p>Declare an action. The action-name is a symbol (not necessarily referring to
a Var).</p>

<p> The execution model can be specified using the :execution key in <code>metadata</code>,
 with one of the following possible values:</p>

<p> :in-sequence - The generated action will be applied to the node
      "in order", as it is defined lexically in the source crate.
      This is the default.
 :aggregated - All aggregated actions are applied to the node
      in the order they are defined, but before all :in-sequence
      actions. Note that all of the arguments to any given
      action function are gathered such that there is only ever one
      invocation of each fn within each phase.
 :collected - All collected actions are applied to the node
      in the order they are defined, but after all :in-sequence
      action. Note that all of the arguments to any given
      action function are gathered such that there is only ever one
      invocation of each fn within each phase.
 :delayed-crate-fn - delayed crate functions are phase functions that
      are executed at action-plan translation time.
 :aggregated-crate-fn - aggregate crate functions are phase functions that are
      executed at action-plan translation time, with aggregated arguments, as
      for :aggregated.</p>
</div>
          </div><div class="public">
            <h3><a id="var-declare-aggregated-crate-action" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action.clj#L289">declare-aggregated-crate-action</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[sym f]</div>
            
            
            <div class="doc"><p>Declare an action for an aggregated crate function. A delayed crate function
becomes an action with a single, :default, implementation.</p>
</div>
          </div><div class="public">
            <h3><a id="var-declare-collected-crate-action" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action.clj#L297">declare-collected-crate-action</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[sym f]</div>
            
            
            <div class="doc"><p>Declare an action for an collected crate function. A delayed crate function
becomes an action with a single, :default, implementation.</p>
</div>
          </div><div class="public">
            <h3><a id="var-declare-delayed-crate-action" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action.clj#L281">declare-delayed-crate-action</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[sym f]</div>
            
            
            <div class="doc"><p>Declare an action for a delayed crate function. A delayed crate function
becomes an action with a single, :default, implementation.</p>
</div>
          </div><div class="public">
            <h3><a id="var-defaction" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action.clj#L183">defaction</a></h3>
            <h4 class="var-type macro" id="var-type">macro</h4>
            <div class="usage">[action-name attr-map? [params*]]</div>
            
            
            <div class="doc"><p>Declares a named action.</p>
</div>
          </div><div class="public">
            <h3><a id="var-enter-scope" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action.clj#L330">enter-scope</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[]</div>
            
            
            <div class="doc"><p>Enter a new action scope.</p>
</div>
          </div><div class="public">
            <h3><a id="var-get-action-options" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action.clj#L44">get-action-options</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[]</div>
            
            
            <div class="doc"><p>Return any action-options currently defined on the session.</p>
</div>
          </div><div class="public">
            <h3><a id="var-implement-action" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action.clj#L232">implement-action</a></h3>
            <h4 class="var-type macro" id="var-type">macro</h4>
            <div class="usage">[action-name dispatch-val attr-map? [params*]]</div>
            
            
            <div class="doc"><p>Define an implementation of an action. The dispatch-val is used to dispatch
on.</p>
</div>
          </div><div class="public">
            <h3><a id="var-implement-action*" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action.clj#L218">implement-action*</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[action-inserter dispatch-val metadata f]</div>
            
            
            <div class="doc"><p>Define an implementation of an action given the <code>action-inserter</code> function.</p>
</div>
          </div><div class="public">
            <h3><a id="var-implementation" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action.clj#L251">implementation</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[{:keys [action], :as action-map} dispatch-val]</div>
            
            
            <div class="doc"><p>Returns the metadata and function for an implementation of an action from an
action map.</p>
</div>
          </div><div class="public">
            <h3><a id="var-insert-action" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action.clj#L99">insert-action</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[session action-map]</div>
            
            
            <div class="doc"><p>Registers an action map in the action plan for execution. This function is
responsible for creating a node-value (as node-value-path's have to be unique
for all instances of an aggregated action) as a handle to the value that will
be returned when the action map is executed.</p>
</div>
          </div><div class="public">
            <h3><a id="var-leave-scope" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action.clj#L335">leave-scope</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[]</div>
            
            
            <div class="doc"><p>Leave the current action scope.</p>
</div>
          </div><div class="public">
            <h3><a id="var-update-action-options" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action.clj#L49">update-action-options</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[m]</div>
            
            
            <div class="doc"><p>Update any precedence modifiers defined on the session</p>
</div>
          </div><div class="public">
            <h3><a id="var-with-action-options" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action.clj#L59">with-action-options</a></h3>
            <h4 class="var-type macro" id="var-type">macro</h4>
            <div class="usage">[m &amp; body]</div>
            
            
            <div class="doc"><p>Set up local precedence relations between actions, and allows override
of user options.</p>

<p><code>:script-dir</code>
: Controls the directory the script is executed in.</p>

<p><code>:sudo-user</code>
: Controls the user the action runs as.</p>

<p><code>:script-prefix</code>
: Specify a prefix for the script. Disable sudo using <code>:no-sudo</code>. Defaults to
  <code>:sudo</code>.</p>

<p><code>:script-env</code>
: Specify a map of environment variables.</p>

<p><code>:script-comments</code>
: Control the generation of script line number comments</p>

<p><code>:new-login-after-action</code>
: Force a new ssh login after the action.  Useful if the action effects the
  login environment and you want the affect to be visible immediately.</p>
</div>
          </div>
        </div>
      </div>
    </article>
  </body>

</html>