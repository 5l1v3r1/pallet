<html lang="en">
  <head>
    <title>pallet.compute documentation</title>
    <link href="css/default.css" type="text/css" rel="stylesheet" />
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/page_effects.js"></script>
  </head>
  <body>
    <header>
      <div id="header">
        <h1><a href="http://palletops.com"><span class="project-title">Pallet 0.8 API documentation</span></a></h1>
      </div>
      <div>
        <p><a href="http://palletops.com">Pallet project</a></p>
      </div>
    </header>
    <navigation>
      <div id="namespaces" class="sidebar">
        <h3>Namespaces</h3>
        <ul class="ns-links">
          <li class="ns-link"><a href="pallet.action.html">pallet.action</a></li><li class="ns-link"><a href="pallet.action-impl.html">pallet.action-impl</a></li><li class="ns-link"><a href="pallet.action-plan.html">pallet.action-plan</a></li><li class="ns-link"><a href="pallet.actions.html">pallet.actions</a></li><li class="ns-link"><a href="pallet.actions.direct.html">pallet.actions.direct</a></li><li class="ns-link"><a href="pallet.actions.direct.conditional.html">pallet.actions.direct.conditional</a></li><li class="ns-link"><a href="pallet.actions.direct.directory.html">pallet.actions.direct.directory</a></li><li class="ns-link"><a href="pallet.actions.direct.exec-script.html">pallet.actions.direct.exec-script</a></li><li class="ns-link"><a href="pallet.actions.direct.file.html">pallet.actions.direct.file</a></li><li class="ns-link"><a href="pallet.actions.direct.package.html">pallet.actions.direct.package</a></li><li class="ns-link"><a href="pallet.actions.direct.remote-directory.html">pallet.actions.direct.remote-directory</a></li><li class="ns-link"><a href="pallet.actions.direct.remote-file.html">pallet.actions.direct.remote-file</a></li><li class="ns-link"><a href="pallet.actions.direct.retry.html">pallet.actions.direct.retry</a></li><li class="ns-link"><a href="pallet.actions.direct.rsync.html">pallet.actions.direct.rsync</a></li><li class="ns-link"><a href="pallet.actions.direct.service.html">pallet.actions.direct.service</a></li><li class="ns-link"><a href="pallet.actions.direct.settings.html">pallet.actions.direct.settings</a></li><li class="ns-link"><a href="pallet.actions.direct.user.html">pallet.actions.direct.user</a></li><li class="ns-link"><a href="pallet.actions-impl.html">pallet.actions-impl</a></li><li class="ns-link"><a href="pallet.api.html">pallet.api</a></li><li class="ns-link"><a href="pallet.argument.html">pallet.argument</a></li><li class="ns-link"><a href="pallet.blobstore.html">pallet.blobstore</a></li><li class="ns-link"><a href="pallet.blobstore.implementation.html">pallet.blobstore.implementation</a></li><li class="ns-link"><a href="pallet.blobstore.url-blobstore.html">pallet.blobstore.url-blobstore</a></li><li class="ns-link"><a href="pallet.cache.html">pallet.cache</a></li><li class="ns-link"><a href="pallet.cache.impl.html">pallet.cache.impl</a></li><li class="ns-link"><a href="pallet.command-line.html">pallet.command-line</a></li><li class="ns-link"><a href="pallet.command-script.html">pallet.command-script</a></li><li class="ns-link"><a href="pallet.compute.html">pallet.compute</a></li><li class="ns-link"><a href="pallet.compute.hybrid.html">pallet.compute.hybrid</a></li><li class="ns-link"><a href="pallet.compute.implementation.html">pallet.compute.implementation</a></li><li class="ns-link"><a href="pallet.compute.jvm.html">pallet.compute.jvm</a></li><li class="ns-link"><a href="pallet.compute.node-list.html">pallet.compute.node-list</a></li><li class="ns-link"><a href="pallet.config-file.format.html">pallet.config-file.format</a></li><li class="ns-link"><a href="pallet.configure.html">pallet.configure</a></li><li class="ns-link"><a href="pallet.context.html">pallet.context</a></li><li class="ns-link"><a href="pallet.core.html">pallet.core</a></li><li class="ns-link"><a href="pallet.core.api.html">pallet.core.api</a></li><li class="ns-link"><a href="pallet.core.api-impl.html">pallet.core.api-impl</a></li><li class="ns-link"><a href="pallet.core.operations.html">pallet.core.operations</a></li><li class="ns-link"><a href="pallet.core.plan-state.html">pallet.core.plan-state</a></li><li class="ns-link"><a href="pallet.core.primitives.html">pallet.core.primitives</a></li><li class="ns-link"><a href="pallet.core.session.html">pallet.core.session</a></li><li class="ns-link"><a href="pallet.core.thread-local.html">pallet.core.thread-local</a></li><li class="ns-link"><a href="pallet.core.user.html">pallet.core.user</a></li><li class="ns-link"><a href="pallet.crate.html">pallet.crate</a></li><li class="ns-link"><a href="pallet.crate.automated-admin-user.html">pallet.crate.automated-admin-user</a></li><li class="ns-link"><a href="pallet.crate.crontab.html">pallet.crate.crontab</a></li><li class="ns-link"><a href="pallet.crate.environment.html">pallet.crate.environment</a></li><li class="ns-link"><a href="pallet.crate.etc-default.html">pallet.crate.etc-default</a></li><li class="ns-link"><a href="pallet.crate.etc-hosts.html">pallet.crate.etc-hosts</a></li><li class="ns-link"><a href="pallet.crate.filesystem.html">pallet.crate.filesystem</a></li><li class="ns-link"><a href="pallet.crate.network-service.html">pallet.crate.network-service</a></li><li class="ns-link"><a href="pallet.crate.package.centos.html">pallet.crate.package.centos</a></li><li class="ns-link"><a href="pallet.crate.package.debian-backports.html">pallet.crate.package.debian-backports</a></li><li class="ns-link"><a href="pallet.crate.package.epel.html">pallet.crate.package.epel</a></li><li class="ns-link"><a href="pallet.crate.package.jpackage.html">pallet.crate.package.jpackage</a></li><li class="ns-link"><a href="pallet.crate.package.rpmforge.html">pallet.crate.package.rpmforge</a></li><li class="ns-link"><a href="pallet.crate.package-repo.html">pallet.crate.package-repo</a></li><li class="ns-link"><a href="pallet.crate.ssh-key.html">pallet.crate.ssh-key</a></li><li class="ns-link"><a href="pallet.crate.sudoers.html">pallet.crate.sudoers</a></li><li class="ns-link"><a href="pallet.crate-install.html">pallet.crate-install</a></li><li class="ns-link"><a href="pallet.debug.html">pallet.debug</a></li><li class="ns-link"><a href="pallet.echo.execute.html">pallet.echo.execute</a></li><li class="ns-link"><a href="pallet.enlive.html">pallet.enlive</a></li><li class="ns-link"><a href="pallet.environment.html">pallet.environment</a></li><li class="ns-link"><a href="pallet.event.html">pallet.event</a></li><li class="ns-link"><a href="pallet.execute.html">pallet.execute</a></li><li class="ns-link"><a href="pallet.executors.html">pallet.executors</a></li><li class="ns-link"><a href="pallet.feature.html">pallet.feature</a></li><li class="ns-link"><a href="pallet.futures.html">pallet.futures</a></li><li class="ns-link"><a href="pallet.local.execute.html">pallet.local.execute</a></li><li class="ns-link"><a href="pallet.main.html">pallet.main</a></li><li class="ns-link"><a href="pallet.main-invoker.html">pallet.main-invoker</a></li><li class="ns-link"><a href="pallet.md5crypt.html">pallet.md5crypt</a></li><li class="ns-link"><a href="pallet.node.html">pallet.node</a></li><li class="ns-link"><a href="pallet.node-value.html">pallet.node-value</a></li><li class="ns-link"><a href="pallet.phase.html">pallet.phase</a></li><li class="ns-link"><a href="pallet.plugin.html">pallet.plugin</a></li><li class="ns-link"><a href="pallet.repl.html">pallet.repl</a></li><li class="ns-link"><a href="pallet.script.lib.html">pallet.script.lib</a></li><li class="ns-link"><a href="pallet.script-builder.html">pallet.script-builder</a></li><li class="ns-link"><a href="pallet.script-exec.html">pallet.script-exec</a></li><li class="ns-link"><a href="pallet.session.action-plan.html">pallet.session.action-plan</a></li><li class="ns-link"><a href="pallet.session.verify.html">pallet.session.verify</a></li><li class="ns-link"><a href="pallet.ssh.execute.html">pallet.ssh.execute</a></li><li class="ns-link"><a href="pallet.strint.html">pallet.strint</a></li><li class="ns-link"><a href="pallet.task.add-service.html">pallet.task.add-service</a></li><li class="ns-link"><a href="pallet.task.config.html">pallet.task.config</a></li><li class="ns-link"><a href="pallet.task.containers.html">pallet.task.containers</a></li><li class="ns-link"><a href="pallet.task.converge.html">pallet.task.converge</a></li><li class="ns-link"><a href="pallet.task.converge-cluster.html">pallet.task.converge-cluster</a></li><li class="ns-link"><a href="pallet.task.describe-node.html">pallet.task.describe-node</a></li><li class="ns-link"><a href="pallet.task.destroy-cluster.html">pallet.task.destroy-cluster</a></li><li class="ns-link"><a href="pallet.task.help.html">pallet.task.help</a></li><li class="ns-link"><a href="pallet.task.images.html">pallet.task.images</a></li><li class="ns-link"><a href="pallet.task.lift.html">pallet.task.lift</a></li><li class="ns-link"><a href="pallet.task.new-project.html">pallet.task.new-project</a></li><li class="ns-link"><a href="pallet.task.nodes.html">pallet.task.nodes</a></li><li class="ns-link"><a href="pallet.task.providers.html">pallet.task.providers</a></li><li class="ns-link"><a href="pallet.task.to-blob.html">pallet.task.to-blob</a></li><li class="ns-link"><a href="pallet.task.version.html">pallet.task.version</a></li><li class="ns-link"><a href="pallet.template.html">pallet.template</a></li><li class="ns-link"><a href="pallet.template.properties.html">pallet.template.properties</a></li><li class="ns-link"><a href="pallet.utils.html">pallet.utils</a></li><li class="ns-link"><a href="pallet.version-dispatch.html">pallet.version-dispatch</a></li><li class="ns-link"><a href="pallet.versions.html">pallet.versions</a></li>
        </ul>
      </div>
      <div id="vars" class="sidebar">
        <h3>Public Vars</h3>
        <ul class="ns-var-links">
          <li class="ns-var-link"><a href="pallet.compute.html#var-NodeTagReader">NodeTagReader</a></li><li class="ns-var-link"><a href="pallet.compute.html#var-NodeTagWriter">NodeTagWriter</a></li><li class="ns-var-link"><a href="pallet.compute.html#var-admin-group">admin-group</a></li><li class="ns-var-link"><a href="pallet.compute.html#var-base-distribution">base-distribution</a></li><li class="ns-var-link"><a href="pallet.compute.html#var-boot-if-down">boot-if-down</a></li><li class="ns-var-link"><a href="pallet.compute.html#var-compute-service">compute-service</a></li><li class="ns-var-link"><a href="pallet.compute.html#var-defmulti-os">defmulti-os</a></li><li class="ns-var-link"><a href="pallet.compute.html#var-ensure-os-family">ensure-os-family</a></li><li class="ns-var-link"><a href="pallet.compute.html#var-node-tag">node-tag</a></li><li class="ns-var-link"><a href="pallet.compute.html#var-node-taggable%3F">node-taggable?</a></li><li class="ns-var-link"><a href="pallet.compute.html#var-node-tags">node-tags</a></li><li class="ns-var-link"><a href="pallet.compute.html#var-nodes">nodes</a></li><li class="ns-var-link"><a href="pallet.compute.html#var-packager">packager</a></li><li class="ns-var-link"><a href="pallet.compute.html#var-packager-for-os">packager-for-os</a></li><li class="ns-var-link"><a href="pallet.compute.html#var-reboot">reboot</a></li><li class="ns-var-link"><a href="pallet.compute.html#var-run-nodes">run-nodes</a></li><li class="ns-var-link"><a href="pallet.compute.html#var-service-properties">service-properties</a></li><li class="ns-var-link"><a href="pallet.compute.html#var-shutdown">shutdown</a></li><li class="ns-var-link"><a href="pallet.compute.html#var-shutdown-node">shutdown-node</a></li><li class="ns-var-link"><a href="pallet.compute.html#var-supported-providers">supported-providers</a></li><li class="ns-var-link"><a href="pallet.compute.html#var-tag-node%21">tag-node!</a></li>
        </ul>
      </div>
    </navigation>
    <article>
      <div id="content" class="namespace-docs">
        <h2 class="namespace-title">pallet.compute documentation</h2>
        <div class="doc"><p>Abstraction of the compute interface</p>
</div>
        <div class="ns-vars">
          <div class="public">
            <h3><a id="var-NodeTagReader" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/compute.clj#L68">NodeTagReader</a></h3>
            
            
            
            <div class="doc"><p>Provides a SPI for tagging nodes with values.</p>
</div>
          </div><div class="public">
            <h3><a id="var-NodeTagWriter" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/compute.clj#L75">NodeTagWriter</a></h3>
            
            
            
            <div class="doc"><p>Provides a SPI for adding tags to nodes.</p>
</div>
          </div><div class="public">
            <h3><a id="var-admin-group" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/compute.clj#L201">admin-group</a></h3>
            <div class="usage">[target]</div><div class="usage">[os-family os-version]</div>
            
            
            <div class="doc"><p>User that remote commands are run under</p>
</div>
          </div><div class="public">
            <h3><a id="var-base-distribution" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/compute.clj#L182">base-distribution</a></h3>
            <div class="usage">[target]</div>
            
            
            <div class="doc"><p>Base distribution for the target.</p>
</div>
          </div><div class="public">
            <h3><a id="var-boot-if-down" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/#L">boot-if-down</a></h3>
            <div class="usage">[compute nodes]</div>
            
            
            <div class="doc"><p>Boot the specified nodes, if they are not running.</p>
</div>
          </div><div class="public">
            <h3><a id="var-compute-service" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/compute.clj#L18">compute-service</a></h3>
            <div class="usage">[provider-name &amp; {:keys [identity credential extensions node-list endpoint environment sub-services], :as options}]</div>
            
            
            <div class="doc"><p>Instantiate a compute service. The provider name should be a recognised
jclouds provider, or "node-list". The other arguments are keyword value
pairs.
- :identity     username or key
- :credential   password or secret
- :extensions   extension modules for jclouds
- :node-list    a list of nodes for the "node-list" provider.
- :environment  an environment map with service specific values.</p>
</div>
          </div><div class="public">
            <h3><a id="var-defmulti-os" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/compute.clj#L122">defmulti-os</a></h3>
            <div class="usage">[name [&amp; args]]</div>
            
            
            <div class="doc"><p>Defines a defmulti used to abstract over the target operating system. The
function dispatches based on the target operating system, that is extracted
from the session passed as the first argument.</p>

<p>Version comparisons are not included</p>
</div>
          </div><div class="public">
            <h3><a id="var-ensure-os-family" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/#L">ensure-os-family</a></h3>
            <div class="usage">[compute group-spec]</div>
            
            
            <div class="doc"><p>Called on startup of a new node to ensure group-spec has an os-family
attached to it.</p>
</div>
          </div><div class="public">
            <h3><a id="var-node-tag" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/#L">node-tag</a></h3>
            <div class="usage">[compute node tag-name]</div><div class="usage">[compute node tag-name default-value]</div>
            
            
            <div class="doc"><p>Return the specified tag on the node.</p>
</div>
          </div><div class="public">
            <h3><a id="var-node-taggable%3F" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/#L">node-taggable?</a></h3>
            <div class="usage">[compute node]</div>
            
            
            <div class="doc"><p>Predicate to test the availability of tags on a node.</p>
</div>
          </div><div class="public">
            <h3><a id="var-node-tags" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/#L">node-tags</a></h3>
            <div class="usage">[compute node]</div>
            
            
            <div class="doc"><p>Return the tags on the node.</p>
</div>
          </div><div class="public">
            <h3><a id="var-nodes" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/#L">nodes</a></h3>
            <div class="usage">[compute]</div>
            
            
            <div class="doc"><p>List nodes</p>
</div>
          </div><div class="public">
            <h3><a id="var-packager" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/compute.clj#L159">packager</a></h3>
            <div class="usage">[target]</div>
            
            
            <div class="doc"><p>Package manager</p>
</div>
          </div><div class="public">
            <h3><a id="var-packager-for-os" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/compute.clj#L142">packager-for-os</a></h3>
            <div class="usage">[os-family os-version]</div>
            
            
            <div class="doc"><p>Package manager</p>
</div>
          </div><div class="public">
            <h3><a id="var-reboot" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/#L">reboot</a></h3>
            <div class="usage">[compute nodes]</div>
            
            
            <div class="doc"><p>Reboot the specified nodes</p>
</div>
          </div><div class="public">
            <h3><a id="var-run-nodes" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/#L">run-nodes</a></h3>
            <div class="usage">[compute group-spec node-count user init-script options]</div>
            
            
            <div class="doc"><p>Start node-count nodes for group-spec, executing an init-script
on each, using the specified user and options.</p>
</div>
          </div><div class="public">
            <h3><a id="var-service-properties" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/#L">service-properties</a></h3>
            <div class="usage">[compute]</div>
            
            
            <div class="doc"><p>Return a map of service details.  Contains a :provider key at a minimum.
May contain current credentials.</p>
</div>
          </div><div class="public">
            <h3><a id="var-shutdown" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/#L">shutdown</a></h3>
            <div class="usage">[compute nodes user]</div>
            
            
            <div class="doc"><p>Shutdown specified nodes</p>
</div>
          </div><div class="public">
            <h3><a id="var-shutdown-node" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/#L">shutdown-node</a></h3>
            <div class="usage">[compute node user]</div>
            
            
            <div class="doc"><p>Shutdown a node.</p>
</div>
          </div><div class="public">
            <h3><a id="var-supported-providers" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/compute.clj#L11">supported-providers</a></h3>
            <div class="usage">[]</div>
            
            
            <div class="doc"><p>A list of supported provider names.  Each name is suitable to be passed
to compute-service.</p>
</div>
          </div><div class="public">
            <h3><a id="var-tag-node%21" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/#L">tag-node!</a></h3>
            <div class="usage">[compute node tag-name value]</div>
            
            
            <div class="doc"><p>Set a value on the given tag-name on the node.</p>
</div>
          </div>
        </div>
      </div>
    </article>
  </body>

</html>