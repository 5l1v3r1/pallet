<html lang="en">
  <head>
    <title>pallet.action-plan documentation</title>
    <link href="css/default.css" type="text/css" rel="stylesheet" />
    <link href="css/codox-md.css" type="text/css" rel="stylesheet" />
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/page_effects.js"></script>
  </head>
  <body>
    <header>
    <div data-scrollspy="scrollspy" class="topbar">
      <div class="topbar-inner">
        <div class="container">
          <a href="/" class="brand">Pallet</a>
          <ul class="nav">
            <li class=""><a href="/doc">Documentation</a></li>
            <li class=""><a href="/news">News</a></li>
            <li class=""><a href="/blog">Blog</a></li>
            <li class=""><a href="https://github.com/pallet/pallet">Code</a></li>
            <li class=""><a href="/services">Services</a></li>
            <li class=""><a href="/support">Support</a></li>
            <li class=""><a href="/contact">Contact</a></li>
          </ul>
          <form action="http://www.google.com/search" method="get" class="pull-right">
            <input placeholder="Search" value="" maxlength="255" name="q" type="text" />
            <input value="palletops.com" type="hidden" name="sitesearch" />
          </form>
        </div>
      </div>
    </div>
      <div id="header">
        <h1><a href="http://palletops.com"><span class="project-title">Pallet 0.8.0-RC.4 API documentation</span></a></h1>
      </div>
    </header>
    <navigation>
      <div id="namespaces" class="sidebar">
        <h3>Namespaces</h3>
        <ul class="ns-links">
          <li class="ns-list"><a class="ns-link ns-name" href="cfg.current.html">cfg.current</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.action.html">pallet.action</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.action-impl.html">pallet.action-impl</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.action-plan.html">pallet.action-plan</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.html">pallet.actions</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.direct.html">pallet.actions.direct</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.direct.conditional.html">pallet.actions.direct.conditional</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.direct.directory.html">pallet.actions.direct.directory</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.direct.exec-script.html">pallet.actions.direct.exec-script</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.direct.file.html">pallet.actions.direct.file</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.direct.package.html">pallet.actions.direct.package</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.direct.remote-directory.html">pallet.actions.direct.remote-directory</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.direct.remote-file.html">pallet.actions.direct.remote-file</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.direct.retry.html">pallet.actions.direct.retry</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.direct.rsync.html">pallet.actions.direct.rsync</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.direct.service.html">pallet.actions.direct.service</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.direct.settings.html">pallet.actions.direct.settings</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions.direct.user.html">pallet.actions.direct.user</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.actions-impl.html">pallet.actions-impl</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.api.html">pallet.api</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.argument.html">pallet.argument</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.blobstore.html">pallet.blobstore</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.blobstore.implementation.html">pallet.blobstore.implementation</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.blobstore.url-blobstore.html">pallet.blobstore.url-blobstore</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.command-line.html">pallet.command-line</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.compute.html">pallet.compute</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.compute.hybrid.html">pallet.compute.hybrid</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.compute.implementation.html">pallet.compute.implementation</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.compute.jvm.html">pallet.compute.jvm</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.compute.localhost.html">pallet.compute.localhost</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.compute.node-list.html">pallet.compute.node-list</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.config-file.format.html">pallet.config-file.format</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.configure.html">pallet.configure</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.context.html">pallet.context</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.contracts.html">pallet.contracts</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.core.html">pallet.core</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.core.api.html">pallet.core.api</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.core.api-impl.html">pallet.core.api-impl</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.core.data-api.html">pallet.core.data-api</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.core.operations.html">pallet.core.operations</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.core.plan-state.html">pallet.core.plan-state</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.core.primitives.html">pallet.core.primitives</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.core.session.html">pallet.core.session</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.core.thread-local.html">pallet.core.thread-local</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.core.user.html">pallet.core.user</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.core.version-dispatch.html">pallet.core.version-dispatch</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.html">pallet.crate</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.automated-admin-user.html">pallet.crate.automated-admin-user</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.crontab.html">pallet.crate.crontab</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.environment.html">pallet.crate.environment</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.etc-default.html">pallet.crate.etc-default</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.etc-hosts.html">pallet.crate.etc-hosts</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.filesystem.html">pallet.crate.filesystem</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.initd.html">pallet.crate.initd</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.limits-conf.html">pallet.crate.limits-conf</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.network-service.html">pallet.crate.network-service</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.nohup.html">pallet.crate.nohup</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.os.html">pallet.crate.os</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.package.centos.html">pallet.crate.package.centos</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.package.debian-backports.html">pallet.crate.package.debian-backports</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.package.epel.html">pallet.crate.package.epel</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.package.jpackage.html">pallet.crate.package.jpackage</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.package.rpmforge.html">pallet.crate.package.rpmforge</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.package-repo.html">pallet.crate.package-repo</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.service.html">pallet.crate.service</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.ssh-key.html">pallet.crate.ssh-key</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate.sudoers.html">pallet.crate.sudoers</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.crate-install.html">pallet.crate-install</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.debug.html">pallet.debug</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.echo.execute.html">pallet.echo.execute</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.enlive.html">pallet.enlive</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.environment.html">pallet.environment</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.environment-impl.html">pallet.environment-impl</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.event.html">pallet.event</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.execute.html">pallet.execute</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.executors.html">pallet.executors</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.feature.html">pallet.feature</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.futures.html">pallet.futures</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.local.execute.html">pallet.local.execute</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.main.html">pallet.main</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.main-invoker.html">pallet.main-invoker</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.md5crypt.html">pallet.md5crypt</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.node.html">pallet.node</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.node-value.html">pallet.node-value</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.phase.html">pallet.phase</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.plugin.html">pallet.plugin</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.project.html">pallet.project</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.project.load.html">pallet.project.load</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.project.loader.html">pallet.project.loader</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.script.lib.html">pallet.script.lib</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.script-builder.html">pallet.script-builder</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.script-exec.html">pallet.script-exec</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.session.action-plan.html">pallet.session.action-plan</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.session.verify.html">pallet.session.verify</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.ssh.credentials.html">pallet.ssh.credentials</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.ssh.execute.html">pallet.ssh.execute</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.strint.html">pallet.strint</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.html">pallet.task</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.add-service.html">pallet.task.add-service</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.bootstrap.html">pallet.task.bootstrap</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.config.html">pallet.task.config</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.containers.html">pallet.task.containers</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.converge.html">pallet.task.converge</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.describe-node.html">pallet.task.describe-node</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.down.html">pallet.task.down</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.help.html">pallet.task.help</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.images.html">pallet.task.images</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.lift.html">pallet.task.lift</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.nodes.html">pallet.task.nodes</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.project-init.html">pallet.task.project-init</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.providers.html">pallet.task.providers</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.to-blob.html">pallet.task.to-blob</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.up.html">pallet.task.up</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task.version.html">pallet.task.version</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.task-utils.html">pallet.task-utils</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.template.html">pallet.template</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.template.properties.html">pallet.template.properties</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.utils.html">pallet.utils</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.version-dispatch.html">pallet.version-dispatch</a></li><li class="ns-list"><a class="ns-link ns-name" href="pallet.versions.html">pallet.versions</a></li>
        </ul>
      </div>
      <div id="vars" class="sidebar">
        <h3>Public Vars</h3>
        <ul class="ns-var-links">
          <li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action-plan.html#var-action-data">action-data</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action-plan.html#var-action-map">action-map</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action-plan.html#var-action-map-execution">action-map-execution</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action-plan.html#var-checked-commands">checked-commands</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action-plan.html#var-checked-commands*">checked-commands*</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action-plan.html#var-checked-script">checked-script</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action-plan.html#var-context-label">context-label</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action-plan.html#var-defining-context-string">defining-context-string</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action-plan.html#var-execute-action-map">execute-action-map</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action-plan.html#var-execute-if">execute-if</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action-plan.html#var-map-action-f">map-action-f</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action-plan.html#var-pop-block">pop-block</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action-plan.html#var-push-block">push-block</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action-plan.html#var-schedule-action-map">schedule-action-map</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action-plan.html#var-stop-execution-on-error">stop-execution-on-error</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action-plan.html#var-translate">translate</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.action-plan.html#var-translated%3F">translated?</a></li>
        </ul>
      </div>
    </navigation>
    <article>
      <div id="content" class="namespace-docs">
        <h2 class="namespace-title">pallet.action-plan documentation</h2>
        <div class="doc"><p>An action plan contains instances of actions (action maps) for execution.</p>

<p>The action plan is built by executing a phase function. Each phase function
calls actions which insert themselves into the action plan.</p>

<p>The action plan is transformed to provide aggregated operations, run delayed
crate functions, and to resolve precedence relations between actions.</p>

<p>A translated plan is executed by passing an executor, which is a function
that will be passed each action map in the plan.  The executor function is
responsible for selecting the implementation of the action to be used, and
calling the implementation with the action-map arguments.</p>

<p>Note this is an implementation namespace.</p>
</div>
        <div class="ns-vars">
          <div class="public">
            <h3><a id="var-action-data" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action_plan.clj#L706">action-data</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[session {:keys [action args blocks], :as action-m}]</div>
            
            
            <div class="doc"><p>Return an action's data.</p>
</div>
          </div><div class="public">
            <h3><a id="var-action-map" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action_plan.clj#L85">action-map</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[action arg-vector {:as options}]</div>
            
            
            <div class="doc"><p>Return an action map for the given <code>action</code> and <code>args</code>. The action map is an
instance of an action. The action plan is a tree of action maps.</p>

<p><code>options</code> specifies naming and dependencies for this instance of the action,
and may contain :action-id, :always-before and :always-after keys. If an
<code>options</code> is supplied, an action-id is generated if none present, to ensure
that the standard action precedence is not altered. <code>:script-dir</code> and user
options like <code>:sudo-user</code> may also be specified. <code>:script-prefix</code> can
be used to prefix with something other than sudo.</p>

<ul>
<li>:action          the action that is scheduled,</li>
<li>:args            the arguments to pass to the action function,</li>
<li>:context         captures the phase context, for use at execution time,</li>
<li>:action-id       a keyword that identifies the instance of an action,</li>
<li>:always-before   a symbol, keyword or set thereof. A symbol references an
               action, and a keyword references an instance of an action,</li>
<li>:always-after    a symbol, keyword or set thereof,</li>
<li>:node-value-path a symbol specifying a node value (added when scheduled).</li>
</ul>

<p>The action is generated by the specified action function and arguments that
will be applied to the function when the action plan is executed.</p>
</div>
          </div><div class="public">
            <h3><a id="var-action-map-execution" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action_plan.clj#L122">action-map-execution</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[action-map]</div>
            
            
            <div class="doc"><p>Helper to return the execution of the action associated with an action-map.</p>
</div>
          </div><div class="public">
            <h3><a id="var-checked-commands" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action_plan.clj#L700">checked-commands</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[name &amp; script]</div>
            
            
            <div class="doc"><p>Return a stevedore script that uses the current context to label the
action</p>
</div>
          </div><div class="public">
            <h3><a id="var-checked-commands*" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action_plan.clj#L690">checked-commands*</a></h3>
            <h4 class="var-type macro" id="var-type">macro</h4>
            <div class="usage">[name scripts]</div>
            
            
            <div class="doc"><p>Return a stevedore script that uses the current context to label the
action</p>
</div>
          </div><div class="public">
            <h3><a id="var-checked-script" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action_plan.clj#L680">checked-script</a></h3>
            <h4 class="var-type macro" id="var-type">macro</h4>
            <div class="usage">[name &amp; script]</div>
            
            
            <div class="doc"><p>Return a stevedore script that uses the current context to label the
action</p>
</div>
          </div><div class="public">
            <h3><a id="var-context-label" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action_plan.clj#L165">context-label</a></h3>
            <h4 class="var-type var" id="var-type">var</h4>
            
            
            
            <div class="doc"><p>Return a label for an action</p>
</div>
          </div><div class="public">
            <h3><a id="var-defining-context-string" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action_plan.clj#L573">defining-context-string</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[]</div>
            
            
            <div class="doc"><p>Returns a context string for the defining phase context.</p>
</div>
          </div><div class="public">
            <h3><a id="var-execute-action-map" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action_plan.clj#L579">execute-action-map</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[executor session {:keys [node-value-path context script-comments], :or {script-comments false}, :as action}]</div>
            
            
            <div class="doc"><p>Execute a single action, catching any exception and reporting it as
an error map.</p>
</div>
          </div><div class="public">
            <h3><a id="var-execute-if" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action_plan.clj#L644">execute-if</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[session {:keys [blocks], :as action} value]</div>
            
            
            <div class="doc"><p>Execute an if action</p>
</div>
          </div><div class="public">
            <h3><a id="var-map-action-f" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action_plan.clj#L538">map-action-f</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[exec-action action-plan session]</div>
            
            
            <div class="doc"><p>Map exec-action over actions in the action-plan, applying session.</p>
</div>
          </div><div class="public">
            <h3><a id="var-pop-block" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action_plan.clj#L44">pop-block</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[action-plan]</div>
            
            
            <div class="doc"><p>Take the last block and add it to the :blocks key of the scope below it in
the stack.  The block is reversed to put it into the order in which elements
were added.</p>
</div>
          </div><div class="public">
            <h3><a id="var-push-block" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action_plan.clj#L39">push-block</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[action-plan]</div>
            
            
            <div class="doc"><p>Push a block onto the action-plan</p>
</div>
          </div><div class="public">
            <h3><a id="var-schedule-action-map" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action_plan.clj#L131">schedule-action-map</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[action-plan action-map]</div>
            
            
            <div class="doc"><p>Registers an action map in the action plan for execution. This function is
responsible for creating a node-value (as node-value-path's have to be unique
for all instances of an aggregated action) as a handle to the value that will
be returned when the action map is executed.</p>
</div>
          </div><div class="public">
            <h3><a id="var-stop-execution-on-error" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action_plan.clj#L618">stop-execution-on-error</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[[result session]]</div>
            
            
            <div class="doc"><p>:execute-status-fn algorithm to stop execution on an error</p>
</div>
          </div><div class="public">
            <h3><a id="var-translate" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action_plan.clj#L488">translate</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[action-plan session]</div>
            
            
            <div class="doc"><p>Process the action-plan, applying groupings and precedence, producing
an action plan with fully bound functions, ready for execution.</p>

<p>This is equivalent to using an identity monad with a monadic value
that is a tree of action maps.</p>
</div>
          </div><div class="public">
            <h3><a id="var-translated%3F" class="source var-name" href="https://github.com/pallet/pallet/blob/develop/src/pallet/action_plan.clj#L530">translated?</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[action-plan]</div>
            
            
            <div class="doc"><p>Predicate to test if an action plan has been translated</p>
</div>
          </div>
        </div>
      </div>
    </article>
  </body>

</html>