<html lang="en">
  <head>
    <title>pallet.compute.vmfest documentation</title>
    <link href="css/default.css" type="text/css" rel="stylesheet" />
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/page_effects.js"></script>
  </head>
  <body>
    <header>
      <div id="header">
        <h1 class="project-title">Pallet 0.6 API documentation</h1>
      </div>
    </header>
    <navigation>
      <div id="namespaces" class="sidebar">
        <h3>Namespaces</h3>
        <ul class="ns-links">
          <li class="ns-link"><a href="pallet.action.html">pallet.action</a></li><li class="ns-link"><a href="pallet.action.conditional.html">pallet.action.conditional</a></li><li class="ns-link"><a href="pallet.action.directory.html">pallet.action.directory</a></li><li class="ns-link"><a href="pallet.action.environment.html">pallet.action.environment</a></li><li class="ns-link"><a href="pallet.action.exec-script.html">pallet.action.exec-script</a></li><li class="ns-link"><a href="pallet.action.file.html">pallet.action.file</a></li><li class="ns-link"><a href="pallet.action.filesystem.html">pallet.action.filesystem</a></li><li class="ns-link"><a href="pallet.action.package.html">pallet.action.package</a></li><li class="ns-link"><a href="pallet.action.package.centos.html">pallet.action.package.centos</a></li><li class="ns-link"><a href="pallet.action.package.debian-backports.html">pallet.action.package.debian-backports</a></li><li class="ns-link"><a href="pallet.action.package.epel.html">pallet.action.package.epel</a></li><li class="ns-link"><a href="pallet.action.package.jpackage.html">pallet.action.package.jpackage</a></li><li class="ns-link"><a href="pallet.action.package.rpmforge.html">pallet.action.package.rpmforge</a></li><li class="ns-link"><a href="pallet.action.remote-directory.html">pallet.action.remote-directory</a></li><li class="ns-link"><a href="pallet.action.remote-file.html">pallet.action.remote-file</a></li><li class="ns-link"><a href="pallet.action.retry.html">pallet.action.retry</a></li><li class="ns-link"><a href="pallet.action.rsync.html">pallet.action.rsync</a></li><li class="ns-link"><a href="pallet.action.service.html">pallet.action.service</a></li><li class="ns-link"><a href="pallet.action.user.html">pallet.action.user</a></li><li class="ns-link"><a href="pallet.action-plan.html">pallet.action-plan</a></li><li class="ns-link"><a href="pallet.argument.html">pallet.argument</a></li><li class="ns-link"><a href="pallet.blobstore.html">pallet.blobstore</a></li><li class="ns-link"><a href="pallet.blobstore.implementation.html">pallet.blobstore.implementation</a></li><li class="ns-link"><a href="pallet.blobstore.jclouds.html">pallet.blobstore.jclouds</a></li><li class="ns-link"><a href="pallet.blobstore.url-blobstore.html">pallet.blobstore.url-blobstore</a></li><li class="ns-link"><a href="pallet.command-line.html">pallet.command-line</a></li><li class="ns-link"><a href="pallet.command-script.html">pallet.command-script</a></li><li class="ns-link"><a href="pallet.compute.html">pallet.compute</a></li><li class="ns-link"><a href="pallet.compute.hybrid.html">pallet.compute.hybrid</a></li><li class="ns-link"><a href="pallet.compute.implementation.html">pallet.compute.implementation</a></li><li class="ns-link"><a href="pallet.compute.jclouds.html">pallet.compute.jclouds</a></li><li class="ns-link"><a href="pallet.compute.jvm.html">pallet.compute.jvm</a></li><li class="ns-link"><a href="pallet.compute.node-list.html">pallet.compute.node-list</a></li><li class="ns-link"><a href="pallet.compute.vmfest.html">pallet.compute.vmfest</a></li><li class="ns-link"><a href="pallet.config-file.format.html">pallet.config-file.format</a></li><li class="ns-link"><a href="pallet.configure.html">pallet.configure</a></li><li class="ns-link"><a href="pallet.core.html">pallet.core</a></li><li class="ns-link"><a href="pallet.crate.network-service.html">pallet.crate.network-service</a></li><li class="ns-link"><a href="pallet.debug.html">pallet.debug</a></li><li class="ns-link"><a href="pallet.enlive.html">pallet.enlive</a></li><li class="ns-link"><a href="pallet.environment.html">pallet.environment</a></li><li class="ns-link"><a href="pallet.execute.html">pallet.execute</a></li><li class="ns-link"><a href="pallet.futures.html">pallet.futures</a></li><li class="ns-link"><a href="pallet.main.html">pallet.main</a></li><li class="ns-link"><a href="pallet.main-invoker.html">pallet.main-invoker</a></li><li class="ns-link"><a href="pallet.map-merge.html">pallet.map-merge</a></li><li class="ns-link"><a href="pallet.maven.html">pallet.maven</a></li><li class="ns-link"><a href="pallet.md5crypt.html">pallet.md5crypt</a></li><li class="ns-link"><a href="pallet.node.html">pallet.node</a></li><li class="ns-link"><a href="pallet.parameter.html">pallet.parameter</a></li><li class="ns-link"><a href="pallet.phase.html">pallet.phase</a></li><li class="ns-link"><a href="pallet.repl.html">pallet.repl</a></li><li class="ns-link"><a href="pallet.request-map.html">pallet.request-map</a></li><li class="ns-link"><a href="pallet.resource.html">pallet.resource</a></li><li class="ns-link"><a href="pallet.resource.directory.html">pallet.resource.directory</a></li><li class="ns-link"><a href="pallet.resource.exec-script.html">pallet.resource.exec-script</a></li><li class="ns-link"><a href="pallet.resource.file.html">pallet.resource.file</a></li><li class="ns-link"><a href="pallet.resource.filesystem.html">pallet.resource.filesystem</a></li><li class="ns-link"><a href="pallet.resource.filesystem-layout.html">pallet.resource.filesystem-layout</a></li><li class="ns-link"><a href="pallet.resource.format.html">pallet.resource.format</a></li><li class="ns-link"><a href="pallet.resource.hostinfo.html">pallet.resource.hostinfo</a></li><li class="ns-link"><a href="pallet.resource.lib.html">pallet.resource.lib</a></li><li class="ns-link"><a href="pallet.resource.network-service.html">pallet.resource.network-service</a></li><li class="ns-link"><a href="pallet.resource.package.html">pallet.resource.package</a></li><li class="ns-link"><a href="pallet.resource.remote-directory.html">pallet.resource.remote-directory</a></li><li class="ns-link"><a href="pallet.resource.remote-file.html">pallet.resource.remote-file</a></li><li class="ns-link"><a href="pallet.resource.resource-when.html">pallet.resource.resource-when</a></li><li class="ns-link"><a href="pallet.resource.rsync.html">pallet.resource.rsync</a></li><li class="ns-link"><a href="pallet.resource.service.html">pallet.resource.service</a></li><li class="ns-link"><a href="pallet.resource.shell.html">pallet.resource.shell</a></li><li class="ns-link"><a href="pallet.resource.user.html">pallet.resource.user</a></li><li class="ns-link"><a href="pallet.script.lib.html">pallet.script.lib</a></li><li class="ns-link"><a href="pallet.session.html">pallet.session</a></li><li class="ns-link"><a href="pallet.shell.html">pallet.shell</a></li><li class="ns-link"><a href="pallet.strint.html">pallet.strint</a></li><li class="ns-link"><a href="pallet.target.html">pallet.target</a></li><li class="ns-link"><a href="pallet.task.add-service.html">pallet.task.add-service</a></li><li class="ns-link"><a href="pallet.task.containers.html">pallet.task.containers</a></li><li class="ns-link"><a href="pallet.task.converge.html">pallet.task.converge</a></li><li class="ns-link"><a href="pallet.task.converge-cluster.html">pallet.task.converge-cluster</a></li><li class="ns-link"><a href="pallet.task.describe-node.html">pallet.task.describe-node</a></li><li class="ns-link"><a href="pallet.task.destroy-cluster.html">pallet.task.destroy-cluster</a></li><li class="ns-link"><a href="pallet.task.help.html">pallet.task.help</a></li><li class="ns-link"><a href="pallet.task.images.html">pallet.task.images</a></li><li class="ns-link"><a href="pallet.task.lift.html">pallet.task.lift</a></li><li class="ns-link"><a href="pallet.task.new-project.html">pallet.task.new-project</a></li><li class="ns-link"><a href="pallet.task.nodes.html">pallet.task.nodes</a></li><li class="ns-link"><a href="pallet.task.providers.html">pallet.task.providers</a></li><li class="ns-link"><a href="pallet.task.to-blob.html">pallet.task.to-blob</a></li><li class="ns-link"><a href="pallet.task.version.html">pallet.task.version</a></li><li class="ns-link"><a href="pallet.task.vmfest-script.html">pallet.task.vmfest-script</a></li><li class="ns-link"><a href="pallet.template.html">pallet.template</a></li><li class="ns-link"><a href="pallet.template.properties.html">pallet.template.properties</a></li><li class="ns-link"><a href="pallet.utils.html">pallet.utils</a></li>
        </ul>
      </div>
      <div id="vars" class="sidebar">
        <h3>Public Vars</h3>
        <ul class="ns-var-links">
          <li class="ns-var-link"><a href="pallet.compute.vmfest.html#var-*piped-stream-buffer-size*">*piped-stream-buffer-size*</a></li><li class="ns-var-link"><a href="pallet.compute.vmfest.html#var-has-image%3F">has-image?</a></li><li class="ns-var-link"><a href="pallet.compute.vmfest.html#var-image-from-template">image-from-template</a></li><li class="ns-var-link"><a href="pallet.compute.vmfest.html#var-install-image">install-image</a></li><li class="ns-var-link"><a href="pallet.compute.vmfest.html#var-machine-model">machine-model</a></li><li class="ns-var-link"><a href="pallet.compute.vmfest.html#var-machine-model-with-parameters">machine-model-with-parameters</a></li><li class="ns-var-link"><a href="pallet.compute.vmfest.html#var-machine-name">machine-name</a></li><li class="ns-var-link"><a href="pallet.compute.vmfest.html#var-medium-formats">medium-formats</a></li><li class="ns-var-link"><a href="pallet.compute.vmfest.html#var-os-families">os-families</a></li><li class="ns-var-link"><a href="pallet.compute.vmfest.html#var-parallel-create-nodes">parallel-create-nodes</a></li><li class="ns-var-link"><a href="pallet.compute.vmfest.html#var-publish-image">publish-image</a></li><li class="ns-var-link"><a href="pallet.compute.vmfest.html#var-serial-create-nodes">serial-create-nodes</a></li><li class="ns-var-link"><a href="pallet.compute.vmfest.html#var-wait-for-ip">wait-for-ip</a></li>
        </ul>
      </div>
    </navigation>
    <article>
      <div id="content" class="namespace-docs">
        <h2 class="namespace-title">pallet.compute.vmfest documentation</h2>
        <div class="doc"><p>A vmfest provider.</p>

<p>An example service configuration in ~/.pallet/config.clj</p>

<pre><code>:vb {:provider "virtualbox"
     :images {:centos-5-3 {:description "CentOS 5.3 32bit"
                           :uuid "4697bdf7-7acf-4a20-8c28-e20b6bb58e25"
                           :os-family :centos
                           :os-version "5.3"
                           :os-type-id "RedHat"}
              :ubuntu-10-04 {:description "Ubuntu 10.04 32bit"
                             :uuid "8a31e3aa-0d46-41a5-936d-25130dcb16b7"
                             :os-family :ubuntu
                             :os-version "10.04"
                             :os-type-id "Ubuntu"
                             :username
                             :password}}
     :model-path "/Volumes/My Book/vms/disks"
     :node-path "/Volumes/My Book/vms/nodes"}
</code></pre>

<p>The uuid's can be found using vboxmanage
    vboxmanage list hdds</p>

<p>The images are disks that are immutable.  The virtualbox extensions need
to be installed on the image.</p>
</div>
        <div class="ns-vars">
          <div class="public">
            <h3 id="var-*piped-stream-buffer-size*">*piped-stream-buffer-size*</h3>
            
            
            
            <div class="doc"><p>The buffer size (in bytes) for the piped stream used to implement
the :stream option for :out. If your ssh commands generate a high volume of
output, then this buffer size can become a bottleneck. You might also
increase the frequency with which you read the output stream if this is an
issue.</p>
</div>
          </div><div class="public">
            <h3 id="var-has-image%3F">has-image?</h3>
            <div class="usage">[service image-key]</div>
            
            
            <div class="doc"><p>Predicate to test for the presence of a specific image</p>
</div>
          </div><div class="public">
            <h3 id="var-image-from-template">image-from-template</h3>
            <div class="usage">[images template]</div>
            
            
            <div class="doc"><p>Use the template to select an image from the image map.</p>
</div>
          </div><div class="public">
            <h3 id="var-install-image">install-image</h3>
            <div class="usage">[service url {:as options}]</div>
            
            
            <div class="doc"><p>Install the image from the specified <code>url</code></p>
</div>
          </div><div class="public">
            <h3 id="var-machine-model">machine-model</h3>
            <div class="usage">[image]</div>
            
            
            <div class="doc"><p>Construct a machine model function from a node image spec</p>
</div>
          </div><div class="public">
            <h3 id="var-machine-model-with-parameters">machine-model-with-parameters</h3>
            <div class="usage">[m image]</div>
            
            
            <div class="doc"><p>Set a machine basic parameters and default configuration</p>
</div>
          </div><div class="public">
            <h3 id="var-machine-name">machine-name</h3>
            <div class="usage">[group-name n]</div>
            
            
            <div class="doc"><p>Generate a machine name</p>
</div>
          </div><div class="public">
            <h3 id="var-medium-formats">medium-formats</h3>
            <div class="usage">[compute]</div>
            
            
            <div class="doc"><p>Return supported medium-formats</p>
</div>
          </div><div class="public">
            <h3 id="var-os-families">os-families</h3>
            <div class="usage">[compute]</div>
            
            
            <div class="doc"><p>Return supported os-families</p>
</div>
          </div><div class="public">
            <h3 id="var-parallel-create-nodes">parallel-create-nodes</h3>
            <div class="usage">[target-machines-to-create server node-path node-spec images image-id machine-models group-name init-script user]</div>
            
            
            <div class="doc"><p>Create all nodes for a group in parallel.</p>
</div>
          </div><div class="public">
            <h3 id="var-publish-image">publish-image</h3>
            <div class="usage">[service image blobstore container {:keys [path], :as options}]</div>
            
            
            <div class="doc"><p>Publish the image to the specified blobstore container</p>
</div>
          </div><div class="public">
            <h3 id="var-serial-create-nodes">serial-create-nodes</h3>
            <div class="usage">[target-machines-to-create server node-path node-spec images image-id machine-models group-name init-script user]</div>
            
            
            <div class="doc"><p>Create all nodes for a group in parallel.</p>
</div>
          </div><div class="public">
            <h3 id="var-wait-for-ip">wait-for-ip</h3>
            <div class="usage">[machine]</div><div class="usage">[machine timeout]</div>
            
            
            <div class="doc"><p>Wait for the machines IP to become available.</p>
</div>
          </div>
        </div>
      </div>
    </article>
  </body>

</html>